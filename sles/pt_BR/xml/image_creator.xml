<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="image_creator.xml" version="5.0" xml:id="cha.imgcreator">
 <title>Criando imagens com o Criador de Imagem do YaST</title>
 <info>
      <abstract>
        <para>
    O Criador de Imagem do YaST é a interface gráfica da ferramenta de criação de imagens KIWI (consulte <link xlink:href="http://doc.opensuse.org/projects/kiwi/doc/"/> para obter mais informações sobre o KIWI). Com o Criador de Imagem, é possível criar uma nova configuração KIWI ou importar uma existente e modificá-la, e, em seguida, criar a imagem após o término da configuração. Os usuários avançados podem gravar a configuração em disco, modificá-la e criar a imagem manualmente.
   </para>
        <para>
    Para usá-lo, você precisa instalar o pacote <systemitem class="resource">yast2-product-creator</systemitem> do SDK (Software Development Kit) do SUSE. O SDK é um módulo do SUSE Linux Enterprise que está disponível por um canal online do SUSE Customer Center. Se preferir, faça o download em <link xlink:href="http://download.suse.com/"/>. (Pesquise por <literal>SUSE Linux Enterprise Software Development Kit</literal>). Consulte <xref linkend="cha.add-ons"/> para obter os detalhes.
   </para>
      </abstract>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker>
        </dm:bugtracker>
        <dm:translation>yes (sim)</dm:translation>
      </dm:docmanager>
    </info>
    <sect1 xml:id="sec.img.create">
  <title>Criando imagens</title>

  <para>
   Para criar a imagem de um produto, faça o seguinte:
  </para>

  <procedure>
   <step>
    <para>
     Inicie o YaST e abra o módulo <guimenu>Criador de Imagem</guimenu>.
    </para>
   </step>
   <step>
    <para>
     A janela mostra uma lista da configuração de todas as imagens existentes. É possível <guimenu>Editar</guimenu> ou <guimenu>Apagar</guimenu> os complementos. Escolha <guimenu>Adicionar</guimenu> para criar um novo.
    </para>
   </step>
   <step>
    <para>
     Digite o nome da nova <guimenu>Configuração Kiwi</guimenu> e escolha se é para começar do zero ou com base na configuração KIWI existente. No último caso, informe o caminho para a configuração KIWI existente para o Criador de Imagem importá-la.
    </para>
   </step>
   <step>
    <para>
     Escolha o tipo de imagem que você precisa criar. Há várias opções: <guimenu>Imagem ISO Live</guimenu>, <guimenu>Imagem Xen</guimenu> ou <guimenu>Imagem de Disco Virtual</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Selecione o diretório de saída no qual armazenar a configuração KIWI.
    </para>
   </step>
   <step>
    <para>
     Se você executa o Criador de Imagem em uma arquitetura de 64 bits, poderá forçar o KIWI a configurar a imagem para arquitetura de 32 bits e também limitá-la apenas a i586.
    </para>
   </step>
   <step>
    <para>
     Adicione a lista de repositórios de pacotes que você precisa usar na configuração KIWI. Clique em <guimenu>Adicionar</guimenu> para adicionar um novo repositório ou em <guimenu>Adicionar do Sistema</guimenu> para adicionar repositórios configurados no sistema de execução do Criador de Imagem. Se for necessário modificar detalhes de um repositório existente, selecione-o e clique em <guimenu>Editar</guimenu>. Para remover um repositório existente, selecione-o e clique em <guimenu>Apagar</guimenu>.
    </para>
    <para>
     Continue com <guimenu>Avançar</guimenu>.
    </para>
    <figure xml:id="fig.imgcreator.repos">
     <title>Editando repositório no criador de imagem</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="image_creator.png" width="100%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="image_creator.png" width="100%"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para>
     A próxima tela apresenta quatro guias. Nela, é possível definir mais opções de configuração suportadas pelo KIWI para ajustar a imagem resultante.
    </para>
    <para>
     Na guia <guimenu>Configuração de Imagem</guimenu>, é possível definir a versão e o tamanho da imagem e modificar a seleção de software para a imagem em detalhes. É possível especificar padrões/pacotes para três seções de pacotes: os pacotes incluídos na imagem, no boot e os que devem ser apagados da imagem.
    </para>
    <figure xml:id="fig.imgcreator.tabs">
     <title>Configuração KIWI detalhada no criador de imagem</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="image_creator_tabs.png" width="100%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="image_creator_tabs.png" width="100%"/>
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     Para mudar a lista de pacotes e/ou padrões planejados para instalação (ou que devem ser ignorados), clique em <guimenu>Mudar</guimenu>, e o <guimenu>Seletor de Pacotes do YaST</guimenu> é aberto para você fazer a seleção.
    </para>
    <para>
     Na guia <guimenu>Descrição</guimenu>, preencha as informações sobre autor da imagem, descrição e configurações de idioma.
    </para>
    <para>
     A guia <guimenu>Usuários</guimenu> permite adicionar novos usuários, que devem estar disponíveis no sistema de destino.
    </para>
    <para>
     Em seguida, você pode editar os <guimenu>Scripts</guimenu> de configuração usados para criar a imagem.
    </para>
    <para>
     Por fim, defina o diretório com a configuração e os scripts do sistema na guia <guimenu>Diretórios</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Depois que você terminar de configurar a imagem, clique em <guimenu>Concluir</guimenu> para criá-la. O YaST pede para você confirmar sua escolha. Se você recusar, a configuração será gravada, e você voltará para a tela de visão geral. Se você confirmar a criação, o KIWI será iniciado, e você verá a janela de andamento com o arquivo de registro do KIWI.
    </para>
    <para>
     Se a imagem for criada com êxito, ela será gravada no diretório de saída especificado anteriormente.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
