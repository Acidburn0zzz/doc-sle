<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="deployment_prep_boot.xml" version="5.0" role="General" xml:id="cha.deployment.prep_boot">
 <title>Preparando a inicialização do sistema de destino</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker/>
   <dm:translation>yes (sim)</dm:translation>
  </dm:docmanager>
 </info>
 <para>
  O <phrase role="productname"><phrase os="sles">SUSE® Linux Enterprise Server</phrase></phrase> pode ser instalado de várias maneiras. Além da instalação comum de mídia descrita no <xref linkend="cha.inst"/>, você pode escolher uma das várias abordagens baseadas em rede ou até optar por uma abordagem totalmente sem intervenção para a instalação do <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>.
 </para>
 <para>
  Cada método é apresentado em duas listas de verificação resumidas: uma que relaciona os pré-requisitos do método e outra que ilustra o procedimento básico. São fornecidos mais detalhes para todas as técnicas usadas nos cenários de instalação.
 </para>
 <note>
  <title>Terminologia</title>
  <para>
   Nas seções a seguir, o sistema que armazenará a instalação do novo <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> é chamado de <emphasis>sistema de destino</emphasis> ou <emphasis>destino de instalação</emphasis>. O termo <emphasis>repositório</emphasis> (antes chamado de <quote>fonte de instalação</quote>) é usado para todas as fontes de dados de instalação. Isso inclui mídia física, como CD e DVD e servidores de rede que distribuem os dados de instalação na sua rede.
  </para>
 </note>
 <para>
  Esta seção aborda as tarefas de configuração necessárias em cenários complexos de inicialização. Contém exemplos de configurações prontas para aplicar referentes a DHCP, inicialização PXE, TFTP e Wake on LAN.
 </para>
 <sect1 xml:id="sec.deployment.prep_boot.dhcp">
  <title>Configurando um servidor DHCP</title>

  <para>
   Há duas maneiras de configurar um servidor DHCP. Para o <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, o YaST oferece uma interface gráfica para o processo. Os usuários podem editar os arquivos de configuração manualmente.<phrase os="sles"> Para obter mais informações sobre servidores DHCP, consulte também o <xref linkend="cha.dhcp"/>.</phrase>
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.yast">
   <title>Configurando um servidor DHCP com o YaST</title>
   <para>
    Para anunciar a localização do servidor TFTP aos clientes da rede e especificar o arquivo da imagem de boot que deve ser usado pelo destino de instalação, adicione duas declarações à configuração do servidor DHCP.
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.yast">
    <step>
     <para>
      Efetue login como <systemitem class="username">root</systemitem> na máquina que hospeda o servidor DHCP.
     </para>
    </step>
    <step>
     <para>
      Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Serviços de Rede</guimenu><guimenu>Servidor DHCP</guimenu></menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Execute o assistente de configuração para fazer a configuração básica do servidor DHCP.
     </para>
    </step>
    <step xml:id="st.deployment.prep_boot.dhcp.yast.expert">
     <para>
      Selecione <guimenu>Configurações de Especialista</guimenu> e <guimenu>Sim</guimenu> quando for notificado para sair da caixa de diálogo de inicialização.
     </para>
    </step>
    <step>
     <para>
      Na caixa de diálogo <guimenu>Declarações Configuradas</guimenu>, selecione a sub-rede na qual o novo sistema deve estar localizado e clique em <guimenu>Editar</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Na caixa de diálogo <guimenu>Configuração de Sub-rede</guimenu>, selecione <guimenu>Adicionar</guimenu> para adicionar uma nova opção à configuração da sub-rede.
     </para>
    </step>
    <step>
     <para>
      Selecione <option>nome_do_arquivo</option> e digite <literal>pxelinux.0</literal> como o valor.
     </para>
    </step>
    <step>
     <para>
      Adicione outra opção (<option>next-server</option>) e defina o valor como o endereço do servidor TFTP.
     </para>
    </step>
    <step>
     <para>
      Selecione <guimenu>OK</guimenu> e <guimenu>Finalizar</guimenu> para concluir a configuração do servidor DHCP.
     </para>
    </step>
   </procedure>
   <para>
    Para configurar o DHCP a fim de fornecer um endereço IP estático para um host específico, entre nas <guimenu>Configurações de Especialista</guimenu> do módulo de configuração do servidor DHCP (<xref linkend="st.deployment.prep_boot.dhcp.yast.expert" xrefstyle="StepOnPage"/>) e adicione uma nova declaração do tipo de host. Adicione as opções <option>hardware</option> e <option>fixed-address</option> a essa declaração de host e forneça os valores apropriados.
   </para>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.dhcp.man">
   <title>Configurando um servidor DHCP manualmente</title>
   <para>
    O que todo servidor DHCP precisa fazer, além de fornecer alocação automática de endereço aos clientes de rede, é anunciar o endereço IP do servidor TFTP e o arquivo que deve ser transferido pelas rotinas de instalação para a máquina de destino.
   </para>
   <procedure xml:id="proc.deployment.prep_boot.dhcp.man">
    <step>
     <para>
      Efetue login como <systemitem class="username">root</systemitem> na máquina que hospeda o servidor DHCP.
     </para>
    </step>
    <step>
     <para>
      Anexe as linhas seguintes a uma configuração de sub-rede do arquivo de configuração de seu servidor DHCP localizado em <filename>/etc/dhcpd.conf</filename>:
     </para>
<screen>subnet 192.168.1.0 netmask 255.255.255.0 {
  range dynamic-bootp 192.168.1.200 192.168.1.228;
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>;
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename  "pxelinux.0";
}</screen>
     <para>
      Substitua <replaceable>ip_servidor_tftp</replaceable> pelo endereço IP real do servidor TFTP. Para obter mais informações sobre as opções disponíveis em <filename>dhcpd.conf</filename>, consulte a página de manual sobre <systemitem>dhcpd.conf</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Reinicie o servidor DHCP executando <command>systemctl restart dhcpd</command>.
     </para>
    </step>
   </procedure>
   <para>
    Se você planeja usar SSH para controle remoto de uma instalação PXE e Wake on LAN, especifique explicitamente o endereço IP que o DHCP deve fornecer ao destino de instalação. Para isso, modifique a configuração DHCP mencionada acima de acordo com o exemplo a seguir:
   </para>
<screen>group {
  # PXE related settings
  #
  # "next-server" defines the TFTP server that will be used
  next-server <replaceable>ip_tftp_server</replaceable>:
  #
  # "filename" specifies the pxelinux image on the TFTP server
  # the server runs in chroot under /srv/tftpboot
  filename "pxelinux.0";
  host test {
    hardware ethernet <replaceable>mac_address</replaceable>;
    fixed-address <replaceable>some_ip_address</replaceable>;
    }
}
</screen>
   <para>
    A declaração de host apresenta o nome de host do destino de instalação. Para vincular o nome de host e o endereço IP a um host específico, você deve saber e especificar o endereço de hardware (MAC) do sistema. Substitua todas as variáveis usadas neste exemplo pelos valores reais que correspondem ao seu ambiente.
   </para>
   <para>
    Após a reinicialização do servidor DHCP, ele fornece um IP estático para o host especificado, habilitando-o a conectar-se ao sistema por SSH.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.tftp">
  <title>Configurando um servidor TFTP</title>

  <para>
   Se for usada a instalação baseada no SUSE, será possível usar o YaST para configurar um Servidor TFTP. Se preferir, configure-o manualmente. O servidor TFTP entrega a imagem de boot ao sistema de destino após a inicialização e envia uma solicitação para ele.
  </para>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.yast">
   <title>Configurando um servidor TFTP usando YaST</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.yast">
    <step>
     <para>
      Efetue login como <systemitem class="username">root</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Serviços de Rede</guimenu><guimenu>Servidor TFTP</guimenu></menuchoice> e instale o pacote solicitado.
     </para>
    </step>
    <step>
     <para>
      Clique em <guimenu>Habilitar</guimenu> para verificar se o servidor foi iniciado e incluído nas rotinas de inicialização. De sua parte, não é necessária nenhuma outra ação de proteção. O xinetd inicia o tftpd no momento de inicialização.
     </para>
    </step>
    <step>
     <para>
      Clique em <guimenu>Abrir Porta no Firewall</guimenu> para abrir a porta adequada no firewall em execução na sua máquina. Se nenhum firewall estiver em execução no seu servidor, esta opção não está disponível.
     </para>
    </step>
    <step>
     <para>
      Clique em <guimenu>Pesquisar</guimenu> para pesquisar o diretório de imagem de inicialização. O diretório padrão <filename>/tftpboot</filename> é criado e selecionado automaticamente.
     </para>
    </step>
    <step>
     <para>
      Clique em <guimenu>Concluir</guimenu> para aplicar as suas configurações e iniciar o servidor.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="sec.deployment.prep_boot.tftp.man">
   <title>Configurando um servidor TFTP manualmente</title>
   <procedure xml:id="proc.deployment.prep_boot.tftp.man">
    <step>
     <para>
      Efetue login como <systemitem class="username">root</systemitem> e instale os pacotes <systemitem>tftp</systemitem> e <systemitem>xinetd</systemitem>.
     </para>
    </step>
    <step>
     <para>
      Se indisponível, crie os diretórios <filename>/srv/tftpboot</filename> e <filename>/srv/tftpboot/pxelinux.cfg</filename>.
     </para>
    </step>
    <step>
     <para>
      Adicione os arquivos adequados para a imagem de boot como descrito na <xref linkend="sec.deployment.prep_boot.pxe"/>.
     </para>
    </step>
    <step>
     <para>
      Modifique a configuração do xinetd localizado em <filename>/etc/xinetd.d</filename> para certificar-se de que o servidor TFTP seja iniciado no boot:
     </para>
     <substeps performance="required">
      <step>
       <para>
        Se não existir, crie um arquivo chamado <filename>tftp</filename> neste diretório com <command>touch tftp</command>. Em seguida, execute <command>chmod 755 tftp</command>.
       </para>
      </step>
      <step>
       <para>
        Abra o arquivo <filename>tftp</filename> e adicione as seguintes linhas:
       </para>
<screen>service tftp
{
        socket_type            = dgram
        protocol               = udp
        wait                   = yes
        user                   = root
        server                 = /usr/sbin/in.tftpd
        server_args            = -s /srv/tftpboot
        disable                = no
}
</screen>
      </step>
      <step>
       <para>
        Grave o arquivo e reinicie xinetd com o comando <command>rcxinetd restart</command>.
       </para>
      </step>
     </substeps>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxe">
  <title>Usando a inicialização PXE</title>

  <para>
   Algumas informações técnicas e as especificações completas sobre o PXE estão disponíveis na Especificação do Preboot Execution Environment (PXE) (<link xlink:href="http://www.pix.net/software/pxeboot/archive/pxespec.pdf"/>).
  </para>

  <procedure xml:id="proc.deployment.prep_boot.pxe">
   <step>
    <para>
     Mude para o diretório <filename>boot/&lt;arquitetura&gt;/loader</filename> do seu repositório de instalação e copie os arquivos <filename>linux</filename>, <filename>initrd</filename>, <filename>message</filename>, <filename>biostest</filename> e <filename>memtest</filename> para o diretório <filename>/srv/tftpboot</filename>, digitando o seguinte:
    </para>
<screen>cp -a linux initrd message biostest memtest /srv/tftpboot</screen>
   </step>
   <step>
    <para>
     Instale o pacote <systemitem>syslinux</systemitem> diretamente dos DVDs de instalação com o YaST.
    </para>
   </step>
   <step>
    <para>
     Copie o arquivo <filename>/usr/share/syslinux/pxelinux.0</filename> para o diretório <filename>/srv/tftpboot</filename> digitando o seguinte:
    </para>
<screen>cp -a /usr/share/syslinux/pxelinux.0 /srv/tftpboot
     </screen>
   </step>
   <step>
    <para>
     Mude para o diretório do seu repositório de instalação e copie o arquivo <filename>isolinux.cfg</filename> para <filename> /srv/tftpboot/pxelinux.cfg/default</filename>, digitando o seguinte:
    </para>
<screen>cp -a boot/&lt;architecture&gt;/loader/isolinux.cfg /srv/tftpboot/pxelinux.cfg/default
     </screen>
   </step>
   <step>
    <para>
     Edite o arquivo <filename>/srv/tftpboot/pxelinux.cfg/default</filename> e remova as linhas que começam com <literal>readinfo</literal> e <literal>framebuffer</literal>.
    </para>
   </step>
   <step>
    <para>

     Insira as seguintes entradas nas linhas anexas dos rótulos padrão <option>failsafe</option> e <option>apic</option>:
    </para>
    <variablelist>
     <varlistentry>
      <term><option>insmod=<replaceable>módulo_do_kernel</replaceable></option>
      </term>
      <listitem>
       <para>
        Por meio dessa entrada, digite o módulo do Kernel de rede necessário para suportar a instalação em rede no cliente PXE. Substitua <replaceable>módulo_do_kernel</replaceable> pelo nome do módulo apropriado para o seu dispositivo de rede.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><option>netdevice=<replaceable>interface</replaceable></option>
      </term>
      <listitem>
       <para>
        Esta entrada define a interface de rede do cliente que deve ser usada para a instalação da rede. Só será necessária se o cliente possuir várias placas de rede, devendo ser adaptada de acordo. No caso de uma única placa de rede, esta entrada pode ser omitida.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>
<option>install=nfs://<replaceable>ip_servidorinstal</replaceable>/<replaceable>caminho_para_repositório</replaceable>/DVD1</option>
      </term>
      <listitem>
       <para>
        Esta entrada define o servidor NFS e o repositório para a instalação do cliente. Substitua <replaceable>ip_servidorinstal</replaceable> pelo endereço IP real do servidor de instalação. <replaceable>caminho_para_repositório</replaceable> deve ser substituído pelo caminho real até o repositório. Os repositórios HTTP, FTP ou SMB são tratados de forma semelhante, exceto pelo prefixo de protocolo, que deve ser <literal>http</literal>, <literal>ftp</literal> ou <literal>smb</literal>.
       </para>
       <important>
        <title>Adicionando opções de boot</title>
        <para>
         Se precisar passar outras opções de boot para as rotinas de instalação, como parâmetros de boot SSH ou VNC, anexe-as à entrada <option>install</option>. Uma visão geral dos parâmetros e alguns exemplos são apresentados na <xref linkend="sec.deployment.remoteinst.bootinst"/>.
        </para>
       </important>
      </listitem>
     </varlistentry>
    </variablelist>
    <tip>
     <title>Mudando nomes de arquivo do kernel e do initrd</title>
     <para>
      É possível usar nomes de arquivo diferentes para imagens do Kernel e do initrd. Isso é útil para fornecer sistemas operacionais diferentes do mesmo servidor de boot. No entanto, saiba que apenas um ponto é permitido nos nomes de arquivo fornecidos pelo TFTP para boot PXE.
     </para>
    </tip>
    <para>
     A seguir, temos um exemplo de arquivo <option>/srv/tftpboot/pxelinux.cfg/default. </option> Ajuste o prefixo do protocolo do repositório para corresponder à sua configuração de rede e especifique o método de sua preferência para conexão com o instalador, adicionando as opções <literal>vnc</literal> e <literal>VNCPassword</literal> ou <literal>ssh</literal> e <literal>ssh.password</literal> à entrada <literal>install</literal>. As linhas separadas por <literal>\</literal> devem ser digitadas como uma linha contínua sem quebra de linha e sem <literal>\</literal>.
    </para>
<screen>default harddisk

# default
label linux
  kernel linux
  append initrd=initrd ramdisk_size=65536 \
     install=nfs://<replaceable>ip_instserver</replaceable>/<replaceable>path_to_repository</replaceable>/<replaceable>product</replaceable>/DVD1

# repair
label repair
  kernel linux
  append initrd=initrd splash=silent repair=1 showopts

# rescue
label rescue
  kernel linux
  append initrd=initrd ramdisk_size=65536 rescue=1

# bios test
label firmware
  kernel linux
  append initrd=biostest,initrd splash=silent install=exec:/bin/run_biostest showopts

#  memory test
label memtest
  kernel memtest

#  hard disk
label harddisk
  localboot 0

implicit     0
display      message
prompt       1
timeout      100</screen>
   </step>
   <step>
    <para>
     Substitua <replaceable>ip_servidorinstal</replaceable> e <replaceable>caminho_para_repositório</replaceable> pelos valores usados na sua configuração.
    </para>
    <para>
     A seção a seguir serve como breve referência às opções PXELINUX usadas nesta configuração. Para obter mais informações sobre as opções disponíveis, consulte a documentação do pacote <systemitem>syslinux</systemitem> localizada em <filename>/usr/share/doc/packages/syslinux/</filename>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeopts">
  <title>Opções de configuração PXELINUX</title>

  <para>
   As opções relacionadas aqui são um subconjunto de todas as opções disponíveis para o arquivo de configuração PXELINUX.
  </para>

  <variablelist>
   <varlistentry>
    <term><option>APPEND <replaceable>opções... </replaceable></option>
    </term>
    <listitem>
     <para>
      Adicione uma ou mais opções à linha de comando do Kernel. São adicionadas para inicializações manuais e automáticas. As opções são adicionadas no início da linha de comando do Kernel, normalmente permitindo que as opções de Kernel digitadas explicitamente as substituam.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>APPEND -</option>
    </term>
    <listitem>
     <para>
      Não anexa nada. <option>APPEND</option> com um único hífen como argumento em uma seção <option>LABEL</option> pode ser usado para anular um <option>APPEND</option> global.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>DEFAULT <replaceable>opções de kernel</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Defina a linha de comando padrão do Kernel. Se PXELINUX é inicializado automaticamente, atua como se as entradas após DEFAULT tivessem sido digitadas no prompt de boot, exceto a opção auto, que é adicionada automaticamente, indicando uma inicialização automática.
     </para>
     <para>
      Se não houver nenhum arquivo de configuração ou nenhuma entrada DEFAULT definida no arquivo de configuração, o padrão será o nome do Kernel <quote>linux</quote> sem opções.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term><option>IFAPPEND <replaceable>FLAG</replaceable></option>
    </term>
    <listitem>
     <para>
      Adiciona uma opção específica à linha de comando do kernel de acordo com o valor <replaceable>FLAG</replaceable>. A opção <option>IFAPPEND</option> está disponível apenas no PXELINUX. <replaceable>FLAG</replaceable> espera um valor, descrito em <xref linkend="tab.deployment.boot.pxeopts.ifappend"/>:
     </para>
     <table xml:id="tab.deployment.boot.pxeopts.ifappend">
      <title>Opções de linha de comando do kernel geradas e adicionadas do <option>IFAPPEND</option></title>
      <tgroup cols="2">
       <colspec colwidth="1*"/>
       <colspec colwidth="4*"/>
       <thead>
        <row>
         <entry valign="middle">
          <para>
           Argumento
          </para>
         </entry>
         <entry>
          <para>
           Linha de Comando do Kernel Gerada/Descrição
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry>
          <para>
           <option>1</option>
          </para>
         </entry>
         <entry>
<screen>ip=<replaceable>CLIENT_IP</replaceable>:<replaceable>BOOT_SERVER_IP</replaceable>:<replaceable>GW_IP</replaceable>:<replaceable>NETMASK</replaceable></screen>
          <para>
           Os marcadores são substituídos de acordo com a entrada do servidor DHCP/BOOTP ou boot PXE.
          </para>
          <para>
           Observe que essa opção não substitui a execução de um cliente DHCP no sistema inicializado. Sem as renovações regulares, o aluguel adquirido pelo BIOS PXE vai expirar, disponibilizando o endereço IP para reutilização do servidor DHCP.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>2</option>
          </para>
         </entry>
         <entry>
<screen>BOOTIF=<replaceable>MAC_ADDRESS_OF_BOOT_INTERFACE</replaceable></screen>
          <para>
           Essa opção é útil para evitar tempos de espera quando o servidor de instalação investiga uma interface LAN em seguida da outra, até obter a resposta de um servidor DHCP. Usando essa opção, o programa initrd pode determinar de qual interface o sistema foi inicializado. O linuxrc lê essa opção e utiliza essa interface de rede.
          </para>
         </entry>
        </row>
        <row>
         <entry>
          <para>
           <option>4</option>
          </para>
         </entry>
         <entry>
<screen>SYSUUID=<replaceable>SYSTEM_UUID</replaceable></screen>
          <para>
           Adiciona UUIDs como hexadecimais em minúsculas, consulte <filename>/usr/share/doc/packages/syslinux/pxelinux.txt</filename>
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </table>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LABEL <replaceable>rótulo</replaceable> KERNEL <replaceable>imagem</replaceable> APPEND <replaceable>opções</replaceable>...</option>
    </term>
    <listitem>
     <para>
      Indica que, se for digitado <replaceable>label</replaceable> como o Kernel a ser inicializado, o PXELINUX deverá inicializar <replaceable>image</replaceable>, e as opções <option>APPEND</option> especificadas deverão ser usadas em vez das que estão especificadas na seção global do arquivo (antes do primeiro comando <option>LABEL</option>). O padrão para <replaceable>imagem</replaceable> é o mesmo de <replaceable>rótulo</replaceable> e, se não for fornecido nenhum <option>APPEND</option>, o padrão será usar a entrada global (se houver). Até 128 entradas <option>LABEL</option> são permitidas.
     </para>

     <para>
      E PXELINUX usa a seguinte sintaxe:
     </para>
<screen>label <replaceable>mylabel</replaceable>
  kernel <replaceable>mykernel</replaceable>
  append <replaceable>myoptions</replaceable></screen>
     <para>
      Os rótulos são desmembrados como se fossem nomes de arquivo e deverão ser exclusivos após o desmembramento. Por exemplo, não seria possível distinguir os dois rótulos <quote>v2.6.30</quote> e <quote>v2.6.31</quote> em PXELINUX, pois ambos são desmembrados em um mesmo nome de arquivo do DOS.
     </para>
     <para>
      O Kernel não precisa ser um Kernel do Linux, ele pode ser um setor de boot ou um arquivo COMBOOT.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>LOCALBOOT <replaceable>tipo</replaceable></option>
    </term>
    <listitem>
     <para>
      Em PXELINUX, especificar <option>LOCALBOOT 0</option> em vez de uma opção <option>KERNEL</option> significa chamar este rótulo específico, e causa uma inicialização de disco local em vez de uma inicialização de Kernel.
     </para>
     <informaltable frame="topbot" rowsep="0">
      <tgroup cols="2">

       <thead>
        <row>
         <entry colname="1">
          <para>
           Argumento
          </para>
         </entry>
         <entry colname="2">
          <para>
           Descrição
          </para>
         </entry>
        </row>
       </thead>
       <tbody>
        <row>
         <entry colname="1">
          <para>
           <literal>0</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Executa uma inicialização normal
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>4</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Executa uma inicialização local com o driver UNDI (Universal Network Driver Interface) ainda residente na memória
          </para>
         </entry>
        </row>
        <row>
         <entry colname="1">
          <para>
           <literal>5</literal>
          </para>
         </entry>
         <entry colname="2">
          <para>
           Realiza uma inicialização local com toda a pilha PXE, incluindo o driver UNDI, ainda residente na memória
          </para>
         </entry>
        </row>
       </tbody>
      </tgroup>
     </informaltable>
     <para>
      Todos os outros valores são indefinidos. Se você não sabe quais são as pilhas UNDI ou PXE, especifique <literal>0</literal>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>TIMEOUT <replaceable>tempo_de_espera</replaceable></option>
    </term>
    <listitem>
     <para>
      Indica quanto tempo esperar no prompt de boot até inicializar automaticamente, em unidades de 1/10 de segundo. O tempo de espera é cancelado quando o usuário digita algo no teclado, considerando que ele concluirá o comando que começou. O tempo de espera zero desabilita completamente o tempo de espera (que é também o padrão). O valor do tempo de espera máximo possível é 35996 (pouco menos de uma hora).
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><option>PROMPT<replaceable> val_flag</replaceable></option>
    </term>
    <listitem>
     <para>
      Se <option>flag_val</option> for 0, o prompt de boot apenas será exibido se a tecla <keycap function="shift"/> ou <keycap function="alt"/> for pressionada ou se <keycap>Caps Lock</keycap> ou <keycap>Scroll Lock</keycap> estiver ativado (padrão). Se <option>val_flag</option> for 1, exibirá sempre o prompt de boot.
     </para>
<screen>F2  <replaceable>filename</replaceable>
F1  <replaceable>filename</replaceable>
..etc...
F9  <replaceable>filename</replaceable>
F10 <replaceable>filename</replaceable></screen>
     <para>
      Exibe o arquivo indicado na tela quando uma tecla de função é pressionada no prompt de boot. Isso pode ser usado para implementar a ajuda online de pré-inicialização (supostamente para as opções de linha do comando do Kernel). Para compatibilidade com versões anteriores, <keycap>F10</keycap> também pode ser digitado como <literal>F0</literal>. Observe que ainda não há um meio de vincular nomes de arquivo a <keycap>F11</keycap> e <keycap>F12</keycap>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.pxeprep">
  <title>Preparando o sistema de destino para inicialização PXE</title>

  <para>
   Prepare o BIOS do sistema para a inicialização PXE incluindo a opção PXE na ordem de inicialização do BIOS.
  </para>

  <warning>
   <title>Ordem de inicialização do BIOS</title>
   <para>
    Não coloque a opção PXE na frente da opção de inicialização do disco rígido no BIOS. Do contrário, o sistema tentaria se reinstalar sempre que fosse inicializado.
   </para>
  </warning>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolprep">
  <title>Preparando o sistema de destino para Wake on LAN</title>

  <para>
   Wake on LAN (WOL) requer que a opção de BIOS adequada seja habilitada antes da instalação. Além disso, anote o endereço MAC do sistema de destino. Esses dados são necessários para iniciar o Wake on LAN.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wol">
  <title>Ativação na LAN</title>

  <para>
   Wake on LAN permite que a máquina seja ativada por um pacote de rede especial contendo o endereço MAC da máquina. Como toda máquina no mundo tem um identificador MAC exclusivo, não se preocupe caso ligue acidentalmente a máquina errada.
  </para>

  <important>
   <title>Wake on LAN em diferentes segmentos de rede</title>
   <para>
    Se a máquina controladora não estiver localizada no mesmo segmento de rede que o destino de instalação que deve ser desperto, configure as solicitações WOL para serem enviadas como multicasts ou controle remotamente uma máquina naquele segmento de rede para atuar como remetente das solicitações.
   </para>
  </important>

  <para>
   Os usuários do SUSE Linux Enterprise Server podem utilizar um módulo do YaST chamado WOL para configurar facilmente o Wake on LAN. Os usuários de outras versões de sistemas operacionais baseados no SUSE Linux podem usar uma ferramenta de linha de comando.
  </para>
 </sect1>
 <sect1 xml:id="sec.deployment.prep_boot.wolyast">
  <title>Wake on LAN com o YaST</title>

  <procedure xml:id="proc.deployment.prep_boot.wolyast">
   <step>
    <para>
     Efetue login como <systemitem class="username">root</systemitem>.
    </para>
   </step>
   <step>
    <para>
     Inicie <menuchoice><guimenu>YaST</guimenu><guimenu>Serviços de Rede</guimenu><guimenu>WOL</guimenu></menuchoice>.
    </para>
   </step>
   <step>
    <para>
     Clique em <guimenu>Adicionar</guimenu> e digite o nome de host e o endereço MAC do sistema de destino.
    </para>
   </step>
   <step>
    <para>
     Para ativar essa máquina, selecione a entrada apropriada e clique em <guimenu>Wake up</guimenu>.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
