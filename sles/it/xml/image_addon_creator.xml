<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="image_addon_creator.xml" version="5.0" xml:id="cha.addon_creator">
 <title>Creazione di prodotti aggiuntivi con il creatore di prodotti aggiuntivi</title>
 <info>
      <abstract>
        <para>
    Un componente aggiuntivo è un supporto progettato in modo specifico, generalmente un CD or un DVD, che consente di estendere <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> con il proprio prodotto. Il creatore di prodotti aggiuntivi è stato sviluppato per supportare i clienti e i partner e semplificare la distribuzione del software di terze parti per tutti i prodotti SUSE.
   </para>
        <para>
    Per poter utilizzare il creatore di prodotti aggiuntivi, è necessario installare il pacchetto <systemitem class="resource">yast2-add-on-creator</systemitem> dal SUSE Software Development Kit. L'SDK è un prodotto aggiuntivo per SUSE Linux Enterprise ed è disponibile per il download da <link xlink:href="http://download.suse.com/"/>. Cercare <literal>SUSE Linux Enterprise Software Development Kit</literal>.
   </para>
      </abstract>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker>
        </dm:bugtracker>
        <dm:translation>sì</dm:translation>
      </dm:docmanager>
    </info>
    <sect1 xml:id="sec.addon_creator.creating">
  <title>Creazione di immagini</title>

  <para>
   Per creare un'immagine di un prodotto aggiuntivo, procedere come segue:
  </para>

  <procedure>
   <step>
    <para>
     Avviare YaST e aprire il modulo <guimenu>Creatore aggiuntivo</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Se non è mai stato creato un componente aggiuntivo, fare clic su <guimenu>Crea un componente aggiuntivo da zero</guimenu> per iniziare. In alternativa, è possibile creare il componente aggiuntivo in base a un prodotto aggiuntivo esistente. Specificare il percorso della directory contenente i dati, che potrebbe essere anche un'immagine ISO montata o un CD/DVD.
    </para>
    <para>
     Nel caso siano già stati creati componenti aggiuntivi, la finestra mostrerà un elenco di tutti i componenti aggiuntivi esistenti. È possibile <guimenu>modificarli</guimenu> o <guimenu>eliminarli</guimenu>. Scegliere <guimenu>Aggiungi</guimenu> per crearne uno nuovo.
    </para>
    <para>
     In questa esercitazione viene illustrato come <guimenu>creare un componente aggiuntivo da zero</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Immettere il nome (<guimenu>Etichetta del prodotto aggiuntivo</guimenu>) e la versione del componente aggiuntivo e fornire ulteriori informazioni:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       In <guimenu>Prodotto necessario</guimenu> scegliere il prodotto SUSE Linux per cui creare il componente aggiuntivo.
      </para>
     </listitem>
     <listitem>
      <para>
       Selezionare il percorso di una directory contenente i pacchetti del prodotto aggiuntivo.
      </para>
     </listitem>
     <listitem>
      <para>
       Facoltativamente, scegliere il percorso di una directory contenente i pacchetti RPM dal <guimenu>Prodotto necessario</guimenu>. Generalmente questi pacchetti provengono dal prodotto necessario (già scelto) e non fanno parte del componente aggiuntivo stesso, tuttavia da essi dipendono altri pacchetti del componente aggiuntivo. Questi pacchetti non verranno aggiunti al prodotto aggiuntivo ma possono essere utilizzati per creare modelli.
      </para>
     </listitem>
    </itemizedlist>
    <para>
     Fare clic su <guimenu>Avanti</guimenu> per continuare.
    </para>
   </step>
   <step>
    <para>
     Ogni supporto di installazione include un file di contenuto e un file di prodotto che definiscono il prodotto aggiuntivo. Utilizzare questa finestra di dialogo per fornire i dati per entrambi i file. Selezionare una voce e scegliere <guimenu>Modifica</guimenu> per impostare o modificare un valore. In alternativa, fare doppio clic su una voce. Consultare la <guimenu>Guida</guimenu> per ulteriori informazioni e per i valori possibili.
    </para>
    <para>
     Per importare valori da un file di contenuto o di prodotto esistente, scegliere il pulsante <guimenu>Importa</guimenu> corrispondente.
    </para>
    <para>
     È necessario immettere almeno i valori per <guimenu>Architetture dei prodotti</guimenu>, <guimenu>Nome prodotto</guimenu> e <guimenu>Nome fornitore</guimenu> del file di contenuto. Fare clic su <guimenu>Avanti</guimenu> per continuare.
    </para>
   </step>
   <step>
    <para>
     Immettere o modificare le descrizioni del pacchetto nella schermata successiva. Utilizzare <guimenu>Aggiungi lingua</guimenu> per inserire una nuova lingua e aggiungere le descrizioni tradotte (questo passaggio è facoltativo). È inoltre possibile <guimenu>importare</guimenu> descrizioni di pacchetti esistenti.
    </para>
    <para>
     Fare clic su <guimenu>Avanti</guimenu> per continuare.
    </para>
   </step>
   <step>
    <para>
     Facoltativamente, aggiungere modelli al passaggio successivo. Grazie ai modelli è possibile raggruppare i propri pacchetti RPM. Utilizzare <guimenu>Nuovo</guimenu> per aggiungere un nuovo nome di modello e modificare i rispettivi attributi nell'elenco seguente. Selezionare <guimenu>Modello obbligatorio</guimenu> per i modelli che verranno selezionati automaticamente per l'installazione quando si installa il prodotto aggiuntivo.
    </para>
    <para>
     Fare clic su <guimenu>Avanti</guimenu> per continuare.
    </para>
   </step>
   <step>
    <para>
     Specificare il percorso della directory di output. Se si preferisce creare un'immagine ISO, selezionare <guimenu>Crea immagine ISO</guimenu> e specificare un nome file. Selezionare <guimenu>Crea log modifiche</guimenu> per creare un file contenente le voci del log delle modifiche di tutti i pacchetti inclusi nel prodotto. È inoltre possibile modificare il workflow e aggiungere file:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       Utilizzare <guimenu>Configura workflow</guimenu> per immettere file per personalizzare il workflow del prodotto. In questo modo sarà possibile, ad esempio, inserire nel processo di installazione del componente aggiuntivo altre finestre di dialogo necessarie per il corretto funzionamento del prodotto. Per ulteriori informazioni, consultare la <guimenu>Guida</guimenu>.
      </para>
     </listitem>
     <listitem>
      <para>
       Utilizzare <guimenu>File opzionali</guimenu> per aggiungere i file seguenti al prodotto aggiuntivo:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenu>info.txt</guimenu>
        </term>
        <listitem>
         <para>
          Un file di testo contenente informazioni generali sul prodotto aggiuntivo.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>File di licenze</guimenu>
        </term>
        <listitem>
         <para>
          Consente di aggiungere file contenenti informazioni sulla licenza in varie lingue. I file sono denominati <literal>license.<replaceable>LANGUAGE</replaceable></literal>, ad esempio <filename>license.en_US</filename>.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>File README</term>
        <listitem>
         <para>
          Consente di aggiungere file README con un nome a scelta.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Immettere il contenuto dei file nelle rispettive caselle di testo. In alternativa, <guimenu>importare</guimenu> il contenuto da un file esistente.
      </para>
     </listitem>
    </itemizedlist>
    <para>
     Fare clic su <guimenu>Avanti</guimenu> per continuare.
    </para>
   </step>
   <step>
    <para>
     Firmare il prodotto aggiuntivo con la chiave GPG per fornire una prova dell'origine del prodotto. Se non si possiede una chiave, crearne una e immettere due volte la stringa di cifratura.
    </para>
   </step>
   <step>
    <para>
     Controllare le impostazioni nel riepilogo della configurazione e proseguire facendo clic su <guimenu>Fine</guimenu>. Scegliere i pulsanti <guimenu>Indietro</guimenu> per modificare un'impostazione.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.addon_creator.structure">
  <title>Struttura del componente aggiuntivo</title>

  <para>
   Un prodotto aggiuntivo contiene i file e le directory seguenti:
  </para>

  <variablelist>
   <varlistentry>
    <term><filename>ARCHIVES.gz</filename>
    </term>
    <listitem>
     <para>
      Contiene informazioni su tutti i pacchetti inclusi (l'output di <command>rpm -qil</command> per ciascun pacchetto). Questo file è compresso con gzip.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>Cambia log</filename>
    </term>
    <listitem>
     <para>
      Contiene tutte le modifiche dei file RPM ordinate per data di modifica.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>contenuto</filename>
    </term>
    <listitem>
     <para>
      Il file di contenuto creato durante la configurazione del componente aggiuntivo.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>content.asc</filename>
    </term>
    <listitem>
     <para>
      Il file della firma GPG.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>content.key</filename>, <filename>gpg-pubkey-<replaceable>NUMBER</replaceable>.asc</filename>
    </term>
    <listitem>
     <para>
      La chiave GPG pubblica.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>INDEX.gz</filename>
    </term>
    <listitem>
     <para>
      Un elenco di tutti i file RPM. Questo file è compresso con gzip.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>ls-lR.gz</filename>
    </term>
    <listitem>
     <para>
      Un elenco di tutti i file e di tutte le directory del supporto del prodotto aggiuntivo. Questo file è compresso con gzip.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>per Linux.<replaceable>N</replaceable>/</filename>
    </term>
    <listitem>
     <para>
      Contiene i file con le informazioni di base relative al gruppo di supporti aggiuntivi. La directory è numerata, pertanto <filename>media.1/</filename> indica il primo supporto aggiuntivo (ad esempio DVD1). Ulteriori supporti presenteranno un numero consecutivo.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>suse/</filename>
    </term>
    <listitem>
     <para>
      Contiene le sottodirectory con informazioni specifiche per l'architettura. Le eccezioni sono <filename>noarch/</filename> per i pacchetti indipendenti dall'architettura e <filename>src/</filename> per i pacchetti di origine. I pacchetti software proprietari sono memorizzati in <filename>nosrc/</filename>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
</chapter>
