<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="image_creator.xml" version="5.0" xml:id="cha.imgcreator">
 <title>Erstellen von Images mit der YaST-Image-Erstellung</title>
 <info>
      <abstract>
        <para>
    Die YaST-Image-Erstellung ist eine grafische Benutzeroberfläche für das KIWI-Imaging-Werkzeug (weitere Informationen zu KIWI siehe <link xlink:href="http://doc.opensuse.org/projects/kiwi/doc/"/>). Mit der Image-Erstellung können Sie eine neue KIWI-Kofiguration erstellen (oder eine vorhandene Konfiguration importieren und bearbeiten) und dann das Image aufbauen, sobald die Konfiguration abgeschlossen ist. Als fortgeschrittener Benutzer können Sie die Konfiguration auf einem Datenträger speichern und bearbeiten und schließlich das Image manuell aufbauen.
   </para>
        <para>
    Zur Verwendung des Programms installieren Sie das Paket <systemitem class="resource">yast2-product-creator</systemitem> aus dem SUSE-SDK (Software Development Kit). Das SDK ist ein Modul für SUSE Linux Enterprise und steht über einen Online-Kanal im SUSE Customer Center zur Verfügung. Alternativ laden Sie es von <link xlink:href="http://download.suse.com/"/> herunter. (Suchen Sie nach <literal>SUSE Linux Enterprise Software Development Kit</literal>). Weitere Informationen finden Sie unter <xref linkend="cha.add-ons"/>.
   </para>
      </abstract>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker>
        </dm:bugtracker>
        <dm:translation>Ja</dm:translation>
      </dm:docmanager>
    </info>
    <sect1 xml:id="sec.img.create">
  <title>Erstellen von Images</title>

  <para>
   So erstellen Sie ein Image eines Produkts:
  </para>

  <procedure>
   <step>
    <para>
     Starten Sie YaST, und öffnen Sie das Modul für die <guimenu>Image-Erstellung</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Im Fenster wird eine Liste aller vorhandenen Image-Konfigurationen angezeigt. Diese Add-ons können Sie <guimenu>bearbeiten</guimenu> oder <guimenu>löschen</guimenu>. Mit <guimenu>Hinzufügen</guimenu> erstellen Sie ein neues Add-on.
    </para>
   </step>
   <step>
    <para>
     Geben Sie den Namen für die neue <guimenu>Kiwi-Konfiguration</guimenu> ein, und geben Sie an, ob die Konfiguration vollständig neu erstellt werden oder auf einer vorhandenen KIWI-Konfiguration beruhen soll. In diesem Fall geben Sie den Pfad zur vorhandenen KIWI-Konfiguration an, so dass sie in die Image-Erstellung importiert werden kann.
    </para>
   </step>
   <step>
    <para>
     Wählen Sie den Typ des aufzubauenden Images aus. Hier stehen mehrere Optionen zur Auswahl: <guimenu>Live-ISO-Image</guimenu>, <guimenu>Xen-Image</guimenu> sowie <guimenu>Image des virtuellen Datenträgers</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Wählen Sie das Ausgabeverzeichnis aus, in dem die KIWI-Konfiguration gespeichert werden soll.
    </para>
   </step>
   <step>
    <para>
     Wenn Sie die Image-Erstellung auf einer 64-Bit-Architektur ausführen, können Sie die Konfiguration des Images für die 32-Bit-Architektur erzwingen und außerdem auf i586 begrenzen.
    </para>
   </step>
   <step>
    <para>
     Fügen Sie die Liste der Paket-Repositorys ein, die für die KIWI-Konfiguration benötigt werden. Mit <guimenu>Hinzufügen</guimenu> fügen Sie ein neues Repository hinzu, mit <guimenu>Aus dem System hinzufügen</guimenu> dagegen Repositorys, die im System, auf dem die Image-Erstellung ausgeführt wird, bereits konfiguriert sind. Sollen die Details eines vorhandenen Repositorys bearbeitet werden, wählen Sie das gewünschte Repository aus, und klicken Sie auf <guimenu>Bearbeiten</guimenu>. Zum Löschen eines vorhandenen Repositorys wählen Sie das Repository aus, und klicken Sie auf <guimenu>Löschen</guimenu>.
    </para>
    <para>
     Fahren Sie mit <guimenu>Weiter</guimenu> fort.
    </para>
    <figure xml:id="fig.imgcreator.repos">
     <title>Bearbeiten eines Repositorys in der Image-Erstellung</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="image_creator.png" width="100%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="image_creator.png" width="100%"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para>
     Der nächste Bildschirm besteht aus vier Karteireitern. Hier können Sie weitere von KIWI unterstützte Konfigurationsoptionen festlegen und so das entstehende Image näher definieren.
    </para>
    <para>
     Auf dem Karteireiter <guimenu>Image-Konfiguration</guimenu> können Sie die Version und die Größe des Images bestimmen und die Software-Auswahl für das Image detailliert bearbeiten. Sie können Schemata/Pakete für drei Paketbereiche festlegen: Pakete im Image, Pakete im Bootstrap sowie Pakete, die aus dem Image gelöscht werden sollen.
    </para>
    <figure xml:id="fig.imgcreator.tabs">
     <title>Detaillierte KIWI-Konfiguration in der Image-Erstellung</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="image_creator_tabs.png" width="100%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="image_creator_tabs.png" width="100%"/>
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     Soll die Liste der zu installierenden (oder der zu ignorierenden) Pakete und/oder Schemata geändert werden, klicken Sie auf <guimenu>Ändern</guimenu>. Die <guimenu>YaST-Paketauswahl</guimenu> wird geöffnet. Treffen Sie hier die gewünschte Auswahl.
    </para>
    <para>
     Geben Sie auf dem Karteireiter <guimenu>Beschreibung</guimenu> Informationen zum Autor des Images und eine Beschreibung ein, und legen Sie die länderspezifischen Einstellungen fest.
    </para>
    <para>
     Fügen Sie auf dem Karteireiter <guimenu>Benutzer</guimenu> neue Benutzer hinzu, die im Zielsystem zur Verfügung stehen sollen.
    </para>
    <para>
     Bearbeiten Sie dannn die Konfigurations-<guimenu>Skripte</guimenu> für den Aufbau des Images.
    </para>
    <para>
     Abschließend konfigurieren Sie das Verzeichnis mit der Systemkonfiguration und den Skripten auf dem Karteireiter <guimenu>Verzeichnisse</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Nach erfolgter Konfiguration des Images klicken Sie auf <guimenu>Beenden</guimenu>. Das Image wird aufgebaut. YaST fordert Sie auf, Ihre Auswahl zu bestätigen. Wenn Sie dies ablehnen, wird die Konfiguration gespeichert, und Sie gelangen zum Übersichtsbildschirm zurück. Wenn Sie den Aufbau bestätigen, wird KIWI gestartet, und die KIWI-Protokolldatei wird in einem Fortschrittsfenster dargestellt.
    </para>
    <para>
     Wird das Image fehlerfrei aufgebaut, so wird es im zuvor angegebenen Ausgabeverzeichnis gespeichert.
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
