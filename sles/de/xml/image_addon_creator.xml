<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="image_addon_creator.xml" version="5.0" xml:id="cha.addon_creator">
 <title>Erstellen von Add-on-Produkten mit dem Programm zur Erstellung von Add-on-Produkten</title>
 <info>
      <abstract>
        <para>
    Ein Add-on ist ein speziell konzipiertes Speichermedium (in der Regel eine CD oder DVD), das <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> mit Ihrem Produkt erweitert. Das Programm zur Erstellung von Add-on-Produkten wurde zur Unterstützung unserer Kunden und Partner entwickelt und vereinfacht die Distribution von Software anderer Hersteller für alle SUSE-Produkte.
   </para>
        <para>
    Zur Verwendung des Programms zur Erstellung von Add-on-Produkten installieren Sie das Paket <systemitem class="resource">yast2-add-on-creator</systemitem> aus dem SUSE-SDK (Software Development Kit). Das SDK ist ein Add-on-Produkt für SUSE Linux Enterprise und ist unter <link xlink:href="http://download.suse.com/"/> als Download verfügbar. Suchen Sie nach <literal>SUSE Linux Enterprise Software Development Kit</literal>.
   </para>
      </abstract>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker>
        </dm:bugtracker>
        <dm:translation>Ja</dm:translation>
      </dm:docmanager>
    </info>
    <sect1 xml:id="sec.addon_creator.creating">
  <title>Erstellen von Images</title>

  <para>
   So erstellen Sie ein Image eines Add-on-Produkts:
  </para>

  <procedure>
   <step>
    <para>
     Starten Sie YaST, und öffnen Sie das <guimenu>Programm zur Erstellung von Add-ons.</guimenu>
    </para>
   </step>
   <step>
    <para>
     Wenn Sie bislang noch kein Add-on erstellt haben, klicken Sie zunächst auf <guimenu>Add-on von vorne erstellen</guimenu>. Alternativ können Sie das Add-on auf der Grundlage eines vorhandenen Add-on-Produkts erstellen. Geben Sie hierzu den Pfad zum Verzeichnis an, in dem sich die Daten befinden (ggf. auch ein eingehängtes ISO-Image oder eine CD/DVD).
    </para>
    <para>
     Falls Sie bereits ein Add-on erstellt haben, zeigt das Fenster eine Liste aller vorhandenen Add-ons. Diese Add-ons können Sie <guimenu>bearbeiten</guimenu> oder <guimenu>löschen</guimenu>. Mit <guimenu>Hinzufügen</guimenu> erstellen Sie ein neues Add-on.
    </para>
    <para>
     In diesem Lernprogramm erfahren Sie, wie Sie ein <guimenu>Add-on von vorne erstellen</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Tragen Sie den Namen (<guimenu>Kennung des Add-on-Produkts</guimenu>) und die Version für das Add-on ein, und geben Sie weitere Informationen an:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       Wählen Sie unter <guimenu>Erforderliches Produkt</guimenu> das SUSE Linux-Produkt aus, für das das Add-on erstellt werden soll.
      </para>
     </listitem>
     <listitem>
      <para>
       Wählen Sie den Pfad zu einem Verzeichnis aus, in dem sich die Add-on-Produktpakete befinden.
      </para>
     </listitem>
     <listitem>
      <para>
       Optional wählen Sie den Pfad zu einem Verzeichnis aus, in dem RPM-Pakete für das <guimenu>Erforderliche Produkt</guimenu> gespeichert sind. In der Regel stammen diese Pakete aus dem erforderlichen (bereits ausgewählten) Produkt, sind also kein Bestandteil des Add-ons selbst; andere Pakete aus dem Add-on sind allerdings von diesen Paketen abhängig. Diese Pakete werden nicht in das Add-on-Produkt aufgenommen, können jedoch als Grundlage für das Erstellen von Schemata herangezogen werden.
      </para>
     </listitem>
    </itemizedlist>
    <para>
     Fahren Sie mit <guimenu>Weiter</guimenu> fort.
    </para>
   </step>
   <step>
    <para>
     Ein Installationsmedium enthält eine Inhaltsdatei und eine Produktdatei, die das Add-on-Produkt definieren. In diesem Dialogfeld geben Sie die Daten für beide Dateien ein. Zum Festlegen oder Ändern eines Werts wählen Sie einen Eintrag aus, und wählen Sie <guimenu>Bearbeiten</guimenu>. Alternativ doppelklicken Sie auf einen Eintrag. Weitere Informationen und zulässige Werte finden Sie in der <guimenu>Hilfe</guimenu>.
    </para>
    <para>
     Zum Importieren von Werten aus einer vorhandenen Inhalts- oder Produktdatei klicken Sie auf die entsprechende Schaltfläche <guimenu>Importieren</guimenu>.
    </para>
    <para>
     Sie müssen mindestens für die Felder <guimenu>Produktarchitekturen</guimenu>, <guimenu>Produktname</guimenu> und <guimenu>Name des Herstellers</guimenu> in der Inhaltsdatei einen Wert eingeben. Fahren Sie mit <guimenu>Weiter</guimenu> fort.
    </para>
   </step>
   <step>
    <para>
     Geben Sie im nächsten Bildschirm die Paketbeschreibungen ein, oder ändern Sie diese. Verwenden Sie <guimenu>Sprache hinzufügen</guimenu>, um eine neue Sprache einzufügen und übersetzte Beschreibungen hinzuzufügen (dieser Schritt ist optional). Sie können auch vorhandene Paketbeschreibungen <guimenu>importieren</guimenu>.
    </para>
    <para>
     Fahren Sie mit <guimenu>Weiter</guimenu> fort.
    </para>
   </step>
   <step>
    <para>
     Optional können Sie im nächsten Schemata Schritt hinzufügen. Mithilfe von Schemata können Sie Ihre RPM-Pakete gruppieren. Verwenden Sie <guimenu>Neu</guimenu>, um einen neuen Schemanamen hinzuzufügen, und ändern Sie die entsprechenden Attribute in der folgenden Liste. Aktivieren Sie die Option <guimenu>Erforderliches Schema</guimenu> für Schemata, die beim Installieren des Add-on-Produkts automatisch zur Installation ausgewählt werden sollen.
    </para>
    <para>
     Fahren Sie mit <guimenu>Weiter</guimenu> fort.
    </para>
   </step>
   <step>
    <para>
     Geben Sie einen Pfad zum Ausgabeverzeichnis an. Falls stattdessen ein ISO-Image erstellt werden soll, aktivieren Sie die Option <guimenu>ISO-Image erstellen</guimenu> und geben Sie einen Dateinamen an. Mit <guimenu>Protokoll generieren</guimenu> wird eine Datei erstellt, die die Änderungsprotokolleinträge aller Pakete in Ihrem Produkt enthält. Außerdem können Sie den Ablauf ändern und Dateien hinzufügen:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       Mit <guimenu>Workflow konfigurieren</guimenu> können Sie Dateien zur Anpassung Ihres Produkt-Workflows eingeben. Auf diese Weise können Sie beispielsweise zusätzliche Dialogfelder mit Optionen, die für die ordnungsgemäße Funktionsfähigkeit des Produkts erforderlich sind, in das Add-on-Installationsverfahren einfügen. Weitere Informationen finden Sie in der <guimenu>Hilfe</guimenu>.
      </para>
     </listitem>
     <listitem>
      <para>
       Mit <guimenu>Optionale Dateien</guimenu> fügen Sie Ihrem Add-on-Produkt die folgenden Dateien hinzu:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenu>info.txt</guimenu>
        </term>
        <listitem>
         <para>
          Textdatei mit allgemeinen Informationen zum Add-on-Produkt.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Lizenzdateien</guimenu>
        </term>
        <listitem>
         <para>
          Fügen Sie Dateien mit Lizenzinformationen in verschiedenen Sprachen hinzu. Die Dateien erhalten den Namen <literal>license.<replaceable>LANGUAGE</replaceable></literal>, beispielsweise <filename>license.en_US</filename>.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>README-Dateien</term>
        <listitem>
         <para>
          Fügen Sie README-Dateien mit einem beliebigen Dateinamen hinzu.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Geben Sie den Inhalt der Dateien in die entsprechenden Textfelder ein. Alternativ <guimenu>importieren</guimenu> Sie den Inhalt aus einer vorhandenen Datei.
      </para>
     </listitem>
    </itemizedlist>
    <para>
     Fahren Sie mit <guimenu>Weiter</guimenu> fort.
    </para>
   </step>
   <step>
    <para>
     Signieren Sie Ihr Produkt mit Ihrem GPG-Schlüssel, so dass Sie den Ursprung Ihres Produkts belegen. Wenn Sie über keinen Schlüssel verfügen, erstellen Sie zuerst einen und geben Sie dann zweimal den entsprechenden Passwortsatz ein.
    </para>
   </step>
   <step>
    <para>
     Prüfen Sie die Einstellungen in der Konfigurationszusammenfassung, und klicken Sie auf <guimenu>Beenden</guimenu>. Soll eine Einstellung geändert werden, klicken Sie auf <guimenu>Zurück</guimenu>.
    </para>
   </step>
  </procedure>
 </sect1>
 <sect1 xml:id="sec.addon_creator.structure">
  <title>Add-on-Struktur</title>

  <para>
   Ein Add-on-Produkt enthält die folgenden Dateien und Verzeichnisse:
  </para>

  <variablelist>
   <varlistentry>
    <term><filename>ARCHIVES.gz</filename>
    </term>
    <listitem>
     <para>
      Enthält Informationen zu allen Paketen im Produkt (Ausgabe des Kommandos <command>rpm -qil</command> für jedes Paket). Diese Datei wird mit gzip komprimiert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>Changelog</filename>
    </term>
    <listitem>
     <para>
      Enthält alle Änderungen an den RPM-Dateien in der Reihenfolge des Änderungsdatums.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>content</filename>
    </term>
    <listitem>
     <para>
      Die Inhaltsdatei, die während der Add-on-Einrichtung erstellt wurde.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>content.asc</filename>
    </term>
    <listitem>
     <para>
      Die GPG-Signaturdatei.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>content.key</filename>, <filename>gpg-pubkey-<replaceable>NUMMER</replaceable>.asc</filename>
    </term>
    <listitem>
     <para>
      Der öffentliche GPG-Schlüssel.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>INDEX.gz</filename>
    </term>
    <listitem>
     <para>
      Eine Liste aller RPM-Dateien. Diese Datei wird mit gzip komprimiert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>ls-lR.gz</filename>
    </term>
    <listitem>
     <para>
      Eine Liste aller Dateien und Verzeichnisse auf dem Medium des Add-on-Produkts. Diese Datei wird mit gzip komprimiert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>enthalten.<replaceable>N</replaceable>/</filename>
    </term>
    <listitem>
     <para>
      Enthält Dateien mit grundlegenden Informationen über das Add-on-Medienpaket. Das Verzeichnis ist numeriert; <filename>medium.1/</filename> bezeichnet dabei das erste Add-on-Medium (z. B. DVD1). Weitere Medien werden fortlaufend nummeriert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><filename>suse/</filename>
    </term>
    <listitem>
     <para>
      Enthält Unterverzeichnisse mit architekturspezifischen Informationen. Ausnahmen sind <filename>noarch/</filename> für architekturunabhängige Pakete sowie <filename>src/</filename> für Quellpakete. Herstellerspezifische Softwarepakete werden unter <filename>nosrc/</filename> gespeichert.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
</chapter>
