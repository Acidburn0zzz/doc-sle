<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="sle_update.xml" id="cha.update.sle">
 <title>Aktualisieren von SUSE Linux Enterprise</title>
 <abstract>
  <para>
   SUSE® Linux Enterprise (SLE) ermöglicht die Aktualisierung eines vorhandenen Systems auf die neue Version, zum Beispiel von SLE 11 SP3 zu SLE 12. Es ist keine neue Installation erforderlich. Bestehende Daten wie Home- und Datenverzeichnisse sowie Systemkonfigurationen bleiben erhalten. Sie können die Aktualisierung von einem lokalen CD- oder DVD-Laufwerk oder von einer zentralen Netzwerkinstallationsquelle durchführen.
  </para>

  <para>
   Wenn Sie mit Aktualisierungen, Aufrüstungen und Service Packs für SUSE Linux Enterprise grundsätzlich vertraut sind, können Sie Neuigkeiten im Terminologieabschnitt nachlesen und anschließend gleich mit dem Abschnitt weitermachen, der einen Überblick über die Aktualisierungen bietet. Darin finden Sie die verfügbaren Aktualisierungsmöglichkeiten und werden bei der Planung einer Gesamtaktualisierung unterstützt. In den weiteren Abschnitten erhalten Sie schrittweise Anweisungen zur Aktualisierung auf die aktuelle Version, <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> <phrase role="productname"><phrase os="sles;sled;slerte">12</phrase></phrase>.
  </para>

  <para>
   Der Rest des Kapitels liefert Ihnen Hintergrundinformationen zu den SUSE-Produktlebenszyklen, Service Pack-Versionen, empfohlenen Aufrüstungsrichtlinien und darüber, weshalb die SUSE Linux Enterprise-Software trotz nicht aktueller Versionsnummern ("Rückportierungen") aktuell ist, sowie weiteres Material, auf das in den schrittweisen Aktualisierungsanweisungen verwiesen wurde.
  </para>

 </abstract>
 <sect1 id="sec.update.terminology">
  <title>Hintergrundinfo: Terminologie</title>

  <para>
   In diesem Kapitel werden verschiedene Begriffe verwendet. Lesen Sie zum besseren Verständnis der Informationen die unten stehenden Definitionen.
  </para>

  <variablelist>
   <varlistentry>
    <term>Rückportierung</term>
    <listitem>
     <para>
      Bei der Rückportierung werden bestimmte Änderungen aus einer neueren Software-Version auf eine ältere Version angewendet. Dies ist am häufigsten beim Beheben von Sicherheitslücken in älteren Software-Komponenten der Fall. In der Regel gehört dieser Vorgang auch zu einem Wartungsmodell, bei dem Verbesserungen oder (seltener) neue Funktionen bereitgestellt werden.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Delta-RPM</term>
    <listitem>
     <para>
      Ein Delta-RPM besteht nur aus der binären diff zwischen zwei definierten Versionen eines Pakets und hat daher die kleinste Downloadgröße. Vor der Installation muss das vollständige RPM-Paket auf dem lokalen Rechner neu aufgebaut werden.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Downstream</term>
    <listitem>
     <para>
      Bildlicher Ausdruck, wie Software in der Open-Source-Welt entwickelt wird (vgl. <emphasis>Upstream</emphasis>). Mit <emphasis>Downstream</emphasis> werden Personen oder Organisationen wie SUSE bezeichnet, die den Upstream-Quellcode in andere Software integrieren und so eine Distribution zusammenstellen, die dann von den Endbenutzern verwendet wird. So wandert die Software in Downstream-Richtung von den Entwicklern über die Integratoren bis hin zu den Endbenutzern.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Extensions (Erweiterungen)</term>
    <term>Add-on-Produkte</term>
    <listitem>
     <para>
      
      Extensions oder Erweiterungen (auch als Add-on-Produkte bezeichnet) bieten zusätzliche Funktionen von Produktwert für <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>. Sie werden von SUSE und SUSE-Partnern bereitgestellt und werden zusätzlich zum Basisprodukt <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> registriert und installiert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Module</term>
    <listitem>
     
     
       <para>
        Module sind vollständig unterstützte Bestandteile von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase>, die allerdings einen anderen Lebenszyklus aufweisen. Die Module besitzen einen klar definierten Umfang und werden ausschließlich über einen Online-Kanal bereitgestellt. Diese Kanäle können Sie nur dann abonnieren, wenn Sie sich beim SUSE Customer Center registriert haben.
      </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Online-Migration</term>
    <listitem>
     <para>
      Aktualisierung auf ein Service Pack (SP), bei der die erforderlichen Patches über die Online-Aktualisierungswerkzeuge (statt über die Installationsmedien) installiert werden. Dadurch werden alle Pakete des installierten Systems auf den neuesten Zustand (einschließlich Aktualisierungen) von SP3- plus SP2-Aktualisierungen aktualisiert.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Paket</term>
    <listitem>
     <para>
      Ein Paket ist eine komprimierte Datei im <literal>RPM</literal>-Format, die die Dateien für ein bestimmtes Programm enthält oder auch optionale Komponenten wie Konfigurationen, Beispiele und Dokumentation.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>

    <term>Patch</term>
    <listitem>
     <para>
      Ein Patch enthält mindestens ein Paket und kann per Delta-RPMs angewendet werden. Unter Umständen werden auch Abhängigkeiten zu Paketen aufgebaut, die noch nicht installiert wurden.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Hauptversion</term>
    <term>Version zur allgemeinen Verfügung (General Availability, GA)</term>
    <listitem>
     <para>
      Die Hauptversion von SUSE Linux Enterprise (oder ein Softwareprodukt) ist eine neue Version mit neuen Funktionen und Tools. Sie setzt vorher veraltete Komponenten außer Kraft und führt rückwärts inkompatible Änderungen ein.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Service Packs (SP)</term>
    <listitem>
     <para>
      Kombiniert mehrere Patches zu einem Formular, das einfach zu installieren bzw. bereitzustellen ist. Service Packs sind nummeriert und enthalten üblicherweise Sicherheits-Fixes, Upgrades oder Programmerweiterungen.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Upstream</term>
    <listitem>
     <para>
      Bildlicher Ausdruck, wie Software in der Open-Source-Welt entwickelt wird (vgl. <emphasis>Downstream</emphasis>). Mit <emphasis>Upstream</emphasis> wird das ursprüngliche Projekt, der Autor oder der Betreuer einer Software bezeichnet, die als Quellcode verteilt wird. Rückmeldungen, Patches, Funktionsoptimierungen und andere Verbesserungen wandern von den Endbenutzern oder Beteiligten zu den Upstream-Entwicklern. Diese entscheiden, ob die Anforderung integriert oder abgelehnt wird.
     </para>
     <para>
      Wenn die Projektmitglieder entscheiden, die Anforderung zu integrieren, wird diese in den neuen Versionen der Software auftreten. Eine akzeptierte Anforderung bietet Nutzen für alle Beteiligten.
     </para>
     <para>
      Falls eine Anforderung abgelehnt wird, kommen hierfür unterschiedliche Gründe in Betracht. Die Anforderung weist einen Status auf, der nicht den Richtlinien des Projekts entspricht, sie ist ungültig, wurde bereits integriert oder liegt nicht im Interesse oder im Gesamtplan des Projekts. Eine nicht akzeptierte Anforderung erschwert die Arbeit für die Upstream-Entwickler, da sie ihre Patches mit dem Upstream-Code synchron halten müssen. Diese Vorgehensweise wird daher weitestgehend vermieden, ist jedoch in einigen Fällen unumgänglich.
     </para>
    </listitem>
   </varlistentry>

   <varlistentry>
    <term>Aktualisierung</term>
    <listitem>
     <para>
      Installation einer neueren <emphasis>Unterversion</emphasis> eines Pakets.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüstung</term>
    <listitem>
     <para>
      Installation einer neueren <emphasis>Hauptversion </emphasis>eines Pakets oder einer Distribution, die <emphasis>neue Funktionen</emphasis> enthält.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>


 <sect1 id="sec.update.proc.prep.paths">
  <title>Unterstützte Aufrüstungspfade zu SLE</title>

  <abstract>
   <para>
    SUSE Linux Enterprise unterstützt direkte Aufrüstungen von einer Version auf die nächste. Wenn Sie beispielsweise aktuell SUSE Linux Enterprise 11 SP2 ausführen, führen Sie die Aufrüstung in zwei Schritten durch, nämlich zunächst auf SUSE Linux Enterprise 11 SP3 und danach auf SUSE Linux Enterprise 12.
   </para>

   <para>
    Es ist nicht möglich, bei der Aktualisierung eine Zwischenversion zu überspringen. Wenn Sie mehrere Versionen im Rückstand sind, also die Version SUSE Linux Enterprise 10 oder SUSE Linux Enterprise 11 SP1 installiert haben, empfiehlt SUSE Ihnen, das Programm neu zu installieren anstatt eine Reihe von Aufrüstungen durchzuführen.
   </para>

  </abstract>
  <important>
   <title>Architekturübergreifende Aufrüstungen werden nicht unterstützt</title>
   <para>
    Architekturübergreifende Aufrüstungen wie von einer 32-Bit-Version von <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> auf die 64-Bit-Version oder die Aufrüstung von Big Endian auf Little Endian werden <emphasis>nicht</emphasis> unterstützt.
   </para>
   <para>
    Insbesondere SLE 11 SP3 unter POWER (Big Endian) auf SLE 12 unter POWER (neu: Little Endian) wird <emphasis>nicht</emphasis> unterstützt.
   </para>
   <para>
    Da SUSE Linux Enterprise 12 nur in der 64-Bit-Version verfügbar ist, werden Aufrüstungen von 32-Bit-Systemen von SUSE Linux Enterprise 11 auf SUSE Linux Enterprise 12 <emphasis>nicht</emphasis> unterstützt.
   </para>
  </important>

  <variablelist>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 10 (mit beliebigem Service Pack)</term>
    <listitem>
     <para>
      Es gibt keinen unterstützten direkten Migrationspfad zu SUSE Linux Enterprise 12. Stattdessen wird eine Neuinstallation empfohlen.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 11 GA oder SUSE Linux Enterprise 11 SP1</term>
    <listitem>
     <para>
      Es gibt keinen unterstützten direkten Migrationspfad zu SUSE Linux Enterprise 12.
     </para>
     <para>
      Wenn Sie keine Neuinstallation durchführen können, müssen Sie zunächst von SUSE Linux Enterprise 11 GA auf SP1 aktualisieren und anschließend von SUSE Linux Enterprise 11 SP1 auf SP2. Erst danach können Sie mit der Aufrüstung fortfahren. Diese ersten Schritten werden online im <ulink url="https://www.suse.com/documentation/sles11/">SUSE Linux Enterprise 11-Bereitstellungshandbuch</ulink> beschrieben.
     </para>
     <para>
      Anschließend fahren Sie mit dem nächsten Schritt fort:
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 11 SP2</term>
    <listitem>
     <para>
      Sie rüsten zunächst das System auf SUSE Linux Enterprise 11 SP3 auf. Weitere Informationen finden Sie unter <xref linkend="sec.update.sle11sp2"/>.
     </para>
     <para>
      Fahren Sie dann mit dem nächsten Schritt fort:
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Aufrüsten von SUSE Linux Enterprise 11 SP3 auf SUSE Linux Enterprise 12</term>
    <listitem>
     <para>
      Weitere Informationen finden Sie unter <xref linkend="sec.update.sle12"/>.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 id="sec.update.prep">
  <title>Allgemeine Vorbereitungen für die Aktualisierung</title>

  <para>
   Vor Beginn der Aktualisierung muss das System ordnungsgemäß vorbereitet werden. Zur Vorbereitung gehören unter anderem das Sichern der Daten und das Lesen der Versionshinweise.
  </para>

  <sect2 id="sec.update.prep.relnotes">
   <title>Lesen Sie die Versionshinweise</title>
   <para>
    In den Versionshinweisen finden Sie zusätzliche Informationen zu den Änderungen, die seit der vorigen Version von SUSE Linux Enterprise vorgenommen wurden. Überpüfen sie anhand dieser Hinweise, ob Ihre Hardware oder Einrichtung überarbeitet werden muss, welche Ihrer bevorzugten Softwarepakete maßgeblich geändert wurden und welche Vorkehrungen Sie zusätzlich zu den allgemeinen Empfehlungen in diesem Abschnitt treffen sollten. In den Versionshinweisen finden Sie auch Informationen und Probleme, die erst nach der Fertigstellung des Handbuchs bekannt wurden.
   </para>
   <para>
    Die aktuelle Fassung der Versionshinweise mit den neuesten Informationen zu <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> finden Sie online unter <ulink url="http://www.suse.com/doc/sles12/#start"/>.
   </para>
  </sect2>

  <sect2 id="sec.update.prep.backup">
   <title>Anlegen einer Sicherungskopie</title>
   <para>
    Kopieren Sie die bestehenden Konfigurationsdateien vor der Aktualisierung auf ein separates Medium (wie ein Bandlaufwerk oder eine externe Festplatte), um die Daten zu sichern. Dies gilt hauptsächlich für die in <filename>/etc</filename> gespeicherten Dateien sowie einige der Verzeichnisse und Dateien in <filename>/var</filename> und <filename>/opt</filename>. Zudem empfiehlt es sich, die Benutzerdaten in <filename>/home</filename> (den <envar>HOME</envar>-Verzeichnissen) auf ein Sicherungsmedium zu schreiben. Melden Sie sich zur Sicherung dieser Daten als <systemitem class="username">root</systemitem> an. Nur der Benutzer <systemitem class="username">root</systemitem> verfügt über die Leseberechtigung für alle lokalen Dateien.
   </para>
   <para>
    Wenn Sie in YaST den Installationsmodus <guimenu>Vorhandenes System aktualisieren</guimenu> ausgewählt haben, können Sie später wahlweise eine (System-)Sicherung ausführen. Sie können alle geänderten Dateien und die Dateien aus dem Verzeichnis <filename>/etc/sysconfig</filename> einschließen. Dies ist allerdings keine vollständige Sicherung, da alle anderen wichtigen, oben genannten Verzeichnisse außer Acht gelassen werden. Die Sicherungskopie befindet sich im Verzeichnis<filename>/var/adm/backup</filename>.
   </para>
  </sect2>

  <sect2 id="sec.update.prep.disks">
   <title>Partitionierung und Festplattenspeicher</title>
   <para>
    Notieren Sie sich vor der Aktualisierung die Root-Partition. Mit dem Befehl <command>df /</command> können Sie den Gerätenamen der Root-Partition anzeigen. In <xref linkend="aus.update.df"/> ist beispielsweise <filename>/dev/sda3</filename> die Root-Partition, die Sie sich notieren sollten (eingehängt als <filename>/</filename>).
   </para>
   <example id="aus.update.df">
    <title>Über <command>df -h</command> angezeigte Liste</title>

<screen os="sles">Filesystem     Size  Used Avail Use% Mounted on
/dev/sda3       74G   22G   53G  29% /
tmpfs          506M     0  506M   0% /dev/shm
/dev/sda5      116G  5.8G  111G   5% /home
/dev/sda1       44G    4G   40G   9% /data</screen>
   </example>
   <para>
    Software weist normalerweise von Version zu Version mehr <quote>Umfang</quote> auf. Folglich sollten Sie vor dem Aktualisieren mit <command>df</command> den verfügbaren Partitionsspeicher überprüfen. Wenn Sie befürchten, dass demnächst kein Speicherplatz mehr zur Verfügung steht, sichern Sie die Daten vor der Aktualisierung und partitionieren Sie Ihr System neu. Es gibt keine Faustregel hinsichtlich des Speicherplatzes einzelner Partitionen. Die Platzanforderungen hängen von Ihrem bestimmten Partitionsprofil und von der ausgewählten Software ab.
   </para>
  </sect2>

  <sect2 id="sec.update.prep.vms">
   <title>Herunterfahren von VM-Gästen</title>
   <para>
    Wenn Ihr Rechner als VM-Hostserver für KVM oder Xen fungiert, müssen Sie vor der Aktualisierung alle aktiven VM-Gäste ordnungsgemäß herunterfahren. Andernfalls können Sie nach der Aktualisierung wahrscheinlich nicht mehr auf die Gäste zugreifen.
   </para>
  </sect2>

 </sect1>
 <sect1 id="sec.update.sle11sp2">
  <title>Zwischenschritt: Aktualisieren von SLE 11 SP2 zu SLE 11 SP3</title>
  <para>
   Die Online-Migration wird durch die folgenden Werkzeuge unterstützt:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <guimenu>YaST Wagon</guimenu> (grafische Bedienoberfläche)
    </para>
   </listitem>
   <listitem>
    <para>
     <command>zypper</command> (Kommandozeile)
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Wenn Sie das System mit der Online-Migration aktualisieren, so wird die Aktualisierung bei laufendem System ausgeführt. Sie müssen das System nur einmal nach Abschluss der Aktualisierung neu starten. Sie können die Aktualisierung auch nach wie vor mit den folgenden Alternativen vornehmen:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     <xref linkend="sec.update.sle11spx.medium"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="sec.update.sle11spx.smt"/>
    </para>
   </listitem>
   <listitem>
    <para>
     <xref linkend="sec.update.sle11spx.manager"/>
    </para>
   </listitem>
  </itemizedlist>

  <sect2 id="sec.update.sle11sp3.online.requirements">
   <title>Anforderungen</title>
   <para>
    Für eine Online-Aktualisierung gelten die nachstehenden Anforderungen. Beachten Sie auch <xref linkend="sec.update.prep"/>.
   </para>
   <variablelist>
    <varlistentry>
     <term>Produktregistrierung</term>
     <listitem>
      <para>
       Um eine Verbindung mit den Aktualisierungs-Repositorys herstellen zu können, muss Ihr Produkt registriert sein. Ist dies nicht der Fall, starten Sie die Registrierung entweder mit dem Modul <guimenu>SUSE Customer Center-Konfiguration</guimenu> in YaST oder mit dem Kommandozeilenwerkzeug <command>suse_register</command>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Durchführung eines Online-Updates</term>
     <listitem>
      <para>
       Überprüfen Sie, ob die aktuellen Patches für die zurzeit installierte Version installiert sind. Führen Sie vor der Online-Migration zunächst ein Online-Update aus. Wenn Sie eine grafische Bedienoberfläche nutzen, starten Sie das YaST-Online-Update oder das Aktualisierungs-Miniprogramm. Führen Sie in der Kommandozeile die folgenden Kommandos aus (das letzte Kommando muss zweimal ausgeführt werden):
      </para>
<screen>zypper ref -s
zypper update -t patch
zypper update -t patch</screen>
      <para>
       Booten Sie das System bei Bedarf neu.
      </para>
      <para>
       Weitere Informationen zu den Werkzeugen für die Online-Aktualisierung finden Sie unter <xref linkend="cha.onlineupdate.you"/> oder <xref linkend="sec.zypper.softup"/>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Software von Drittanbietern</term>
     <listitem>
      <para>
       Wenn Ihr Setup Drittanbieter-Software oder Zusatz-Software umfasst, sollten Sie dieses Verfahren auf einem anderen Rechner testen, um sicherzustellen, dass beim Update alle Abhängigkeiten erhalten bleiben.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <important>
    <title>Vollständige Ausführung der Online-Migration wichtig</title>
    <para>
     Die Online-Migration muss stets von Anfang bis Ende ausgeführt werden. Wird eine laufende Online-Migration unterbrochen, so wird die Software des Systems unwiederbringlich beschädigt.
    </para>
   </important>
  </sect2>

  <sect2 id="sec.update.sle11sp3.online.wagon">
   <title>Online-Migration mit YaST <guimenu>Wagon</guimenu></title>
   <procedure>
    <step performance="required">
     <para>
      Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), zeigt das Aktualisierungs-Miniprogramm in der Kontrollleiste eine Meldung an, dass eine Aufrüstung für die Distribution verfügbar ist. Klicken Sie darauf, um YaST <guimenu>Wagon</guimenu> zu starten. Alternativ führen Sie <command>/usr/sbin/wagon</command> als <systemitem class="username">root</systemitem> in der Kommandozeile aus.
     </para>
    </step>
    <step performance="required">
     <para>
      Bestätigen Sie das Dialogfeld <guimenu>Willkommen</guimenu> mit <guimenu>Weiter</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Wenn <guimenu>Wagon</guimenu> feststellt, dass die Anforerungen nicht erfüllt sind (erforderliche Wartungs-Aktualisierungen sind verfügbar, jedoch noch nicht installiert), wird automatisch eine Selbstaktualisierung gestartet, und Sie müssen das System unter Umständen neu booten. Befolgen Sie die Anweisungen auf dem Bildschirm.
     </para>
    </step>
    <step performance="required">
     <para>
      Wählen Sie im nachfolgenden Dialogfeld die Aktualisierungsmethode aus. Mit <guimenu>Customer Center</guimenu> verwenden Sie die Standardeinrichtung (empfohlen).
     </para>
     <para>
      Klicken Sie auf <guimenu>Benutzerdefinierte URL</guimenu> und wählen Sie die Software-Repositorys für die Online-Migration aus. Eine Liste der Repositorys wird angezeigt, in der Sie die Repositorys je nach Bedarf manuell aktivieren, deaktivieren, hinzufügen und löschen können. Fügen Sie die Aktualisierungsquelle(n) für SP3 hinzu. Dies sind wahlweise das SP3-Installationsmedium oder die Repositorys <literal>SP3-Pool</literal> und <literal>SP3-Updates</literal>. Durch Klicken auf  <guimenu>OK </guimenu> gelangen Sie zurück zum Dialogfeld <guimenu>Aktualisierungsmodus</guimenu>.
     </para>
     <para>
      Zum Prüfen der Änderungen an der Repository-Einrichtung, die im Rahmen des Aktualisierungsvorgangs erfolgt sind, wählen Sie <guimenu>Automatische Repository-Änderungen überprüfen</guimenu>.
     </para>
     <para>
      Fahren Sie mit <guimenu>Weiter</guimenu> fort.
     </para>
    </step>
    <step performance="required">
     <para>
      Das System wird erneut registriert. Während des Vorgangs werden die Repositorys <literal>SP3-Pool</literal> und <literal>SP3-Updates</literal> dem System hinzugefügt (weitere Informationen siehe <xref linkend="sec.update.nmm.repositories"/>). Bestätigen Sie das Hinzufügen der Repositorys.
     </para>
    </step>
    <step performance="required">
     <para>
      Wenn Sie im Dialogfeld <guimenu>Aktualisierungsmodus</guimenu> die Option <guimenu>Automatische Repository-Änderungen überprüfen</guimenu> ausgewählt haben, wird die Liste der Repositorys angezeigt, und Sie können Kanäle manuell aktivieren, deaktivieren, hinzufügen oder löschen. Klicken Sie abschließend auf <guimenu>OK</guimenu>.
     </para>
    </step>
    <step performance="required">
     <para>
      Der Bildschirm <guimenu>Einstellungen für Distributionsaktualisierung</guimenu> wird geöffnet. Hier sehen Sie eine Zusammenfassung der Aktualisierungskonfiguration. Die folgenden Abschnitte stehen zur Verfügung:
     </para>
     <variablelist>
      <varlistentry>
       <term><guimenu>Add-on-Produkte</guimenu>
       </term>
       <listitem>
        <para>
         Sie können Add-on-Produkte zu SUSE Linux Enterprise Server oder Drittanbieterprodukte hier hinzufügen.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><guimenu>Optionen für das Update</guimenu>
       </term>
       <listitem>
        <para>
         Liste der Aktionen, die im Rahmen der Aktualisierung ausgeführt werden. Sie können festlegen, ob zunächst alle Pakete heruntergeladen und dann im Ganzen installiert werden sollen (Standardeinstellung, empfohlen) oder ob sie einzeln nacheinander heruntergeladen und installiert werden sollen.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><guimenu>Pakete</guimenu>
       </term>
       <listitem>
        <para>
         Statistischer Überblick über die Aktualisierung.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Sicherung</term>
       <listitem>
        <para>
         Legen Sie die Optionen für die Sicherung fest.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <para>
      Klicken Sie zum Fortfahren auf <guimenu>Weiter</guimenu> und dann auf <guimenu>Start The Update (Aktualisierung starten)</guimenu>.
     </para>
     <important>
      <title>Abbrechen der Online-Migration</title>
      <para>
       Auf diesem Bildschirm sowie auf allen vorhergehenden Bildschirmen können Sie die Online-Migration schadlos abbrechen, <emphasis>bevor</emphasis> Sie auf <guimenu>Start The Update (Aktualisierung starten)</guimenu> klicken. Mit <guimenu>Abbrechen</guimenu> können Sie den Aktualisierungsvorgang verlassen und das System in dem Zustand wiederherstellen, den es vor dem Starten von YaST Wagon aufwies. Befolgen Sie die Anweisungen auf dem Bildschirm und führen Sie die Registrierung erneut aus, bevor Sie Wagon beenden, damit die SP2-Repositorys vom System entfernt werden.
      </para>
     </important>
    </step>
    <step performance="required">
     <para>
      Während des Aktualisierungsvorgangs werden die folgenden Schritte ausgeführt:
     </para>
     <substeps performance="required">
      <step performance="required">
       <para>
        Die Pakete werden aktualisiert.
       </para>
      </step>
      <step performance="required">
       <para>
        Das System wird neu gebootet (klicken Sie auf <guimenu>OK</guimenu>).
       </para>
      </step>
      <step performance="required">
       <para>
        Das soeben aktualisierte System wird erneut registriert.
       </para>
      </step>
     </substeps>
    </step>
    <step performance="required">
     <para>
      Das System wurde erfolgreich auf Service Pack 3 aktualisiert.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.update.sle11sp3.online.zypper">
   <title>Online-Migration mit <command>zypper</command></title>
   <procedure>
    <step performance="required">
     <para>
      Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), wurden die erforderlichen <quote>Produkte</quote> für die Online-Migration in <filename>/etc/products.d</filename> eingefügt. Mit dem folgenden Kommando erhalten Sie eine Liste dieser Produkte:
     </para>

<screen>zypper se -t product | grep -h -- "-migration" | cut -d'|' -f2</screen>
     <para>
      Dieses Kommando sollte zumindest <literal os="sles">SUSE_SLES-SP3-migration</literal> zurückgeben. Je nach Umfang der Installation werden weitere Produkte aufgelistet.
     </para>
    </step>
    <step performance="required">
     <para>
      Installieren Sie die Migrationsprodukte, die Sie mit dem vorherigen Schritt abgerufen haben, mit dem Kommando <command>zypper in -t product <replaceable>LIST_OF_PRODUCTS</replaceable></command>, beispielsweise
     </para>
<screen os="sles">zypper in -t product SUSE_SLES-SP3-migration</screen>

    </step>
    <step performance="required">
     <para>
      Registrieren Sie die Produkte, die Sie mit dem vorherigen Schritt installiert haben, damit die zugehörigen Aktualisierungs-Repositorys verfügbar werden:
     </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
    </step>
    <step performance="required">
     <para>
      Aktualisieren Sie die Repositorys und Services:
     </para>
<screen>zypper ref -s</screen>
    </step>
    <step performance="required">
     <para>
      Prüfen Sie die Liste der abrufbaren Repositorys mit <command>zypper lr</command>. 
     </para>
     <para>
      Falls eines dieser Repositorys nicht aktiviert ist (die <literal>SP3</literal>-Repositorys werden mit diesem Verfahren nicht standardmäßig aktiviert), aktivieren Sie es mit <command>zypper modifyrepo --enable <replaceable>REPOSITORY ALIAS</replaceable></command>, beispielsweise:
     </para>
<screen os="sles">zypper modifyrepo --enable SLES11-SP3-Core SLES11-SP3-Updates</screen>

     <para>
      Enthält die Konfiguration Drittanbieter-Repositorys, die nicht mit SP3 kompatibel sind, deaktivieren Sie die betreffenden Repositorys mit <command>zypper modifyrepo --disable <replaceable>REPOSITORY ALIAS</replaceable></command>.
     </para>
    </step>
    <step performance="required">
     <para>
      Damit ist die Vorbereitung abgeschlossen, und Sie können die Distribution mit <command>zypper dup --from <replaceable>REPO 1</replaceable> --from <replaceable>REPO 2</replaceable> <replaceable>...</replaceable></command> aktualisieren. Führen Sie dabei in jedem Fall alle erforderlichen Repositorys mit <option>--from</option> auf, beispielsweise:
     </para>
<screen os="sles">zypper dup --from SLES11-SP3-Pool --from SLES11-SP3-Updates</screen>

     <para>
      Bestätigen Sie mit <guimenu>y</guimenu>. Die Aufrüstung wird gestartet.
     </para>
    </step>
    <step performance="required">
     <para>
      Nach der Aufrüstung der Distribution mit dem vorherigen Schritt führen Sie das folgende Kommando aus:
     </para>
<screen>zypper update -t patch</screen>
    </step>
    <step performance="required">
     <para>
      Damit ist die Aufrüstung auf SP3 abgeschlossen. Registrieren Sie nun das Produkt erneut:
     </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
    </step>
    <step performance="required">
     <para>
      Booten Sie abschließend das System neu.
     </para>
    </step>
    <step performance="required">
     <para>
      Das System wurde erfolgreich auf Service Pack 3 aktualisiert.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.update.sle11spx.online">
   <title>Online-Migration</title>
   <para>
    Die Aktualisierung des Systems mit der Online-Migration erfolgt aus dem laufenden System heraus. Sie müssen das System nur einmal nach Abschluss der Aktualisierung neu starten.
   </para>
   <sect3 id="sec.update.sle11spx.online.requirements">
    <title>Anforderungen</title>
    <para>
     Für eine Online-Aktualisierung gelten die nachstehenden Anforderungen. Beachten Sie auch <xref linkend="sec.update.prep"/>.
    </para>
    <variablelist>
     <varlistentry>
      <term>Produktregistrierung</term>
      <listitem>
       <para>
        Um eine Verbindung mit den Aktualisierungs-Repositorys herstellen zu können, muss Ihr Produkt registriert sein. Ist dies nicht der Fall, starten Sie die Registrierung entweder mit dem Modul <guimenu>SUSE Customer Center-Konfiguration</guimenu> in YaST oder mit dem Kommandozeilenwerkzeug <command>suse_register</command>.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Durchführung eines Online-Updates</term>
      <listitem>
       <para>
        Überprüfen Sie, ob die aktuellen Patches für die zurzeit installierte Version installiert sind. Führen Sie vor der Online-Migration zunächst ein Online-Update aus. Wenn Sie eine grafische Bedienoberfläche nutzen, starten Sie das YaST-Online-Update oder das Aktualisierungs-Miniprogramm. Führen Sie in der Kommandozeile die folgenden Kommandos aus (das letzte Kommando muss zweimal ausgeführt werden):
       </para>
<screen>zypper ref -s
zypper update -t patch
zypper update -t patch</screen>
       <para>
        Booten Sie das System bei Bedarf neu.
       </para>
       <para>
        Unter <xref linkend="cha.onlineupdate.you"/> oder <xref linkend="sec.zypper.softup"/> finden Sie weitere Informationen zu den Online-Update-Werkzeugen.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Software von Drittanbietern</term>
      <listitem>
       <para>
        Wenn Ihr Setup Drittanbieter-Software oder Zusatz-software umfasst, sollten Sie dieses Verfahren auf einem anderen Rechner testen, um sicherzustellen, dass beim Update alle Abhängigkeiten erhalten bleiben.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <important>
     <title>Vollständige Ausführung der Online-Migration wichtig</title>
     <para>
      Die Online-Migration muss stets von Anfang bis Ende ausgeführt werden. Wird eine laufende Online-Migration unterbrochen, so wird die Software des Systems unwiederbringlich beschädigt.
     </para>
    </important>
   </sect3>
   <sect3 id="sec.update.sle11spx.online.wagon">
    <title>Online-Migration mit YaST <guimenu>Wagon</guimenu></title>
    <note>
     <para>
      Die Online-Migration mit YaST Wagon ist nur verfügbar für Versionen vor SUSE Linux Enterprise Server 12.
     </para>
    </note>
    <procedure>
     <step performance="required">
      <para>
       Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), zeigt das Aktualisierungs-Miniprogramm in der Kontrollleiste eine Meldung an, dass eine Aufrüstung für die Distribution verfügbar ist. Klicken Sie darauf, um YaST <guimenu>Wagon</guimenu> zu starten. Alternativ führen Sie <command>/usr/sbin/wagon</command> als <systemitem class="username">root</systemitem> in der Kommandozeile aus.
      </para>
     </step>
     <step performance="required">
      <para>
       Bestätigen Sie das Dialogfeld <guimenu>Willkommen</guimenu> mit <guimenu>Weiter</guimenu>.
      </para>
     </step>
     <step performance="required">
      <para>
       Wenn <guimenu>Wagon</guimenu> feststellt, dass die Anforderungen nicht erfüllt sind (erforderliche Wartungs-Aktualisierungen sind verfügbar, jedoch noch nicht installiert), wird automatisch eine Selbstaktualisierung gestartet, und Sie müssen das System unter Umständen neu booten. Befolgen Sie die Anweisungen auf dem Bildschirm.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie im nachfolgenden Dialogfeld die Aktualisierungsmethode aus. Mit <guimenu>Customer Center</guimenu> verwenden Sie die Standardeinrichtung (empfohlen).
      </para>
      <para>
       Klicken Sie auf <guimenu>Benutzerdefinierte URL</guimenu> und wählen Sie die Software-Repositorys für die Online-Migration aus. Eine Liste der Repositorys wird angezeigt, in der Sie die Repositorys je nach Bedarf manuell aktivieren, deaktivieren, hinzufügen und löschen können. Fügen Sie die Aktualisierungsquelle(n) für SP2 hinzu. Dies sind wahlweise das SP2-Installationsmedium oder die Repositorys <literal>SP2-Core</literal> und <literal>SP2-Updates</literal>. Durch Klicken auf  <guimenu>OK </guimenu> gelangen Sie zurück zum Dialogfeld <guimenu>Aktualisierungsmodus</guimenu>.
      </para>
      <para>
       Zum Prüfen der Änderungen an der Repository-Einrichtung, die im Rahmen des Aktualisierungsvorgangs erfolgt sind, wählen Sie <guimenu>Automatische Repository-Änderungen überprüfen</guimenu>.
      </para>
      <para>
       Fahren Sie mit <guimenu>Weiter</guimenu> fort.
      </para>
     </step>
     <step performance="required">
      <para>
       Das System wird erneut registriert. Während des Vorgangs werden die Repositorys <literal>SP2-Core</literal> und <literal>SP2-Updates</literal> dem System hinzugefügt (weitere Informationen finden Sie unter <xref linkend="sec.update.nmm.repositories"/>). Bestätigen Sie das Hinzufügen der Repositorys.
      </para>
     </step>
     <step performance="required">
      <para>
       Wenn Sie im Dialogfeld <guimenu>Aktualisierungsmodus</guimenu> die Option <guimenu>Automatische Repository-Änderungen überprüfen</guimenu> ausgewählt haben, wird die Liste der Repositorys angezeigt, und Sie können Kanäle manuell aktivieren, deaktivieren, hinzufügen oder löschen. Klicken Sie abschließend auf <guimenu>OK</guimenu>.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie den Migrationstyp aus:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenu>Full migration (Vollständige Migration)</guimenu>
        </term>
        <listitem>
         <para>
          Aktualisiert alle Pakete auf den aktuellen SP2-Stand.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Minimal Migration (Minimale Migration)</guimenu>
        </term>
        <listitem>
         <para>
          Aktualisiert eine minimale Gruppe von Paketen auf den aktuellen SP2-Stand.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Mit <guimenu>Erweitert</guimenu> wählen Sie die Repositorys für die Aufrüstung manuell aus.
      </para>
      <para>
       Bestätigen Sie Ihre Auswahl.
      </para>
     </step>
     <step performance="required">
      <para>
       Der Bildschirm <guimenu>Einstellungen für Distributionsaktualisierung</guimenu> wird geöffnet. Hier sehen Sie eine Zusammenfassung der Aktualisierungskonfiguration. Die folgenden Abschnitte stehen zur Verfügung:
      </para>
      <variablelist>
       <varlistentry>
        <term><guimenu>Add-on-Produkte</guimenu>
        </term>
        <listitem>
         <para>
          Sie können Add-on-Produkte zu SUSE Linux Enterprise Server oder Drittanbieterprodukte hier hinzufügen.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Optionen für das Update</guimenu>
        </term>
        <listitem>
         <para>
          Liste der Aktionen, die im Rahmen der Aktualisierung ausgeführt werden. Sie können festlegen, ob zunächst alle Pakete heruntergeladen und dann im Ganzen installiert werden sollen (Standardeinstellung, empfohlen) oder ob sie einzeln nacheinander heruntergeladen und installiert werden sollen.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Pakete</guimenu>
        </term>
        <listitem>
         <para>
          Statistischer Überblick über die Aktualisierung.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Sicherung</term>
        <listitem>
         <para>
          Legen Sie die Optionen für die Sicherung fest.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Klicken Sie zum Fortfahren auf <guimenu>Weiter</guimenu> und dann auf <guimenu>Start The Update (Aktualisierung starten)</guimenu>.
      </para>
      <important>
       <title>Abbrechen der Online-Migration</title>
       <para>
        Auf diesem Bildschirm sowie auf allen vorhergehenden Bildschirmen können Sie die Online-Migration schadlos abbrechen, <emphasis>bevor</emphasis> Sie auf <guimenu>Start The Update (Aktualisierung starten)</guimenu> klicken. Mit <guimenu>Abbrechen</guimenu> können Sie den Aktualisierungsvorgang verlassen und das System in dem Zustand wiederherstellen, den es vor dem Starten von YaST Wagon aufwies. Befolgen Sie die Anweisungen auf dem Bildschirm und führen Sie die Registrierung erneut aus, bevor Sie Wagon beenden, damit die SP2-Repositorys vom System entfernt werden.
       </para>
      </important>
     </step>
     <step performance="required">
      <para>
       Während des Aktualisierungsvorgangs werden die folgenden Schritte ausgeführt:
      </para>
      <substeps performance="required">
       <step performance="required">
        <para>
         Die Pakete werden aktualisiert.
        </para>
       </step>
       <step performance="required">
        <para>
         Das System wird neu gebootet (klicken Sie auf <guimenu>OK</guimenu>).
        </para>
       </step>
       <step performance="required">
        <para>
         Das soeben aktualisierte System wird erneut registriert.
        </para>
       </step>
      </substeps>
     </step>
     <step performance="required">
      <para>
       Das System wurde erfolgreich auf Service Pack 2 aktualisiert.
      </para>
     </step>
    </procedure>
   </sect3>
   <sect3 id="sec.update.sle11spx.online.zypper">
    <title>Online-Migration mit <command>zypper</command></title>
    <procedure>
     <step performance="required">
      <para>
       Wenn alle Anforderungen erfüllt sind (siehe <xref linkend="sec.update.sle11spx.online.requirements"/>), wurden die erforderlichen <quote>Produkte</quote> für die Online-Migration in <filename>/etc/products.d</filename> eingefügt. Mit dem folgenden Kommando erhalten Sie eine Liste dieser Produkte:
      </para>

<screen>zypper se -t product | grep -h -- "-migration" | cut -d'|' -f2</screen>
      <para>
       Dieses Kommando sollte zumindest <literal os="sles">SUSE_SLES-SP2-migration</literal> zurückgeben. Je nach Umfang der Installation werden weitere Produkte aufgelistet.
      </para>
     </step>
     <step performance="required">
      <para>
       Installieren Sie die Migrationsprodukte, die Sie mit dem vorherigen Schritt abgerufen haben, mit dem Kommando <command>zypper in -t product <replaceable>LIST_OF_PRODUCTS</replaceable></command>, beispielsweise
      </para>
<screen os="sles">zypper in -t product SUSE_SLES-SP2-migration</screen>

     </step>
     <step performance="required">
      <para>
       Registrieren Sie die Produkte, die Sie mit dem vorherigen Schritt installiert haben, damit die zugehörigen Aktualisierungs-Repositorys verfügbar werden:
      </para>
<screen>suse_register -d 2 -L /root/.suse_register.log'</screen>
     </step>
     <step performance="required">
      <para>
       Aktualisieren Sie die Repositorys und Services erneut:
      </para>
<screen>zypper ref -s</screen>
     </step>
     <step performance="required">
      <para>
       Prüfen Sie die Liste der abrufbaren Repositorys mit <command>zypper lr</command>. <emphasis>Mindestens</emphasis> die folgenden Repositorys müssen <guimenu>aktiviert</guimenu> sein:
      </para>
      <itemizedlist os="sles" mark="bullet" spacing="normal">
       <listitem>
        <para>
         <literal>SLES11-SP1-Pool</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP1-Updates</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP2-Core</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         <literal>SLES11-SP2-Updates</literal>
        </para>
       </listitem>
      </itemizedlist>
      
      <para>
       Je nach Umfang der Installation müssen weitere Repositorys für Add-on-Produkte oder Erweiterungen aktiviert werden.
      </para>
      <para>
       Falls eines dieser Repositorys nicht aktiviert ist (die <literal>SP2</literal>-Repositorys werden mit diesem Verfahren nicht standardmäßig aktiviert), aktivieren Sie es mit <command>zypper modifyrepo --enable <replaceable>REPOSITORY ALIAS</replaceable></command>, beispielsweise:
      </para>
<screen os="sles">zypper modifyrepo --enable SLES11-SP2-Core SLES11-SP2-Updates</screen>

      <para>
       Enthält die Konfiguration Drittanbieter-Repositorys, die nicht mit SP2 kompatibel sind, deaktivieren Sie die betreffenden Repositorys mit <command>zypper modifyrepo --disable <replaceable>REPOSITORY ALIAS</replaceable></command>.
      </para>
     </step>
     <step performance="required">
      <para>
       Damit ist die Vorbereitung abgeschlossen, und Sie können die Distribution mit <command>zypper dup --from <replaceable>REPO 1</replaceable> --from <replaceable>REPO 2</replaceable> <replaceable>...</replaceable></command> aktualisieren. Führen Sie dabei in jedem Fall alle erforderlichen Repositorys mit <option>--from</option> auf, beispielsweise:
      </para>
<screen os="sles">zypper dup --from SLES11-SP2-Core --from SLES11-SP2-Updates</screen>

      <para>
       Bestätigen Sie mit <guimenu>y</guimenu>. Die Aufrüstung wird gestartet.
      </para>
     </step>
     <step performance="required">
      <para>
       Nach der Aufrüstung der Distribution mit dem vorherigen Schritt ist die minimale Migration abgeschlossen (eine minimale Teilmenge der Pakete wurde auf den aktuellen SP2-Stand aktualisiert). Überspringen Sie diesen Schritt, wenn keine vollständige Migration ausgeführt werden soll.
      </para>
      <para>
       Für eine vollständige Migration (alle Pakete werden auf den aktuellen SP2-Stand aktualisiert) führen Sie das folgende Kommando aus:
      </para>
<screen>zypper update -t patch</screen>
     </step>
     <step performance="required">
      <para>
       Damit ist die Aufrüstung auf SP2 abgeschlossen. Registrieren Sie nun das Produkt erneut:
      </para>
<screen>suse_register -d 2 -L /root/.suse_register.log</screen>
     </step>
     <step performance="required">
      <para>
       Booten Sie abschließend das System neu.
      </para>
     </step>
     <step performance="required">
      <para>
       Das System wurde erfolgreich auf Service Pack 2 aktualisiert.
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 id="sec.update.sle11spx.medium">
   <title>Aktualisierung durch Booten von einer Installationsquelle</title>
   <para>
    Als Alternative zur Online-Migration (weitere Informationen finden Sie unter <xref linkend="sec.update.sle11spx.online"/>) können Sie Ihr System auch von einer Installationsquelle booten, also von einer DVD oder einer Netzwerkinstallationsquelle. Die Aktualisierung beginnt wie eine normale Installation.
   </para>
   <para>
    Die ISO-Images für Service Pack 2 sind bei <ulink url="http://download.suse.com/"/> erhältlich. Brennen Sie die Images auf eine DVD, oder bereiten Sie eine Netzwerkinstallationsquelle gemäß <xref linkend="sec.deployment.remoteinst.instserver"/> vor.
   </para>
   <sect3 id="sec.upgrade.install-from-dvd">
    <title>Aktualisieren von einem lokalen DVD-Laufwerk</title>
    <para>
     Vor Beginn einer neuen Installation eines SUSE Linux Enterprise-SP müssen Sie sicherstellen, dass alle Service Pack-Installationsmedien (DVDs) verfügbar sind.
    </para>
    <procedure id="upgrade.sp.instsp.fromsp">
     <title>Booten vom Service Pack-Medium</title>
     <step performance="required">
      <para>
       Legen Sie das erste SUSE Linux Enterprise-SP-Medium ein und booten Sie Ihren Rechner. Ein ähnlicher Startbildschirm wie bei der ursprünglichen Installation von SUSE Linux Enterprise 11 wird angezeigt.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie <guimenu>Installation</guimenu> und fahren Sie dann gemäß den YaST-Installationsanweisungen in <xref linkend="cha.inst"/> fort.
      </para>
     </step>
    </procedure>
   </sect3>
   <sect3 id="sec.upgrade.install-from-network">
    <title>Aktualisieren von einer Netzwerkinstallationsquelle</title>
    <para>
     Vor der Aktualisierung eines SUSE Linux Enterprise-SP über eine Netzwerkinstallationsquelle müssen die folgenden Anforderungen erfüllt sein:
    </para>
    <itemizedlist mark="bullet" spacing="normal">
     <listitem>
      <para>
       Eine Netzwerkinstallationsquelle ist gemäß <xref linkend="sec.deployment.remoteinst.instserver"/> eingerichtet.
      </para>
     </listitem>
     <listitem>
      <para>
       Eine funktionierende Netzwerkverbindung auf dem Installationsserver und dem Zielrechner, der einen Namensdienst, DHCP (optional, aber erforderlich für den PXE-Boot) und OpenSLP (optional) enthält, ist vorhanden.
      </para>
     </listitem>
     <listitem>
      <para>
       Die SUSE Linux Enterprise-SP-DVD 1 zum Booten des Zielsystems <emphasis>oder</emphasis> ein Zielsystem für PXE-Boot gemäß <xref linkend="sec.deployment.remoteinst.boot.pxeprep" xrefstyle="HeadingOnPage"/> ist vorhanden.
      </para>
     </listitem>
    </itemizedlist>
    <para>
     Detaillierte Informationen zum Starten der Aufrüstung von einem Remote-Server finden Sie unter <xref linkend="cha.deployment.remoteinst"/>.
    </para>
    <sect4 id="sec.upgrade.install-from-network.dvdboot">
     <title>Netzwerkinstallation – Booten von DVD</title>
     <para>
      Gehen Sie zum Ausführen einer Netzwerkinstallation mit der SP-DVD als Bootdatenträger wie folgt vor:
     </para>
     <procedure>
      <step performance="required">
       <para>
        Legen Sie die SUSE Linux Enterprise-SP-DVD 1 ein und booten Sie Ihren Rechner. Ein ähnlicher Startbildschirm wie bei der ursprünglichen Installation von SUSE Linux Enterprise 11 wird angezeigt.
       </para>
      </step>
      <step performance="required">
       <para>
        Wählen Sie <guimenu>Installation</guimenu>, um den SP-Kernel zu booten, und drücken Sie dann die Taste  <keycap>F4</keycap>, um den Typ der Netzwerkinstallationsquelle auszuwählen (FTP, HTTP, NFS oder SMB).
       </para>
      </step>
      <step performance="required">
       <para>
        Geben Sie die entsprechenden Pfadinformationen ein oder wählen Sie <guimenu>SLP</guimenu> als Installationsquelle.
       </para>
      </step>
      <step performance="required">
       <para>
        Wählen Sie den entsprechenden Installationsserver aus den angebotenen aus oder geben Sie den Typ der Installationsquelle und deren Standort bei der Aufforderung der Bootoptionen an, wie unter <xref linkend="sec.i.yast2.source.net"/> beschrieben. YaST wird gestartet.
       </para>
       <para>
        Schließen Sie die Installation ab, wie in <xref linkend="sec.update.sle11spx.medium.update"/> beschrieben.
       </para>
      </step>
     </procedure>
    </sect4>
    <sect4 id="sec.upgrade.install-from-network.pxeboot">
     <title>Netzwerkinstallation – PXE-Boot</title>
     <para>
      Gehen Sie zum Ausführen einer Netzwerkinstallation eines SUSE Linux Enterprise-Service Packs über das Netzwerk wie folgt vor:
     </para>
     <procedure>
      <step performance="required">
       <para>
        Passen Sie den Setup Ihres DHCP-Servers an, um die für den PXE-Boot erforderlichen Adresseninformationen anzugeben, gemäß <xref linkend="sec.deployment.remoteinst.boot.pxeprep"/>.
       </para>
      </step>
      <step performance="required">
       <para>
        Richten Sie einen TFTP-Server ein, der das Boot-Image für den PXE-Boot beinhaltet.
       </para>
       <para>
        Verwenden Sie die erste CD oder DVD Ihres SUSE Linux Enterprise-Service Packs dafür oder folgen Sie den Anweisungen in <xref linkend="sec.deployment.remoteinst.boot.tftp"/>.
       </para>
      </step>
      <step performance="required">
       <para>
        Bereiten Sie den PXE-Boot und Wake-on-LAN auf dem Zielcomputer vor.
       </para>
      </step>
      <step performance="required">
       <para>
        Starten Sie den Boot des Zielsystems und verwenden Sie VNC, um sich entfernt mit der auf diesem Computer ausgeführten Installationsroutine zu verbinden. Weitere Informationen finden Sie unter <xref linkend="sec.deployment.remoteinst.monitor.vnc"/>.
       </para>
      </step>
      <step performance="required">
       <para>
        Schließen Sie die Installation ab, wie in <xref linkend="sec.update.sle11spx.medium.update"/> beschrieben.
       </para>
      </step>
     </procedure>
    </sect4>
   </sect3>
   <sect3 id="sec.update.sle11spx.medium.update">
    <title>Der Aktualisierungsvorgang</title>
    <para>
     Nach dem Booten vom Installationsmedium oder vom Netzwerk starten Sie die Aktualisierung wie folgt:
    </para>
    <procedure>
     <step performance="required">
      <para>
       Wählen Sie im Bildschirm <guimenu>Willkommen</guimenu> die <guimenu>Sprache</guimenu> und die Belegung der <guimenu>Tastatur</guimenu> aus, und nehmen Sie die Lizenzvereinbarung an. Fahren Sie mit <guimenu>Weiter</guimenu> fort.
      </para>
     </step>
     <step performance="required">
      <para>
       Wenn Sie von einem physischen Medium gebootet haben, prüfen Sie die Integrität des Mediums mit der <guimenu>Medienprüfung</guimenu>. Überspringen Sie diesen Schritt nur dann, wenn Sie das Medium bereits zuvor geprüft hatten.
      </para>
     </step>
     <step performance="required">
      <para>
       Wählen Sie im Bildschirm <guimenu>Installationsmodus</guimenu> die Option <guimenu>Aktualisieren</guimenu>. Klicken Sie auf <guimenu>Weiter</guimenu>. Der Aktualisierungsvorgang wird gestartet.
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>

  <sect2 id="sec.update.sle11spx.smt">
   <title>Aktualisieren über das Subscription Management Tool (SMT)</title>
   <para>
    Als Alternative zum Herunterladen der Aktualisierungen vom SUSE-Aktualisierungsserver für jedes einzelne Client-System können Sie die Aktualisierungen mit dem Subscription Management Tool (SMT) für SUSE Linux Enterprise auf einen lokalen Server spiegeln.
   </para>
   <para>
    Dieses Werkzeug fungiert als SUSE-Proxy für Client-Registrierungen und als Software-Aktualisierungs-Repository. In der Dokumentation zu SMT unter <ulink url="http://www.suse.com/doc/smt11/"/> finden Sie einen Überblick über die Funktionen sowie Anweisungen zur Implementierung.
   </para>
  </sect2>

  <sect2 id="sec.update.sle11spx.manager">
   <title>Aktualisieren über SUSE Manager</title>
   <para>
    SUSE Manager ist eine Serverlösung für die Bereitstellung von Aktualisierungen, Patches und Sicherheitsreparaturen für SUSE Linux Enterprise-Clients. Hier finden Sie eine Reihe von Werkzeugen und eine webgestützte Bedienoberfläche für Verwaltungsaufgaben.
   </para>
   <para>
    In der Dokumentation zu SUSE Manager unter <ulink url="http://www.suse.com/doc/suse_manager/"/> finden Sie einen Überblick über die Funktionen sowie Anweisungen zum Einrichten des Servers und der Clients.
   </para>
  </sect2>
 </sect1>

 <sect1 id="sec.update.sle12">
  <title>Aufrüsten auf SLE 12</title>

  

  <para>
   Die Aufrüstung von SUSE Linux Enterprise 11 SP3 (oder höher) auf SUSE Linux Enterprise 12 wird von den folgenden Tools unterstützt:
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <para>
     Manuelle Aufrüstung, Booten von einem ISO (weitere Informationen unter <xref linkend="sec.update.sle12.iso"/>)
    </para>
   </listitem>
   <listitem>
    <para>
     Halbautomatische Migration, möglich über SSH <phrase os="sles">(weitere Informationen unter <xref linkend="sec.update.sle12.automated"/>)</phrase>
    </para>
   </listitem>
  </itemizedlist>

  <sect2 id="sec.update.sle12.iso">
   <title>
    Manuelle Aufrüstung von SUSE Linux Enterprise 11 SP3 oder höher über eine Installationsquelle
   </title>
   <para>
    Sie können Ihr System durch Booten von einer Installationsquelle aufrüsten. Diese kann entweder eine lokale DVD oder eine Netzwerkinstallationsquelle sein, so als ob Sie eine Neuinstallations durchführen. Sie wählen dann einfach im Boot-Bildschirm "Aufrüsten" statt "Installieren" aus, um das System aufzurüsten. 
   </para>

   <procedure id="pro.update.sle12.iso">
    <title>
     Manuelle Aufrüstung von SUSE Linux Enterprise 11 SP3 oder höher über ein SUSE Linux Enterprise 12-ISO
   </title>
    <step performance="required">
     <para>
      Wählen Sie eine Boot-Methode aus, um das System vom ISO zu starten (weitere Informationen unter <xref linkend="sec.i.yast2.method"/>).
     </para>
    </step>
    <step performance="required">
     <para>
      Starten Sie das System vom ISO (weitere Informationen unter <xref linkend="sec.i.yast2.startup"/>).
     </para>
     <para>
      Wählen Sie am Boot-Bildschirm "Aufrüsten" aus, um die Systemaufrüstung zu starten.
     </para>
     <warning>
      <para>
       Wenn Sie "Installieren" auswählen, können später Daten verlorengehen. Sie müssen besonders vorsichtig vorgehen, um bei einer Neuinstallation keine Datenpartitionen zu zerstören, was zum Beispiel durch Neupartitionieren der Festplatten (durch die die vorhandenen Partititonen zerstört werden können) oder durch Neuformatieren der Datenpartitionen (durch die alle vorhandenen Daten gelöscht werden) verursacht werden kann. SUSE empfiehlt Ihnen, in diesem Fall "Aufrüsten" auszuwählen.
      </para>
     </warning>
    </step>
    <step performance="required">
     <para>
      Führen Sie die üblichen Aufrüstungsvorgänge durch (weitere Informationen unter <xref linkend="sec.update.sle11spx.medium.update"/>).
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 id="sec.update.sle12.automated">
   <title>Automatische Migration von SUSE Linux Enterprise 11 SP3 zu SUSE Linux Enterprise 12</title>
   <para>
    Gehen Sie folgendermaßen vor, um eine automatische Migration auszuführen:
   </para>
   <procedure id="pro.update.sle12">
    <title>Automatische Migration von SUSE Linux Enterprise 11 SP3 zu SUSE Linux Enterprise 12</title>
    
    
    <step performance="required">
     <para>
      Kopieren Sie den installierten Kernel <filename>linux</filename> und die Datei <filename>initrd</filename> von <filename>/boot/x86_64/loader/</filename> auf Ihrer ersten Installations-DVD in das <filename>/boot</filename>-Verzeichnis Ihres Systems:
     </para>
     <screen><command>cp</command> -vi <replaceable>DVDROOT</replaceable>/boot/x86_64/loader/linux /boot/linux.upgrade
<command>cp</command> -vi <replaceable>DVDROOT</replaceable>/boot/x86_64/loader/initrd /boot/initrd.upgrade</screen>
     <para>
      <replaceable>DVDROOT</replaceable> bezeichnet den Pfad, in den das System die DVD einhängt, normalerweise <filename>/run/media/$USER/$DVDNAME</filename>.
     </para>
    </step>
    <step performance="required">
     <para>
      Öffnen Sie die alte GRUB-Konfigurationsdatei <filename>/boot/grub/menu.lst</filename> und fügen Sie einen weiteren Abschnitt hinzu. Bearbeiten Sie für andere Bootloader die entsprechenden Konfigurationsdateien. Passen Sie die Gerätenamen entsprechend an. Beispiel:
     </para>
     <screen>title Linux Upgrade Kernel
kernel (hd0,0)/boot/linux.upgrade root=/dev/sda1 upgrade <replaceable>OPTIONAL_PARAMETERS</replaceable>
initrd (hd0,0)/boot/initrd.upgrade</screen>
     <para>
      <replaceable>OPTIONAL_PARAMETERS</replaceable> bezeichnen zusätzliche Boot-Parameter, die Sie möglicherweise zum Booten Ihres Systems und zum Durchführen der Aufrüstung benötigen. Diese können Kernel-Parameter sein, die für Ihr System erforderlich sind. Sie müssen diese eventuell von einem vorhandenen GRUB-Eintrag überprüfen und kopieren. Es kann sich auch um SUSE <ulink url="http://en.opensuse.org/Linuxrc">linuxrc-Parameter handeln, die online dokumentiert sind</ulink>.
     </para>
    </step>
    <step performance="required">
     <para>
      Wenn die Aufrüstung automatisch durchgeführt werden soll <phrase os="sles"> (siehe <xref linkend="sec.update.auto.run"/>)</phrase>, fügen Sie <option>autoupgrade=1</option> am Ende der <literal>kernel</literal>-Zeile in Ihrer GRUB-Konfiguration hinzu.
     </para>
    </step>
    <step performance="required">
     <para>
      Booten Sie Ihren Rechner neu und wählen Sie den neu hinzugefügten Abschnitt im Boot-Menü aus (hier: <emphasis>Linux-Aufrüstungs-Kernel</emphasis>). Sie können <command>grubonce</command> verwenden, um den neu erstellten GRUB-Eintrag für einen unbeaufsichtigten automatischen Reboot im neu erstellten Eintrag vorauszuwählen. Sie können auch <command>reboot</command> verwenden, um den Reboot von der Kommandozeile aus zu initiieren.
     </para>
    </step>
    <step performance="required">
     <para>
      Führen Sie die üblichen Aufrüstungsvorgänge durch (weitere Informationen unter <xref linkend="sec.update.sle11spx.medium.update"/>).
     </para>
    </step>
    <step performance="required">
     <para>
      Nach Fertigstellung des Aufrüstungsvorgangs entfernen Sie den Installations-Kernel und die initrd-Dateien (<filename>/boot/linux.upgrade</filename> und <filename>/boot/initrd.upgrade</filename>). Diese werden nun nicht länger gebraucht.
     </para>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <xi:include xmlns:xi="http://www.w3.org/2001/XInclude" href="update_split_brain.xml" parse="xml"/>

 <sect1 id="sec.update.nmm">
  <title>Hintergrundinfo: Der Produktlebenszyklus von SUSE Linux Enterprise</title>

  <para>
   
   SUSE Linux Enterprise Server hat einen Lebenszyklus von 13 Jahren: 10 Jahre allgemeiner Support und 3 Jahre erweiterter Support.
  </para>

  <para>
   SUSE Linux Enterprise Desktop hat einen Lebenszyklus von 10 Jahren: 7 Jahre allgemeiner Support und 3 Jahre erweiterter Support.
  </para>

  <para>
   Hauptversionen werden alle 4 Jahre veröffentlicht. Service Packs werden alle 18 Monate bereitgestellt.
  </para>

  <para>
   SUSE unterstützt ältere Service Packs für 6 Monate nach Bereitstellung des neuen Service Packs. <xref linkend="fig.update.releases.service.packs"/> stellt einige der genannten Aspekte vor.
  </para>

  <figure id="fig.update.releases.service.packs">
   <title>Hauptversionen und Service Packs</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="new-maintenance-model.svg" width="75%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="new-maintenance-model.png" width="75%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Wenn Sie mehr Zeit zum Entwickeln, Validieren und Testen Ihrer Aufrüstungspläne benötigen, kann der Long Term Service Pack Support (LTSS) den Support um weitere 12 bis 36 Monate in zwölf Monatspaketen verlängern, wodurch Sie 3 bis 5 Jahre Support für einen bestimmten Service Pack erhalten (weitere Informationen unter <xref linkend="fig.update.maintenance.long-term-service-pack"/>).
  </para>

  <figure id="fig.update.maintenance.long-term-service-pack">
   <title>Langfristiger Service Pack-Support</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="new-maintenance-model+ltss.svg" width="75%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="new-maintenance-model+ltss.png" width="75%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <sect2 id="sec.update.supportlevel-lifecycle">
   <title>Supportstufen</title>
   <para>
    Der Bereich für erweiterte Supportstufen beginnt in Jahr 10 und endet in Jahr 13. Sie umfassen fortlaufende L3-Diagnose auf technischer Ebene und rückwirkende Behebung kritischer Fehler. Diese Supportstufen führen proaktiv Updates für einfache lokale Root-Exploits in Kernel sowie für andere Root-Exploits durch, die direkt ohne Benutzerinteraktion ausgeführt werden können. Darüber hinaus werden vorhandene Workloads, Softwarestapel und Hardware mit einer limitierten Paketausschlussliste unterstützt. Einen Überblick finden Sie in <xref linkend="tab.security-and-bug-fixes"/>.
   </para>
   <table id="tab.security-and-bug-fixes">
    <title>Sicherheitsupdates und Fehlerbehebungen</title>
    <tgroup cols="6">
     <colspec colname="c1"/>
     <colspec colname="c2"/>
     <colspec colname="c3"/>
     <colspec colname="c4"/>
     <colspec colname="c5"/>
     <colspec colname="c6"/>
     <thead>
      <row>
       <entry/>
       <entry namest="c2" nameend="c4" align="center">
        <para>
         Allgemeiner Support für den neuesten Service Pack (SP)
        </para>
       </entry>
       <entry>
        <para>
         Allgemeiner Support für einen älteren SP, mit LTSS
        </para>
       </entry>
       <entry>
        <para>
         Erweiterter Support mit LTSS
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Funktion
        </para>
       </entry>
       <entry>
        <para>
         Jahr 1 bis 5
        </para>
       </entry>
       <entry>
        <para>
         Jahr 6 bis 7
        </para>
       </entry>
       <entry>
        <para>
         Jahr 8 bis 10
        </para>
       </entry>
       <entry>
        <para>
         Jahr 4 bis 10
        </para>
       </entry>
       <entry>
        <para>
         Jahr 10 bis 13
        </para>
       </entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>
        <para>
         Technischer Support
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Zugriff auf Patches und Reparaturen
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Zugriff auf Dokumentation und Wissensdatenbank
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Support für vorhandene Stacks und Workloads
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Support für neue Bereitstellungen
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         Nein
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Verbesserungsanfragen
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         Nein
        </para>
       </entry>
       <entry>
        <para>
         Nein
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Hardwareaktivierung und -optimierung
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         Nein
        </para>
       </entry>
       <entry>
        <para>
         Nein
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Treiberaktualisierungen über SUSE SolidDriver Program (früher PLDP)
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         Nein
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Backport von Reparaturen aus einem früheren SP
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (basierend auf Partner- und Kundenanforderungen)
        </para>
       </entry>
       <entry>
        <para>
         nicht zutreffend
        </para>
       </entry>
       <entry>
        <para>
         nicht zutreffend
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Wichtige Sicherheitsaktualisierungen
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Fehlerhafte Auflösung
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Ja
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (nur Fehler der Sicherheitsstufe 1 und 2)
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (nur Fehler der Sicherheitsstufe 1 und 2)
        </para>
       </entry>
       <entry>
        <para>
         Eingeschränkt (nur Fehler der Sicherheitsstufe 1 und 2)
        </para>
       </entry>
      </row>
     </tbody>
    </tgroup>
   </table>
  </sect2>

  <sect2 id="sec.update.nmm.repositories">
   <title>Repository-Modell</title>

   <para>
    Das Repository-Layout entspricht den Produktlebenszyklen. <xref linkend="tab.update.nmm.repositories.sp2"/> enthält eine Liste aller Repositorys von SUSE Linux Enterprise 11 SP2 bis SUSE Linux Enterprise 12.
   </para>
   <table id="tab.update.nmm.repositories.sp2">
    <title>Repository-Layout für SUSE Linux Enterprise 11 SP2 und SP3 sowie für SUSE Linux Enterprise 12</title>

    <tgroup cols="3">
     <colspec colnum="1" colname="c1" colwidth="1.2*"/>
     <colspec colnum="2" colname="c2" colwidth="3*"/>
     <colspec colnum="3" colname="c3" colwidth="3*"/>
     <thead>
      <row>
       <entry>
        <para>
         Typ
        </para>
       </entry>
       <entry>
        <para>
         SLES
        </para>
       </entry>
       <entry>
        <para>
         SLED
        </para>
       </entry>
      </row>
     </thead>
     <tbody>
      <row>
       <entry>
        <para>
         Erforderliche Repositorys
        </para>
       </entry>
       <entry>
        <para>
         11SP2
        </para>
        <simplelist>
         <member><literal>SLES11-SP1-Pool</literal> </member> <member><literal>SLES11-SP1-Updates</literal> </member> <member><literal>SLES11-SP2-Core</literal> </member> <member><literal>SLES11-SP2-Updates</literal> </member>
        </simplelist>
        <para>
          11 SP 3
        </para>
        <simplelist>
         <member><literal>SLES11-SP3-Pool</literal> </member> <member><literal>SLES11-SP3-Updates</literal> </member>
        </simplelist>
        <para>
         12
        </para>
        <simplelist>
         <member><literal>SLES12-GA-Pool</literal> </member> <member><literal>SLES12-GA-Updates</literal> </member>
        </simplelist>
       </entry>
       <entry>
        <para>
         11SP2
        </para>
        <simplelist>
         <member><literal>SLED11-SP1-Pool</literal> </member> <member><literal>SLED11-SP1-Updates</literal> </member> <member><literal>SLED11-SP2-Core</literal> </member> <member><literal>SLED11-SP2-Updates</literal> </member>
        </simplelist>
        <para>
          11 SP 3
        </para>
        <simplelist>
         <member><literal>SLED11-SP3-Pool</literal> </member> <member><literal>SLED11-SP3-Updates</literal> </member>
        </simplelist>
        <para>
         12
        </para>
        <simplelist>
         <member><literal>SLED12-GA-Pool</literal> </member> <member><literal>SLED12-GA-Updates</literal> </member>
        </simplelist>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         Optionale Repositorys
        </para>
       </entry>
       <entry>
        <para>
         11SP2
        </para>
        <simplelist>
         <member><literal>SLES11-SP2-Debuginfo-Core</literal> </member> <member><literal>SLES11-SP2-Debuginfo-Updates</literal> </member> <member><literal>SLES11-Extras</literal> </member> <member><literal>SLES11-SP2-Extension-Store</literal> </member>
        </simplelist>
        <para>
          11 SP 3
        </para>
        <simplelist>
         <member><literal>SLES11-SP3-Debuginfo-Core</literal> </member> <member><literal>SLES11-SP3-Debuginfo-Updates</literal> </member> <member><literal>SLES11-SP3-Extension-Store</literal> </member> <member><literal>SLES11-Extra</literal> </member>
        </simplelist>
        <para>
         12
        </para>
        <simplelist>
         <member><literal>SLES12-GA-Debuginfo-Core</literal> </member> <member><literal>SLES12-GA-Debuginfo-Updates</literal> </member>
        </simplelist>
       </entry>
       <entry>
        <para>
         11SP2
        </para>
        <simplelist>
         <member><literal>SLED11-SP2-Debuginfo-Core</literal> </member> <member><literal>SLED11-SP2-Debuginfo-Updates</literal> </member> <member><literal>SLED11-Extras</literal> </member> <member><literal>SLED11-SP2-Extension-Store</literal> </member>
        </simplelist>
        <para>
          11 SP 3
        </para>
        <simplelist>
         <member><literal>SLED11-SP3-Debuginfo-Core</literal> </member> <member><literal>SLED11-SP3-Debuginfo-Updates</literal> </member> <member><literal>SLED11-SP3-Extension-Store</literal> </member> <member><literal>SLED11-Extra</literal> </member>
        </simplelist>
        <para>
         12
        </para>
        <simplelist>
         <member><literal>SLED12-GA-Debuginfo-Core</literal> </member> <member><literal>SLED12-GA-Debuginfo-Updates</literal> </member>
        </simplelist>
       </entry>
      </row>
      <row>
       <entry>
        <para>
         NEU: <emphasis>Modul</emphasis>-spezifische Repositorys
        </para>
       </entry>
       <entry>
        <para>
         12
        </para>
        <simplelist>
         <member><literal>sle-module-web-scripting</literal> </member> <member><literal>sle-module-adv-systems-management</literal> </member> <member><literal>sle-module-public-cloud</literal> </member> <member><literal>sle-module-legacy</literal> </member>
        </simplelist>
       </entry>
       <entry>
        <para>
         12
        </para>
	
       </entry>
      </row>
     </tbody>
    </tgroup>
   </table>
   <variablelist>
    <title>Beschreibung der erforderlichen Repositorys</title>
    <varlistentry>
     <term>Updates</term>
     <listitem>
      <para>
       Wartungspakete für Pakete im entsprechenden <literal>Core</literal>- oder <literal>Pool</literal>-Repository.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Pool</term>
     <listitem>
      <para>
       Enthält alle binären RPMs vom Installationsmedium, dazu Schemadaten und Supportstatus-Metadaten.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <variablelist>
    <title>Beschreibung der optionalen Repositorys</title>
    <varlistentry>
     <term>Debuginfo-Pool</term>
     <term>Debuginfo-Updates</term>
     <listitem>
      <para>
       Diese Repositorys enthalten statischen Inhalt. Von diesen beiden stehen Aktualisierungen nur für das Repository <literal>Debuginfo-Updates</literal> zur Verfügung. Aktivieren Sie diese Repositorys, wenn die Bibliotheken mit Informationen zur Fehlersuche installiert werden sollen.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <sect3 id="sec.update.nmm.repositories.origin">
    <title>Ursprung der Pakete</title>
    <formalpara>
     <title>Einführung von SUSE Linux Enterprise 11 SP3</title>
     <para>
      Mit der Aktualisierung auf SP3 sind nur zwei Repositorys verfügbar: <literal os="sles">SLES11-SP3-Pool</literal> und <literal os="sles">SLES11-SP3-Updates</literal>. Alle vorherigen Repositorys aus SP2 sind sichtbar, jedoch nicht aktiviert. Diese deaktivierten Repositorys sind nur für Benutzer erforderlich, die besondere Anforderungen stellen.
     </para>
    </formalpara>
    <formalpara>
     <title>SUSE Linux Enterprise 12</title>
     <para>
      Mit der Aktualisierung auf SUSE Linux Enterprise 12 sind nur zwei Repositorys verfügbar: <literal os="sles">SLES12-GA-Pool</literal> und <literal os="sles">SLES12-GA-Updates</literal>. Frühere Repositorys von SUSE Linux Enterprise 11 SP3 sind deaktiviert.
     </para>
    </formalpara>
   </sect3>
   <sect3 id="sec.update.nmm.repositories.working">
    <title>Arbeiten mit Repositorys</title>
    <para>
     Bei der Registrierung erhält das System Repositorys vom SUSE Customer Center. Die Repository-Namen sind bestimmten URIs im Customer Center zugeordnet (siehe <ulink url="https://scc.suse.com/"/>). Zum Auflisten aller verfügbaren Repositorys auf dem System geben Sie das folgende <command>zypper</command>-Kommando ein:
    </para>
<screen>zypper repos -u</screen>

    <para>
     Hiermit erhalten Sie eine Liste aller verfügbaren Repositorys auf dem System. Für jedes Repository werden der Alias und der Name aufgeführt, und es ist angegeben, ob das Repository aktiviert ist und jeweils auf den neuesten Stand gebracht wird. Mit der Option <option>-u</option> erhalten Sie außerdem die URI, von der der Kanal stammt.
    </para>
    <para>
     Zum Entfernen alter Repositorys (z. B. aus SP1) geben Sie das Kommando <command>zypper removerepo</command> und die Namen der Repositorys ein. Mit dem folgenden Kommando entfernen Sie beispielsweise die alten Repositorys aus SP1 und SP2:
    </para>
<screen>zypper removerepo SLES11-SP1-Pool SLES11-SP1-Updates \
    SLE11-SP1-Debuginfo-Pool SLE11-SP1-Debuginfo-Updates \
    SLES11-SP2-Core SLES11-SP2-Updates \
    SLE11-SP2-Debuginfo-Core SLES11-SP2-Extension-Store\
    SLE11-SP2-Debuginfo-Updates</screen>
    <para>
     Sollen einige Repositorys wieder hinzugefügt werden, melden Sie sich bei <ulink url="https://scc.suse.com/"/> an und wählen Sie <menuchoice> <guimenu>Meine Produkte</guimenu> <guimenu>Berechtigungen spiegeln</guimenu> </menuchoice> im Menü aus. Eine Liste mit URIs wird angezeigt; Sie können nur Repositorys aus dieser Produktliste hinzufügen. Mit dem folgenden Kommando (in einer Zeile und ohne den umgekehrten Schrägstrich) fügen Sie beispielsweise den SP2 Extension Store hinzu:
    </para>
<screen>zypper addrepo -n SLES11-SP2-Extension-Store \
    https://nu.novell.com/repo/\$RCE/SLES11-SP2-Extension-Store/nu_novell_com:SLES11-SP2-Extension-Store</screen>
   </sect3>
  </sect2>
 </sect1>
 <sect1 id="sec.update.backports">
  <title>Hintergrund: Rückportierung des Quellcodes</title>

  <para>
   SUSE verwendet häufig Rückportierungen, d. h. die Migration aktueller Softwarereparaturen und -funktionen in veröffentlichte SUSE Linux Enterprise-Pakete. Anhand der Informationen in diesem Abschnitt erfahren Sie, weshalb es irreführend sein kann, Versionsnummern zu vergleichen, um die Fähigkeiten und die Sicherheit von SUSE Linux Enterprise-Softwarepaketen zu beurteilen. Sie werden verstehen, wie SUSE die Systemsoftware sicher und aktuell hält und dabei die Kompatibilität für Ihre Anwendungssoftware beibehält, die Sie zusätzlich zu den SUSE Linux Enterprise-Produkten ausführen. Sie erfahren außerdem, wie Sie überprüfen können, welche öffentlichen Sicherheitsprobleme in Ihrer SUSE Linux Enterprise-Systemsoftware berücksichtigt wurden und wie aktuell Ihre Software tatsächlich ist.

  </para>

  <sect2 id="sec.update.backports.why">
   <title>Warum Rückportierung?</title>
   <para>
    Upstream-Entwickler befassen sich hauptsächlich damit, die Software weiterzuentwickeln. In vielen Fällen beheben sie Fehler, während sie gleichzeitig neue Funktionen einbauen, die noch nicht eingehend getestet wurden und daher ihrerseits neue Fehler verursachen.
   </para>
   <para>
    Distributionsentwickler müssen daher zwischen Folgendem unterscheiden:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Fehlerbehebungen mit begrenztem Risiko von Funktionsstörungen und
     </para>
    </listitem>
    <listitem>
     <para>
      Änderungen, die die bestehenden Funktionen stören.
     </para>
    </listitem>
   </itemizedlist>
   <para>
    In den meisten Fällen beachten Distributionsentwickler nicht alle Upstream-Änderungen, sobald ein Paket in eine veröffentlichte Distribution eingebunden ist. Häufig bleiben sie bei der Upstream-Version, die sie ursprünglich veröffentlicht hatten, und sie erstellen auf Patches auf der Grundlage der Upstream-Änderungen, mit denen dann Fehler behoben werden sollen. Dies wird als <emphasis>Rückportierung</emphasis> bezeichnet.
   </para>
   <para>
    Im Allgemeinen stellen Distributionsentwickler nur in zwei Fällen eine neuere Software-Version bereit:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      wenn die Änderungen zwischen ihren Paketen und den Upstream-Versionen so groß geworden sind, dass eine Rückportierung nicht mehr praktikabel ist, oder
     </para>
    </listitem>
    <listitem>
     <para>
      für Software, die schon an sich rasch veraltet, beispielsweise Anti-Malware-Software.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 id="sec.update.backports.reasons-for">
   <title>Argumente für die Rückportierung</title>
   <para>
    Bei SUSE wird die Rückportierung umfassend genutzt, damit die verschiedenen Anforderungen an Unternehmens-Software in ein gesundes Gleichgewicht gebracht werden können. Beispiele für die wichtigsten Punkte:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Es sollen stabile Schnittstellen (APIs) erzielt werden, auf die die Software-Hersteller sich verlassen können, wenn sie Produkte für die gemeinsame Verwendung mit den Unternehmensprodukten von SUSE bauen.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Pakete, die in den Unternehmensprodukten von SUSE zum Einsatz kommen, sollen die höchstmögliche Qualität aufweisen und gründlich getestet werden, und das nicht nur in sich selbst, sondern auch als Bestandteil des gesamten Unternehmensprodukts.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Zertifizierungen der Unternehmensprodukte von SUSE durch andere Hersteller, z. B. Zertifizierungen für Oracle- oder SAP-Produkte, sollen aufrechterhalten werden.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Entwickler von SUSE sollen sich darauf konzentrieren können, die kommende Version des Produkts so gut wie möglich zu gestalten; sie sollen ihre Aufmerksamkeit nicht auf zahllose Versionen aufteilen müssen.
     </para>
    </listitem>
    <listitem>
     <para>
      Es soll klar ersichtlich sein, was in einer bestimmten Unternehmensversion vorhanden ist, damit unser Kundendienst genaue und zeitnahe Informationen dazu bereitstellen kann.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 id="sec.update.backports.reasons-against">
   <title>Argumente gegen die Rückportierung</title>
   <para>
    Es gilt die allgemeine Richtlinie, dass keine neuen Upstream-Versionen eines Pakets in unsere Unternehmensprodukte eingeführt werden. Diese Regel ist allerdings nicht ohne Ausnahmen. Bei einer eng umgrenzten Klasse von Paketen, insbesondere bei Antiviren-Software, wiegen die Sicherheitsaspekte schwerer als die konservative Vorgehensweise, die mit Blick auf die Qualitätssicherung aus einzuhalten wäre. Für Pakete in dieser Klasse werden gelegentlich neuere Versionen in eine veröffentliche Version einer Unternehmensproduktlinie eingeführt.
   </para>
   <para>
    Gelegentlich wird auch bei anderen Arten von Paketen entschieden, eine neue Version einzuführen, statt eine Rückportierung vorzunehmen. Dies ist dann der Fall, wenn eine Rückportierung wirtschaftlich nicht praktikabel ist oder wenn äußerst relevante technische Argumente für die Einführung der neueren Version sprechen.
   </para>
  </sect2>

  <sect2 id="sec.update.backports.">
   <title>Auswirkungen der Rückportierungen auf die Interpretation der Versionsnummern</title>
   <para>
    Aufgrund der verbreiteten Praxis der Rückportierungen ist es nicht möglich, aus einem einfachen Vergleich der Versionsnummern festzustellen, ob ein SUSE-Paket eine Korrektur für ein bestimmtes Problem enthält oder eine bestimmte Funktion in dieses Paket eingefügt wurde. Durch die Rückportierung gibt der Upstream-Teil der Versionsnummer eines SUSE-Pakets lediglich an, auf welcher Upstream-Version das SUSE-Paket basiert. Das Paket enthält unter Umständen Fehlerkorrekturen und Funktionen, die in der zugehörigen Upstream-Version fehlen, jedoch in das SUSE-Paket rückportiert wurden.
   </para>
   <para>
    Diese eingeschränkte Aussagefähigkeit der Versionsnummern durch die Rückportierung macht sich insbesondere bei Sicherheitssuchwerkzeugen negativ bemerkbar. Einige Werkzeuge für die Suche nach Sicherheitslücken (oder bestimmte Tests in diesen Werkzeugen) beruhen ausschließlich auf den Versionsinformationen. Bei diesen Werkzeugen/Tests besteht daher die Gefahr von <quote>falsch-positiven Ergebnissen</quote> (die Angabe, dass eine Sicherheitslücke in einer Software aufgefunden wurde, die in Wahrheit gar nicht besteht), wenn eine Rückportierung stattgefunden hat. Beim Auswerten der Berichte von Sicherheitssuchwerkzeugen muss daher in jedem Fall überprüft werden, ob ein Eintrag auf der Versionsnummer beruht oder auf einem tatsächlich ausgeführten Test auf eine Sicherheitslücke.
   </para>
  </sect2>
  <sect2>
   <title>
    Wie Sie überprüfen können, welche Fehler behoben wurden und welche Funktionen rückportiert wurden und verfügbar sind
   </title>
   <para>
    Informationen zu rückportierten Fehlerkorrekturen und Funktionen finden Sie an mehreren Stellen:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Changelog des Pakets:
     </para>
<screen>rpm -q --changelog name-of-installed-package
rpm -qp --changelog packagefile.rpm</screen>
     <para>
      Die Ausgabe dokumentiert den Änderungsverlauf des Pakets in Kurzform.
     </para>
    </listitem>
    <listitem>
     <para>
      Das Changelog des Pakets enthält beispielsweise Einträge wie <literal>bnc#1234</literal>, die sich auf Fehler im Bugzilla-Statusüberwachungssystem von Novell beziehen oder mit anderen Fehlerüberwachungssystemen verknüpft sind. (Aus Gründen der Geheimhaltung sind nicht alle Informationen frei für alle Benutzer zugänglich.)
     </para>
    </listitem>
    <listitem>
     <para>
      Ein Paket kann eine Datei <filename><replaceable/>/usr/share/doc/packagename/README.SUSE</filename> oder <filename>README.SuSE</filename> umfassen, in der Sie allgemeine Informationen zum betreffenden SUSE-Paket finden.
     </para>
    </listitem>
    <listitem>
     <para>
      Das RPM-Quellpaket enthält die Patches, die während der regulären binären RPMs als separate Dateien angewendet werden können. Wenn Sie das Lesen des Quellcodes beherrschen, können Sie diese Dateien interpretieren. Unter<xref linkend="sec.zypper.softman.sources"/> finden Sie weitere Informationen zur Installation von Quellen für SUSE Linux Enterprise-Software, unter <xref linkend="sec.rpm.sources"/> zur Erstellung von Paketen in SUSE Linux Enterprise. Dort finden Sie auch das Buch <ulink url="http://www.rpm.org/max-rpm/">Maximum-RPM</ulink>, indem der genaue Aufbau der SUSE Linux Enterprise-Softwarepaket-Builds beschrieben ist.
     </para>
    </listitem>
    <listitem>
     <para>
      In den <ulink url="http://www.suse.com/support/security/#1">SUSE-Sicherheitsmitteilungen</ulink> finden Sie Korrekturen zu Sicherheitsfehlern. Die Fehler werden häufig mit standardisierten Kennungen wie <literal>CAN-2005-2495</literal> bezeichnet, die im Rahmen des CVE-Projekts (<ulink url="http://cve.mitre.org">Common Vulnerabilities and Exposures</ulink>, häufige Sicherheitslücken und Gefährdungen) vergeben werden.
     </para>
    </listitem>
   </itemizedlist>

  </sect2>
 </sect1>
 <sect1 id="sec.update.wagonhooks">
  <title>Hintergrund: Migrations-Hooks für YaST Wagon</title>



  <para>
   Mithilfe von Migrations-Hooks sind Sie in der Lage, ein benutzerdefiniertes externes Skript zu einem bestimmten Zeitpunkt im Migrationsvorgang auszuführen. Mit diesen Skripten können Sie bestimmte Probleme behandeln, die nicht mit den normalen RPM-Skripten bearbeitet werden können, oder auch zusätzliche Aktionen vornehmen, die während der Migration erforderlich sind (nicht jedoch während einer normalen Aktualisierung der Pakete).
  </para>

  <para>
   Die Migrations-Hooks werden mit Root-Berechtigungen ausgeführt, sodass beliebige Wartungsaufgaben in den Skripten erledigt werden können (z. B. Starten/Beenden von Services, Datensicherung oder Datenmigration). Die Skripte dürfen nicht interaktiv sein; STDIN und STDOUT werden bei der Ausführung in YaST an Pipes umgeleitet. Die X-Sitzung darf nicht verwendet werden, da sie unter Umständen nicht zur Verfügung steht (beispielsweise bei der Ausführung im Textmodus). Denken Sie daran, die Ausführungsberechtigungen für die Hook-Skripte festzulegen.
  </para>

  <para>
   Migrations-Hooks werden in der <systemitem class="resource">yast2-wagon</systemitem>-Paketversion 2.17.32.1 (als Aktualisierung für SLES11-SP2 bereitgestellt) oder 2.17.34 (in SLES11-SP3 enthalten) sowie in höheren Versionen unterstützt.
  </para>

  <sect2>
   <title>Position und Namenskonventionen für Hook-Skripte</title>
   <para>
    Die Skripte werden im Verzeichnis <filename>/var/lib/YaST2/wagon/hooks/</filename> gesucht. Der erwartete Skriptname besitzt das Format <replaceable>Schritt_Folge_Präfix_Name</replaceable>, wobei Folgendes gilt:
   </para>
   <variablelist>
    <varlistentry>
     <term><replaceable>Schritt</replaceable>
     </term>
     <listitem>
      <para>
       ist ein vordefinierter Migrationsschrittname, der den aktuellen Migrationsschritt beschreibt.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>Folge</replaceable>
     </term>
     <listitem>
      <para>
       ist eine Sequenznummer im Bereich von 00 bis 99, mit der sich die Reihenfolge festlegen lässt, in der die Skripte ausgeführt werden sollen. (Es ist wichtig, die Nullen am Anfang beizubehalten, um die korrekte Sortierung zu ermöglichen.)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>Präfix</replaceable>
     </term>
     <listitem>
      <para>
       muss eindeutig sein, damit keine Konflikte auftreten (Namensraum). Verwenden Sie den Paketnamen (sofern es Teil eines Pakets ist) oder den Herstellernamen, den Internet-Domänennamen oder andere Namen, die für die nötige Eindeutigkeit sorgen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>Name</replaceable>
     </term>
     <listitem>
      <para>
       kann eine beliebige Zeichenkette umfassen (zur Unterscheidung der Skripte). Geben Sie nach Möglichkeit einen aussagekräftigen Namen an.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <example>
    <title>Hook-Skript mit vollständigem Pfad</title>
<screen>/var/lib/YaST2/wagon/hooks/before_package_migration_00_postgresql_backup</screen>
   </example>
  </sect2>

  <sect2>
   <title>Beendungswert des Hook-Skripts</title>
   <para>
    Das Skript muss den Beendungswert 0 zurückgeben. Bei einem Fehler (Beendungswert ungleich null) wird eine Fehlermeldung in Wagon angezeigt, und Sie können wahlweise das Skript neu starten, den Fehler ignorieren (und mit anderen Skripten fortfahren) oder die Hooks für den aktuellen Schritt und die aktuelle Phase komplett abbrechen.
   </para>
  </sect2>

  <sect2>
   <title>Idempotente Skripte</title>
   <para>
    Die Hook-Skripte <emphasis>können potenziell mehrmals ausgeführt werden:</emphasis> Durch das Zurück- und Vorwärtsgehen in den Wagon-Dialogfeldern wird Wagon unter Umständen neu gestartet, oder einige Schritte im Migrationsverfahren werden mehrmals abgearbeitet. Dieser Aspekt muss daher in den Skripten berücksichtigt werden. Beispielsweise kann in den Skripten zu Beginn überprüft werden, ob eine bestimmte Aktion ausgeführt werden muss oder ob diese Aktion bereits erledigt wurde, oder es kann eine einfache, temporäre Stempeldatei angelegt werden, oder die Mehrfachausführung muss anderweitig unterbunden werden.
   </para>
  </sect2>

  <sect2>
   <title>Liste der unterstützten Hooks</title>
   
   <para>
    Einige Hooks sind optional, da sie von den vorherigen Werten abhängen oder von Werten, die vom Benutzer ausgewählt werden. Einige Hooks werden mehrmals aufgerufen, beispielsweise die Registrierung, die vor und nach der Migration vorgenommen wird. Im Folgenden werden die unterstützten Hooks (Schrittnamen) in der Reihenfolge ihrer Ausführung aufgelistet:
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_init</command>
     </term>
     <listitem>
      <para>
       Wird gleich zu Beginn gestartet. (Hinweis: Wird bei einem Neustart von Wagon erneut aufgerufen.)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_welcome</command>
     </term>
     <term><command>after_welcome</command>
     </term>
     <listitem>
      <para>
       Wird vor/nach dem Anzeigen des Willkommen-Dialogfelds gestartet.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration_check</command>
     </term>
     <term><command>after_registration_check</command>
     </term>
     <listitem>
      <para>
       Wagon prüft den Registrierungstatus. (Falls die Registrierung eines oder mehrere Produkte abgelaufen ist, kann die Migration fehlschlagen.) Ist alles in Ordnung, wird kein Dialogfeld geöffnet, und Wagon wird automatisch mit dem nächsten Schritt fortgesetzt.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_custom_url</command>
     </term>
     <term><command>after_custom_url</command>
     </term>
     <listitem>
      <para>
       Der Repository-Manager wird gestartet (optional, nur im in Patch CD-Modus).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_self_update</command>
     </term>
     <term><command>after_self_update</command>
     </term>
     <listitem>
      <para>
       Wird vor/nach der Selbstaktualisierung von Wagon aufgerufen (damit die jeweils aktuelle Version für die Migration verwendet wird).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_installing_migration_products</command>
     </term>
     <term><command>after_installing_migration_products</command>
     </term>
     <listitem>
      <para>
       Wird vor/nach dem Installieren der Migrationsprodukte aufgerufen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_selecting_migration_source</command>
     </term>
     <term><command>after_selecting_migration_source</command>
     </term>
     <listitem>
      <para>
       Wagon fordert den Benutzer auf, die Migration über die SUSE Customer Center-Repositorys oder anhand eines benutzerdefinierten Repositorys vorzunehmen. Der nächste Schritt ist abhängig von der Auswahl des Benutzers.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration</command>
     </term>
     <term><command>after_registration</command>
     </term>
     <listitem>
      <para>
       Führt die SUSE-Registrierung durch (wobei die Migrations-Repositorys hinzugefügt werden).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_repo_selection</command>
     </term>
     <term><command>after_repo_selection</command>
     </term>
     <listitem>
      <para>
       Für die manuelle Repository-Verwaltung.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_set_migration_repo</command>
     </term>
     <term><command>after_set_migration_repo</command>
     </term>
     <listitem>
      <para>
       Zum Auswählen der Migrations-Repositorys (vollständige/minimale Migration mit SUSE Customer Center) oder der Aktualisierungs-Repositorys (Migration mit benutzerdefinierten Repositorys)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_package_migration</command>
     </term>
     <listitem>
      <para>
       Vor der Aktualisierung; nach diesem Schritt beginnt die eigentliche Migration, und es ist nicht möglich, automatisch zum vorherigen Status zurückzugehen. (Ein Abbruch in dieser Phase führt zu einem inkonsistenten (nur halb aktualisierten) System, und ein manuelles Rollback ist erforderlich.)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_registration</command>
     </term>
     <term><command>after_registration</command>
     </term>
     <listitem>
      <para>
       Startet die SUSE-Registrierung (zum Registrieren der aktualisierten Produkte)
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_congratulate</command>
     </term>
     <term><command>after_congratulate</command>
     </term>
     <listitem>
      <para>
       Vor/nach der Anzeige des Glückwunsch-Dialogfelds in Wagon nach der erfolgreichen Migration
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_exit</command>
     </term>
     <listitem>
      <para>
       Aufruf unmittelbar vor dem Beenden von Wagon (in jedem Fall, also unabhängig vom Migrationsergebnis, auch nach dem Abbrechen und beim Neustarten)
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Abbruch-Hooks</title>
   <para>
    Diese besonderen Abbruch-Hooks werden aufgerufen, wenn der Benutzer die Migration abbricht. Diese Hooks können in jedem Schritt des Migrationsverfahrens aufgerufen werden; die Reihenfolge der Ausführung kann daher nicht garantiert werden. Wenn die Skripte von den Ergebnissen anderer Hooks abhängig sind, muss jeweils der aktuelle Status geprüft werden.
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_abort</command>
     </term>
     <listitem>
      <para>
       Benutzer hat den Abbruch der Migration bestätigt
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>before_abort_rollback</command>
     </term>
     <term><command>after_abort_rollback</command>
     </term>
     <listitem>
      <para>
       Benutzer hat das Rollback nach einem Abbruch bestätigt (Rückkehr zu den bisherigen Produkten, die vor der Migration installiert waren) Diese Hooks werden nach before_abort aufgerufen; wenn der Benutzer das Rollback nicht bestätigt, werden sie übersprungen.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Neustart-Hooks</title>
   <para>
    Diese Hooks werden aufgerufen, wenn Wagon sich selbst neu startet.
   </para>
   <variablelist>
    <varlistentry>
     <term><command>before_restart</command>
     </term>
     <listitem>
      <para>
       Wagon wird beendet und anschließend neu gestartet
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>after_restart</command>
     </term>
     <listitem>
      <para>
       Wagon wurde neu gestartet und führt den nächsten Schritt im Migrationsverfahren aus
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2>
   <title>Häufig verwendete Hooks</title>
   <para>
    Es stehen zahlreiche Hooks zur Auswahl, doch viele sind nur in bestimmten Fällen sinnvoll. Im normalen Betrieb sollten Sie auf die folgenden Hooks zurückgreifen:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      Sollen bestimmte Aktionen erledigt werden, bevor das System migriert wird (wenn also noch die bisherige Version ausgeführt wird), verwenden Sie den Hook <command>before_package_migration</command>.
     </para>
     <para>
      Zu diesem Zeitpunkt ist klar, dass die Migration vorbereitet ist und in Kürze ausgeführt wird; in den vorherigen Schritten bestand dagegen immer noch die Möglichkeit, die Migration abzubrechen.

     </para>
    </listitem>
    <listitem>
     <para>
      Sollen bestimmte Aktionen erledigt werden, nachdem das System migriert wurde (auf dem System wird bereits die neue, migrierte Version ausgeführt, wobei bestimmte Funktionen noch nicht aktiv sind; der aktualisierte Kernel muss beispielsweise neu gebootet werden, aktualisierte Services müssen neu gestartet werden usw.), verwenden Sie <command>before_congratulate</command> oder <command>after_congratulate</command> hook.
     </para>
     <para>
      Hiermit lassen sich außerdem die temporären Ergebnisse des Hooks <command>before_package_migration</command> bereinigen. Zu diesem Zeitpunkt ist die Migration erfolgreich abgeschlossen.
     </para>
    </listitem>
    <listitem>
     <para>
      Sollen die Änderungen zurückgenommen werden, nachdem die Migration abgebrochen wurde, verwenden Sie einen geeigneten Abbruch-Hook für die jeweilige Situation. Denken Sie daran, dass die Abbruch-Hooks jederzeit aufgerufen werden können, sodass eine Rücknahme unter Umständen nicht nötig ist (also wenn der Hook, mit dem die Änderungen erfolgen, noch nicht aufgerufen wurde). Bei den Abbruch-Hooks muss der aktuelle Status überprüft werden.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2>
   <title>Veraltete Hooks</title>
   <para>
    In älteren Versionen von Wagon wurden lediglich zwei Hook-Skripte unterstützt: <filename>/usr/lib/YaST2/bin/wagon_hook_init</filename> und <filename>/usr/lib/YaST2/bin/wagon_hook_finish</filename>. Allerdings konnte dabei immer nur ein Skript als Hook ausgeführt werden, und es war nicht möglich, die Hooks direkt in RPM-Pakete einzubinden.
   </para>
   <para>
    Aus Gründen der Abwärtskompabilität werden die alten Hook-Skripte auch in den neueren Versionen von Wagon unterstützt. Statt dieser veralteten Hooks sollten Sie jedoch die neuen Hooks <command>before_init</command> und <command>before_exit</command> nutzen.
   </para>
  </sect2>
 </sect1>
</chapter>
