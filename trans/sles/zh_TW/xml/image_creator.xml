<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="image_creator.xml" id="cha.imgcreator">
 <title>使用 YaST 影像建立程式建立影像</title>
 <abstract>
  <para>
   YaST 影像建立程式是 KIWI 影像工具的圖形介面 (如需關於 KIWI 的詳細資訊，請參閱 <ulink url="http://doc.opensuse.org/projects/kiwi/doc/"/>)。使用影像建立程式可以建立新的 KIWI 組態，或者輸入現有的組態並對其進行修改，然後在完成組態後建立影像。進階使用者可將組態儲存到磁碟，然後手動對其進行修改並建立影像。
  </para>

  <para>
   若要使用該工具，您需要安裝 SUSE 軟體開發套件中的 <systemitem class="resource">yast2-product-creator</systemitem> 套件。該 SDK 是 SUSE Linux Enterprise 的附加產品，可從 <ulink url="http://download.suse.com/"/> 下載。請搜尋 <literal>SUSE Linux Enterprise 軟體開發套件</literal>。
  </para>
 </abstract>
 <sect1 id="sec.img.create">
  <title>建立影像</title>

  <para>
   若要建立產品的影像，請執行下列操作：
  </para>

  <procedure>
   <step performance="required">
    <para>
     啟動 YaST 並開啓<guimenu>影像建立程式</guimenu>模組。
    </para>
   </step>
   <step performance="required">
    <para>
     視窗中顯示了所有現有影像組態的清單。您可以對它們執行<guimenu>編輯</guimenu>或<guimenu>刪除</guimenu>操作。選擇<guimenu>新增</guimenu>可以建立新的影像。
    </para>
   </step>
   <step performance="required">
    <para>
     輸入新 <guimenu>Kiwi 組態</guimenu>的名稱，然後選擇是要從頭開始建立影像，還是在現有 KIWI 組態的基礎上建立。若採用後一種方式，請提供現有 KIWI 組態的路徑，以便影像建立程式能夠將其輸入。
    </para>
   </step>
   <step performance="required">
    <para>
     選擇需要建立的影像類型。有多個選項供您選擇︰<guimenu>即時 ISO 影像</guimenu>、<guimenu>Xen 影像</guimenu>或<guimenu>虛擬磁碟影像</guimenu>。
    </para>
   </step>
   <step performance="required">
    <para>
     選取要在其中儲存 KIWI 組態的輸出目錄。
    </para>
   </step>
   <step performance="required">
    <para>
     如果在 64 位元架構上執行影像建立程式，您可以強制 KIWI 針對 32 位元架構設定影像，此外，還可以將該影像限制為 i586。
    </para>
   </step>
   <step performance="required">
    <para>
     新增 KIWI 組態需要使用的套件儲存庫清單。按一下<guimenu>新增</guimenu>以新增新的儲存庫，或者按一下<guimenu>從系統新增</guimenu>以新增執行影像建立程式之系統中設定的儲存庫。如果需要修改現有儲存庫的詳細資料，請選取它並按一下<guimenu>編輯</guimenu>。若要移除不需要的儲存庫，請選取它並按一下<guimenu>刪除</guimenu>。
    </para>
    <para>
     按<guimenu>下一步</guimenu>繼續。
    </para>
    <figure id="fig.imgcreator.repos">
     <title>在影像建立程式中編輯儲存庫</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="image_creator.png" width="100%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="image_creator.png" width="100%"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step performance="required">
    <para>
     接下來的螢幕中有四個索引標籤。您可以在這裡設定 KIWI 支援的更多組態選項，以微調產生的影像。
    </para>
    <para>
     在<guimenu>影像組態</guimenu>索引標籤中，您可以設定影像版本和大小，然後詳細修改影像的軟體選擇。可以指定三個套件區段的模式/套件：包含在影像中的套件、包含在開機程式中的套件，以及需要從影像中刪除的套件。
    </para>
    <figure id="fig.imgcreator.tabs">
     <title>影像建立程式中的詳細 KIWI 組態</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="image_creator_tabs.png" width="100%"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="image_creator_tabs.png" width="100%"/>
      </imageobject>
     </mediaobject>
    </figure>
    <para>
     若要變更想要安裝 (或者要忽略) 的套件和/或模式清單，請按一下<guimenu>變更</guimenu>，<guimenu>YaST 套件選擇器</guimenu>隨即開啓，您可以在其中做出選擇。
    </para>
    <para>
     在<guimenu>描述</guimenu>索引標籤中，填入關於影像作者、描述和地區設定的資訊。
    </para>
    <para>
     <guimenu>使用者</guimenu>索引標籤可讓您新增應該在目標系統上使用的新使用者。
    </para>
    <para>
     接下來，可以編輯用於建立影像的組態<guimenu>程序檔</guimenu>。
    </para>
    <para>
     最後，在<guimenu>目錄</guimenu>索引標籤中設定包含系統組態和程序檔的目錄。
    </para>
   </step>
   <step performance="required">
    <para>
     在設定完影像後，按一下<guimenu>完成</guimenu>以建立該影像。YaST 將要求您確認所做的選擇。如果您拒絕，相應的組態將會儲存下來，而您將返回綜覽螢幕。如果您確認建立，KIWI 將會啟動，您會看到一個顯示 KIWI 記錄檔案的進度視窗。
    </para>
    <para>
     如果影像建立成功，它將會儲存到前面指定的輸出目錄。
    </para>
   </step>
  </procedure>
 </sect1>
</chapter>
