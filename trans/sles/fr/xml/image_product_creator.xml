<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd">
<!--
*********************************
Please see LICENSE.txt for this document's license.
*********************************
-->
<chapter xml:base="image_product_creator.xml" id="cha.productcreator">
 <title>Création d'images avec YaST Product Creator</title>
 <abstract>
  <para>
   YaST Product Creator est un outil graphique qui permet de créer des images installables. Pour qu'il soit possible d'utiliser ce module, vous devez installer le paquetage <systemitem class="resource">yast2-product-creator</systemitem> à partir du kit SDK SUSE. Le kit SDK est un produit complémentaire pour SUSE Linux Enterprise que vous pouvez télécharger sur <ulink url="http://download.suse.com/"/>. Recherchez ensuite <literal>SUSE Linux Enterprise Software Development Kit</literal>.
  </para>
 </abstract>
 <sect1 id="sec.pc.create">
  <title>Création d'images</title>

  <para>
   Pour créer une image d'un produit, procédez comme suit :
  </para>

  <procedure>
   <step performance="required">
    <para>
     Démarrez YaST et ouvrez le module <guimenu>Product Creator</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Si vous démarrez ce module pour la première fois, entrez le nom de la configuration et choisissez la méthode permettant d'ajouter des paquetages à l'image ISO.
    </para>
    <para>
     Si vous avez déjà créé un produit, la fenêtre affiche la liste de tous les produits existants. Vous pouvez les <guimenu>modifier</guimenu> ou les <guimenu>supprimer</guimenu> en sélectionnant l'option appropriée. Sélectionnez <guimenu>Ajouter</guimenu> pour en créer un nouveau.
    </para>
   </step>
   <step performance="required">
    <para>
     Sélectionnez ou désélectionnez les paquetages sources à utiliser dans le produit en sélectionnant une entrée et en cliquant ensuite sur <guimenu>Sélectionner</guimenu> ou <guimenu>Supprimer</guimenu>.
    </para>
    <para>
     Sélectionnez <guimenu>Nouveau</guimenu> pour démarrer le module YaST Add-on Product Creator afin de configurer une nouvelle source de logiciels. Démarrez ensuite le module <guimenu>Sources d'installation</guimenu> YaST et ajoutez les sources que vous avez créées. Redémarrez le module Product Creator pour faire en sorte que la source puisse être sélectionnée.
    </para>
    <para>
     Cliquez ensuite sur <guimenu>Suivant</guimenu>.
    </para>
    <note>
     <title>architectures cible non prises en charge</title>
     <para>
      Ne modifiez pas l'architecture cible. À partir de <phrase role="productname"><phrase os="sles">SUSE Linux Enterprise Server</phrase></phrase> 12, le module Product Creator ne permet plus de créer des architectures différentes.
     </para>
    </note>
    <para>
     Cliquez ensuite sur <guimenu>Suivant</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Sélectionnez la source de base dans la liste des dépôts choisis à l'étape précédente. Si l'image ISO obtenue doit être amorçable, elle doit contenir un répertoire <filename>/boot</filename> comprenant les fichiers nécessaires pour démarrer le système.
    </para>
    <para>
     Cliquez ensuite sur <guimenu>Suivant</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Indiquez l'emplacement de création du répertoire squelette dans l'écran <guimenu>Product Creator Configuration</guimenu> (Configuration de Product Creator). Indiquez s'il faut créer un fichier ISO ou une arborescence de répertoires.
    </para>
    <para>
     L'activation de l'option <guimenu>Copier uniquement les fichiers nécessaires pour gagner de l'espace</guimenu> vous permet de gagner de l'espace. Vous pouvez éventuellement indiquer des crédits en renseignant les champs <guimenu>CD Publisher</guimenu> et <guimenu>CD Preparer</guimenu>.
    </para>
    <para>
     Cliquez ensuite sur <guimenu>Suivant</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Modifiez le contenu du fichier <filename>isolinux.cfg</filename> s'il fait partie de la configuration. Dans la plupart des cas, vous pouvez le laisser tel quel. Si le fichier ne fait pas partie de la configuration, ajoutez-le maintenant dans <guimenu>Charger le fichier</guimenu>. 
    </para>
    <para>
     Cliquez ensuite sur <guimenu>Suivant</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Sélectionnez les paquetages logiciels à inclure dans le produit. Le mode d'affichage par défaut vous permet de sélectionner des modèles. Cliquez sur <guimenu>Détails</guimenu> pour être en mesure de sélectionner des paquetages individuels. L'outil de résolution tente de résoudre automatiquement toutes les dépendances de paquetage lorsque vous sélectionnez de nouveaux paquetages. Si la tentative échoue, il vous appartient de résoudre manuellement le conflit. Si la résolution d'un conflit s'avère impossible, il se peut que la source qui fournit un paquetage nécessaire soit manquante.
    </para>
    <para>
     Cliquez ensuite sur <guimenu>Suivant</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Signez votre produit avec <guimenu>Signer numériquement le produit sur le support</guimenu> si nécessaire. Fournissez une clé pour la configuration de votre produit. Le fait de signer votre produit avec votre clé GPG prouve l'origine de votre produit. 
    </para>
    <para>
     Cliquez ensuite sur <guimenu>Suivant</guimenu>.
    </para>
   </step>
   <step performance="required">
    <para>
     Vérifiez vos paramètres dans le résumé de configuration et cliquez ensuite sur <guimenu>Terminer</guimenu> pour continuer. Pour modifier un paramètre, cliquez sur les boutons <guimenu>Précédent</guimenu>.
    </para>
   </step>
  </procedure>

  <para>
   La définition de votre produit est désormais terminée. Le module Product Creator vous permet de sélectionner l'une des actions suivantes :
  </para>

  <itemizedlist mark="bullet" spacing="normal">
   <listitem>
    <formalpara>
     <title><guimenu>Créer un produit</guimenu></title>
     <para>
      Crée une image ISO du produit sélectionné. Si un élément manque, le processus sera interrompu. Corrigez l'erreur et recommencez la configuration.
     </para>
    </formalpara>
   </listitem>
   <listitem>
    <formalpara>
     <title><guimenu>Créer une image avec KIWI</guimenu></title>
     <para>
      Utilisez le menu déroulant pour choisir parmi les différents formats cibles, tels que les supports Live ou les images Xen.
     </para>
    </formalpara>
   </listitem>
  </itemizedlist>
 </sect1>
</chapter>
