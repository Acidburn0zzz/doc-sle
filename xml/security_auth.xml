<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="cha.security.auth">
 <title>Authentication Server</title>

 <abstract>
  <para>
   The Authentication Server is based on LDAP and optionally Kerberos.
   You can configure it with a &yast; wizard.
  </para>
  <para>
   For more information about LDAP, see <xref linkend="cha.security.ldap"/>.
  </para>
 </abstract>
 <sect1 id="sec.security.auth.yast"><!-- os="sles">-->
 <title>Configuring an Authentication Server with &yast;</title>
  <para>
   To set up an authentication server for user account data, make sure
   the <systemitem>yast2-auth-server</systemitem>,
   <systemitem>openldap2</systemitem>,
   <systemitem>krb5-server</systemitem>, and
   <systemitem>krb5-client</systemitem> packages are installed; &yast;
   will remind you and install them if one of these packages is missing.
  </para>
  <para>
   The first part of the Authentication Server configuration with &yast;
   is setting up an LDAP server:
  </para>
  <procedure>
   <title>Authentication Server Configuration with &yast;, Part 1</title>
   <step>
    <para>
     Start &yast; as &rootuser; and select <menuchoice> <guimenu>Network
     Services</guimenu> <guimenu>Authentication Server</guimenu>
     </menuchoice> to invoke the configuration wizard.
    </para>
    <figure id="fig.auth.y2.wizard.general.settings">
     <title>&yast; Authentication Server Configuration</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_auth_wizard_general_settings.png" width="75%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_auth_wizard_general_settings.png" width="75%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
   </step>
   <step>
    <para>
     Configure the <guimenu>Global Settings</guimenu> of your LDAP server
     (you can change these settings later)&mdash;see
     <xref linkend="fig.auth.y2.wizard.general.settings"/>:
    </para>
    <substeps>
     <step>
      <para>
       Set LDAP to be started.
      </para>
     </step>
     <step>
      <para>
       If the LDAP server should announce its services via SLP, check
       <guimenu>Register at an SLP Daemon</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Configure <guimenu>Firewall Settings</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Next</guimenu>.
      </para>
     </step>
    </substeps>
   </step>
   <step>
    <para>
     Select the server type: <guimenu>Stand-alone server</guimenu>,
     <guimenu>Master server in a replication setup</guimenu>, or
     <guimenu>Replica (slave) server</guimenu>.
    </para>
   </step>
   <step>
    <para>
     Select security options (<guimenu>TLS Settings</guimenu>).
    </para>
    <para>
     It is strongly recommended to <guimenu>Enable TLS</guimenu>. For more
     information, see <xref linkend="step.ldap.server.config.tls"/>.
    </para>
    <warning>
     <title>Password Encryption</title>
     <para>
      Enabling TLS ensures passwords are sent encrypted over the network.
      When this option is not enabled, passwords are sent unencrypted.
     </para>
    </warning>
    <para>
     Also consider to use LDAP over SSL and certificates.
    </para>
   </step>
   <step>
    <para>
     Confirm <guimenu>Basic Database Settings</guimenu> with entering an
     <guimenu>LDAP Administrator Password</guimenu> and then clicking
     <guimenu>Next</guimenu>&mdash;see
     <xref
      linkend="fig.auth.y2.wizard.db.settings"/>.
    </para>

    <figure id="fig.auth.y2.wizard.db.settings">
     <title>&yast; LDAP Server&mdash;New Database</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="yast2_auth_wizard_db_settings.png" width="75%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="yast2_auth_wizard_db_settings.png" width="75%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>

   </step>
   <step>
    <para>
     Check the <guimenu>LDAP Server Configuration Summary</guimenu> and
     click <guimenu>Finish</guimenu> to exit the configuration wizard.
    </para>
   </step>

  </procedure>
 </sect1>
</chapter>
