<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1 PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<sect1 id="sec.basicnet.yast">
 <title>Configuring a Network Connection with &yast;</title><indexterm id="idx.networks_integrating" class="startofrange">

 <primary>networks</primary>

 <secondary>configuring</secondary></indexterm><indexterm>

 <primary>cards</primary>

 <secondary>network</secondary></indexterm>

 <para>
  There are many supported networking types on Linux. Most of them use
  different device names and the configuration files are spread over several
  locations in the file system. For a detailed overview of the aspects of
  manual network configuration, see <xref linkend="sec.basicnet.manconf"/>.
 </para>

 <para>
  <phrase os="osuse">During installation on a laptop (where &nm; is active
  by default) &yast; configures all interfaces that have been
  detected.</phrase><phrase os="sles;sled">On &sled;, where &nm; is active
  by default, all network cards are configured.</phrase> If &nm; is not
  active, only the first interface with link up (with a network cable
  connected) is automatically configured. Additional hardware can be
  configured any time on the installed system. The following sections
  describe the network configuration for all types of network connections
  supported by &productname;.
 </para>

 <tip arch="zseries" os="sles">
<!--FIXME check-->
  <title>IBM &zseries;: Hotpluggable Network Cards</title>
  <para>
   On IBM &zseries; platforms, hotpluggable network cards are supported, but
   not their automatic network integration via DHCP (as is the case on the
   PC). After detection, manually configure the interface.
  </para>
 </tip>

 <sect2 id="sec.basicnet.yast.netcard">
  <title>Configuring the Network Card with &yast;</title><indexterm>
  <primary>cards</primary>
  <secondary>network</secondary></indexterm><indexterm>
  <primary>networks</primary>
  <secondary>YaST</secondary></indexterm><indexterm>
  <primary>YaST</primary>
  <secondary>network card</secondary></indexterm><indexterm></indexterm>
  <para>
   To configure your wired or wireless network card in &yast;, select
   <menuchoice> <guimenu>Network Devices</guimenu> <guimenu>Network
   Settings</guimenu> </menuchoice>. After starting the module, &yast;
   displays the <guimenu>Network Settings</guimenu> dialog with four tabs:
   <guimenu>Global Options</guimenu>, <guimenu>Overview</guimenu>,
   <guimenu>Hostname/DNS</guimenu> and <guimenu>Routing</guimenu>.
  </para>
  <para>
   The <guimenu>Global Options</guimenu> tab allows you to set general
   networking options such as the use of &nm;, IPv6 and general DHCP
   options. For more information, see
   <xref linkend="sec.basicnet.yast.netcard.global"/>.
  </para>
  <para>
   The <guimenu>Overview</guimenu> tab contains information about installed
   network interfaces and configurations. Any properly detected network card
   is listed with its name. You can manually configure new cards, remove or
   change their configuration in this dialog. If you want to manually
   configure a card that was not automatically detected, see
   <xref
    linkend="sec.basicnet.yast.netcard.man" />. If you want to
   change the configuration of an already configured card, see
   <xref
    linkend="sec.basicnet.yast.netcard.change" />.
  </para>
  <para>
   The <guimenu>Hostname/DNS</guimenu> tab allows to set the hostname of the
   machine and name the servers to be used. For more information, see
   <xref linkend="sec.basicnet.yast.change.host" />.
  </para>
  <para>
   The <guimenu>Routing</guimenu> tab is used for the configuration of
   routing. See <xref linkend="sec.basicnet.yast.change.route" /> for more
   information.
  </para>
  <figure id="fig.yast2.neticard">
   <title>Configuring Network Settings</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="yast2_net_icard.png" width="75%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="yast2_net_icard.png" width="75%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
  <sect3 id="sec.basicnet.yast.netcard.global">
   <title>Configuring Global Networking Options</title>
   <para>
    The <guimenu>Global Options</guimenu> tab of the &yast; <guimenu>Network
    Settings</guimenu> module allows you to set important global networking
    options, such as the use of &nm;, IPv6 and DHCP client options. These
    settings are applicable for all network interfaces.
   </para>
   <para>
    In the <guimenu>Network Setup Method</guimenu> choose the way network
    connections are managed. If you want a &nm; desktop applet to manage
    connections for all interfaces, choose <guimenu>User Controlled with
    &nm;</guimenu>. This option is well suited for switching between multiple
    wired and wireless networks. If you do not run a desktop environment, or
    if your computer is a Xen server, virtual system, or provides network
    services such as DHCP or DNS in your network, use the <guimenu>Traditional
    Method with ifup</guimenu>. If &nm; is used, <command>nm-applet</command>
    should be used to configure network options and the
    <guimenu>Overview</guimenu>, <guimenu>Hostname/DNS</guimenu> and
    <guimenu>Routing</guimenu> tabs of the <guimenu>Network Settings</guimenu>
    module are disabled. For more information on &nm;, see <xref
    linkend="cha.nm"/>.
   </para>
   <para>
    In the <guimenu>IPv6 Protocol Settings</guimenu> choose whether you want
    to use the IPv6 protocol. It is possible to use IPv6 together with IPv4.
    By default, IPv6 is activated. However, in networks not using IPv6
    protocol, response times can be faster with IPv6 protocol disabled. If
    you want to disable IPv6, uncheck the <guimenu>Enable IPv6</guimenu>
    option. This disables autoload of the kernel module for IPv6. This will
    be applied after reboot.
   </para>
   <para>
    In the <guimenu>DHCP Client Options</guimenu> configure options for the
    DHCP client.
<!-- This option is still available on SLED11 SP1b4 -->
    If you want the DHCP client to ask the server to always broadcast its
    responses, check <guimenu>Request Broadcast Response</guimenu>. It may
    be needed if your machine is moving between different networks. The
    <guimenu>DHCP Client Identifier</guimenu> must be different for each
    DHCP client on a single network. If left empty, it defaults to the
    hardware address of the network interface. However, if you are running
    several virtual machines using the same network interface and,
    therefore, the same hardware address, specify a unique free-form
    identifier here.
   </para>
   <para>
    The <guimenu>Hostname to Send</guimenu> specifies a string used for the
    hostname option field when dhcpcd sends messages to DHCP server. Some
    DHCP servers update name server zones (forward and reverse records)
    according to this hostname (Dynamic DNS). Also, some DHCP servers
    require the <guimenu>Hostname to Send</guimenu> option field to contain
    a specific string in the DHCP messages from clients. Leave
    <literal>AUTO</literal> to send the current hostname (that is the one
    defined in <filename>/etc/HOSTNAME</filename>). Leave the option field
    empty for not sending any hostname. If you do not want to change the
    default route according to the information from DHCP,
    uncheck <guimenu>Change Default Route via DHCP</guimenu>.
   </para>
  </sect3>
  <sect3 id="sec.basicnet.yast.netcard.change">
   <title>Changing the Configuration of a Network Card</title>
   <para>
    To change the configuration of a network card, select a card from the
    list of the detected cards in <menuchoice> <guimenu>Network
    Settings</guimenu> <guimenu>Overview</guimenu> </menuchoice> in &yast;
    and click <guimenu>Edit</guimenu>. The <guimenu>Network Card
    Setup</guimenu> dialog appears in which to adjust the card configuration
    using the <guimenu>General</guimenu>, <guimenu>Address</guimenu> and
    <guimenu>Hardware</guimenu> tabs. For information about wireless card
    configuration, see <xref
     linkend="sec.wireless.wlan.yast2"/>.
   </para>
   <sect4 id="sec.basicnet.yast.change.address">
    <title>Configuring IP Addresses</title>
<!--OK--><indexterm>
    <primary>networks</primary>
    <secondary>&yast;</secondary>
    <tertiary>IP address</tertiary></indexterm>
    <para>
     You can set the IP address of the network card or the way its IP
     address is determined in the <guimenu>Address</guimenu> tab of the
     <guimenu>Network Card Setup</guimenu> dialog. Both IPv4 and IPv6
     addresses are supported. The network card can have <guimenu>No IP
     Address</guimenu> (which is useful for bonding devices), a
     <guimenu>Statically Assigned IP Address</guimenu> (IPv4 or IPv6) or a
     <guimenu>Dynamic Address</guimenu> assigned via <guimenu>DHCP</guimenu>
     or <guimenu>Zeroconf</guimenu> or both.
    </para>
    <para>
     If using <guimenu>Dynamic Address</guimenu>, select whether to use
     <guimenu>DHCP Version 4 Only</guimenu> (for IPv4), <guimenu>DHCP
     Version 6 Only</guimenu> (for IPv6) or <guimenu>DHCP Both Version 4 and
     6</guimenu>.
    </para>
    <para>
     If possible, the first network card with link that is available during
     the installation is automatically configured to use automatic address
     setup via DHCP. <phrase os="sles;sled">On &sled;, where &nm; is active
     by default, all network cards are configured.</phrase>
     <phrase os="osuse"
      >In case of laptop computers where &nm; is
     active by default, all network cards are configured.</phrase>
    </para>
    <note arch="zseries" os="sles">
     <title>IBM &zseries; and DHCP</title>
     <para>
      On IBM &zseries; platforms, DHCP-based address configuration is only
      supported with network cards that have a MAC address. This is only the
      case with OSA and OSA Express cards.
     </para>
    </note>
    <para>
     DHCP should also be used if you are using a DSL line but with no static
     IP assigned by the ISP (Internet Service Provider). If you decide to
     use DHCP, configure the details in <guimenu>DHCP Client
     Options</guimenu> in the <guimenu>Global Options</guimenu> tab of the
     <guimenu>Network Settings</guimenu> dialog of the &yast; network card
     configuration module.
<!-- This option is still available on SLED11 SP1a2 -->
     Specify whether the DHCP client should ask the server to always
     broadcast its responses in <guimenu>Request Broadcast
     Response</guimenu>. This option may be needed if your machine is a
     mobile client moving between networks. If you have a virtual host setup
     where different hosts communicate through the same interface, an
     <guimenu>DHCP Client Identifier</guimenu> is necessary to distinguish
     them.
    </para>
    <para>
     DHCP is a good choice for client configuration but it is not ideal for
     server configuration. To set a static IP address, proceed as follows:
    </para>
    <procedure>
     <step>
      <para>
       Select a card from the list of detected cards in the
       <guimenu>Overview</guimenu> tab of the &yast; network card
       configuration module and click <guimenu>Edit</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the <guimenu>Address</guimenu> tab, choose <guimenu>Statically
       Assigned IP Address</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Enter the <guimenu>IP Address</guimenu>. Both IPv4 and IPv6 addresses
       can be used. Enter the network mask in <guimenu>Subnet
       Mask</guimenu>. If the IPv6 address is used, use <guimenu>Subnet
       Mask</guimenu> for prefix length in format <literal>/64</literal>.
      </para>
      <para>
       Optionally, you can enter a fully qualified
       <guimenu>Hostname</guimenu> for this address, which will be written
       to the <filename>/etc/hosts</filename> configuration file.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Next</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To activate the configuration, click <guimenu>OK</guimenu>.
      </para>
     </step>
    </procedure>
    <para>
     If you use the static address, the name servers and default gateway are
     not configured automatically. To configure name servers, proceed as
     described in <xref linkend="sec.basicnet.yast.change.host" />. To
     configure a gateway, proceed as described in
     <xref
     linkend="sec.basicnet.yast.change.route" />.
    </para>
   </sect4>
   <sect4 id="sec.basicnet.yast.configure.aliases">
    <title>Configuring Aliases</title><indexterm>
    <primary>networks</primary>
    <secondary>&yast;</secondary>
    <tertiary>alias</tertiary></indexterm>
    <para>
     One network device can have multiple IP addresses, called aliases.
    </para>
    <note>
     <title>Aliases Are a Compatibility Feature</title>
     <para>
      These so-called aliases resp. labels work with IPv4 only. With IPv6
      they will be ignored. Using <command>iproute2</command> network
      interfaces can have one or more addresses.
     </para>
    </note>
    <para>
     Using &yast; to set an alias for your network card, proceed as follows:
    </para>
    <procedure>
     <step>
      <para>
       Select a card from the list of detected cards in the
       <guimenu>Overview</guimenu> tab of the &yast; network card
       configuration module and click <guimenu>Edit</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the <menuchoice> <guimenu>Address</guimenu> <guimenu>Additional
       Addresses</guimenu> </menuchoice> tab, click <guimenu>Add</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Enter <guimenu>Alias Name</guimenu>, <guimenu>IP Address</guimenu>,
       and <guimenu>Netmask</guimenu>. Do not include the interface name in
       the alias name.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>OK</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Next</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To activate the configuration, click <guimenu>OK</guimenu>.
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 id="sec.basicnet.yast.change.udev">
    <title>Changing the Device Name and Udev Rules</title>
    <para>
     It is possible to change the device name of the network card when it is
     used. It is also possible to determine whether the network card should
     be identified by udev via its hardware (MAC) address or via the bus ID.
     The later option is preferable in large servers to ease hot swapping of
     cards. To set these options with &yast;, proceed as follows:
    </para>
    <procedure>
     <step>
      <para>
       Select a card from the list of detected cards in the
       <guimenu>Overview</guimenu> tab of the &yast; <guimenu>Network
       Settings</guimenu> module and click <guimenu>Edit</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Go to the <guimenu>Hardware</guimenu> tab. The current device name is
       shown in <guimenu>Udev Rules</guimenu>. Click
       <guimenu>Change</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Select whether udev should identify the card by its <guimenu>MAC
       Address</guimenu> or <guimenu>Bus ID</guimenu>. The current MAC
       address and bus ID of the card are shown in the dialog.
      </para>
     </step>
     <step>
      <para>
       To change the device name, check the <guimenu>Change Device
       Name</guimenu> option and edit the name.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>OK</guimenu> and <guimenu>Next</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To activate the configuration, click <guimenu>OK</guimenu>.
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 id="sec.basicnet.yast.change.driver">
    <title>Changing Network Card Kernel Driver</title>
    <para>
     For some network cards, several kernel drivers may be available. If the
     card is already configured, &yast; allows you to select a kernel driver
     to be used from a list of available suitable drivers. It is also
     possible to specify options for the kernel driver. To set these options
     with &yast;, proceed as follows:
    </para>
    <procedure>
     <step>
      <para>
       Select a card from the list of detected cards in the
       <guimenu>Overview</guimenu> tab of the &yast; Network Settings module
       and click <guimenu>Edit</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Go to the <guimenu>Hardware</guimenu> tab.
      </para>
     </step>
     <step>
      <para>
       Select the kernel driver to be used in <guimenu>Module
       Name</guimenu>. Enter any options for the selected driver in
       <guimenu>Options</guimenu> in the form
       <!-- help with line-breaks to avoid xmlformat introduced spaces
       right after the opening <command> -->
       <command><replaceable
                 >option</replaceable>=<replaceable>value</replaceable
                 ></command>. If
       more options are used, they should be space-separated.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>OK</guimenu> and <guimenu>Next</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To activate the configuration, click <guimenu>OK</guimenu>.
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 id="sec.basicnet.yast.change.start">
    <title>Activating the Network Device</title><indexterm>
    <primary>networks</primary>
    <secondary>&yast;</secondary>
    <tertiary>activating</tertiary></indexterm>
    <para>
     If you use the traditional method with ifup, you can configure your
     device to either start during boot, on cable connection, on card
     detection, manually or never. To change device start-up, proceed as
     follows:
    </para>
    <procedure>
     <step>
      <para>
       In &yast; select a card from the list of detected cards in
       <menuchoice> <guimenu>Network Devices</guimenu> <guimenu>Network
       Settings</guimenu> </menuchoice> and click <guimenu>Edit</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the <guimenu>General</guimenu> tab, select the desired entry from
       <guimenu>Device Activation</guimenu>.
      </para>
      <para>
       Choose <guimenu>At Boot Time</guimenu> to start the device during the
       system boot. With <guimenu>On Cable Connection</guimenu>, the
       interface is watched for any existing physical connection. With
       <guimenu>On Hotplug</guimenu>, the interface is set as soon as
       available. It is similar to the <guimenu>At Boot Time</guimenu>
       option, and only differs in the fact that no error occurs if the
       interface is not present at boot time. Choose
       <guimenu>Manually</guimenu> to control the interface manually with
       <command>ifup</command>. Choose <guimenu>Never</guimenu> to not start
       the device at all. The <guimenu>On NFSroot</guimenu> is similar to
       <guimenu>At Boot Time</guimenu>, but the interface does not shut down
       with the <command>systemctl stop wicked.service</command> command. Use this if you
       use an nfs or iscsi root file system.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Next</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To activate the configuration, click <guimenu>OK</guimenu>.
      </para>
     </step>
    </procedure>
    <para>
     Usually, only the system administrator can activate and deactivate
     network interfaces. If you want any user to be able to activate this
     interface via KInternet, select <guimenu>Enable Device Control for
     Non-root User via KInternet</guimenu>.
    </para>
   </sect4>
   <sect4>
    <title>Setting Up Maximum Transfer Unit Size</title>
    <para>
     You can set a maximum transmission unit (MTU) for the interface. MTU
     refers to the largest allowed packet size in bytes. A higher MTU brings
     higher bandwidth efficiency. However, large packets can block up a slow
     interface for some time, increasing the lag for further packets.
    </para>
    <procedure>
     <step>
      <para>
       In &yast; select a card from the list of detected cards in
       <menuchoice> <guimenu>Network Devices</guimenu> <guimenu>Network
       Settings</guimenu> </menuchoice> and click <guimenu>Edit</guimenu>.
      </para>
     </step>
     <step>
      <para>
       In the <guimenu>General</guimenu> tab, select the desired entry from
       the <guimenu>Set MTU</guimenu> list.
      </para>
     </step>
     <step>
      <para>
       Click <guimenu>Next</guimenu>.
      </para>
     </step>
     <step>
      <para>
       To activate the configuration, click <guimenu>OK</guimenu>.
      </para>
     </step>
    </procedure>
   </sect4>
   <sect4 id="sec.basicnet.yast.change.fire">
<!--OK-->
    <title>Configuring the Firewall</title>
    <para>
     Without having to enter the detailed firewall setup as described in
     <xref
      linkend="sec.security.firewall.SuSE.yast"/>, you can
     determine the basic firewall setup for your device as part of the
     device setup. Proceed as follows:
    </para>
    <procedure>
     <step>
      <para>
       Open the &yast; <menuchoice> <guimenu>Network Devices</guimenu>
       <guimenu>Network Settings</guimenu> </menuchoice> module. In the
       <guimenu>Overview</guimenu> tab, select a card from the list of
       detected cards and click <guimenu>Edit</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Enter the <guimenu>General</guimenu> tab of the <guimenu>Network
       Settings</guimenu> dialog.
      </para>
     </step>
     <step>
      <para>
       Determine the firewall zone to which your interface should be
       assigned. The following options are available:
      </para>
      <variablelist>
       <varlistentry>
        <term>Firewall Disabled</term>
        <listitem>
         <para>
          This option is available only if the firewall is disabled and the
          firewall does not run at all. Only use this option if your machine
          is part of a greater network that is protected by an outer
          firewall.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Automatically Assign Zone</term>
        <listitem>
         <para>
          This option is available only if the firewall is enabled. The
          firewall is running and the interface is automatically assigned to
          a firewall zone. The zone which contains the keyword
          <literal>any</literal> or the external zone will be used for such
          an interface.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Internal Zone (Unprotected)</term>
        <listitem>
         <para>
          The firewall is running, but does not enforce any rules to protect
          this interface. Use this option if your machine is part of a
          greater network that is protected by an outer firewall. It is also
          useful for the interfaces connected to the internal network, when
          the machine has more network interfaces.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Demilitarized Zone</term>
        <listitem>
         <para>
          A demilitarized zone is an additional line of defense in front of
          an internal network and the (hostile) Internet. Hosts assigned to
          this zone can be reached from the internal network and from the
          Internet, but cannot access the internal network.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>External Zone</term>
        <listitem>
         <para>
          The firewall is running on this interface and fully protects it
          against other&mdash;presumably hostile&mdash;network traffic. This
          is the default option.
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </step>
     <step>
      <para>
       Click <guimenu>Next</guimenu>.
      </para>
     </step>
     <step>
      <para>
       Activate the configuration by clicking <guimenu>OK</guimenu>.
      </para>
     </step>
    </procedure>
   </sect4>
  </sect3>
  <sect3 id="sec.basicnet.yast.netcard.man">
   <title>Configuring an Undetected Network Card</title>
   <para>
    Your card may not be detected correctly. In this case, the card is not
    included in the list of detected cards. If you are sure that your system
    includes a driver for your card, you can configure it manually. You can
    also configure special network device types, such as bridge, bond, TUN
    or TAP. To configure an undetected network card (or a special device)
    proceed as follows:
   </para>
   <procedure>
    <step>
     <para>
      In the <menuchoice> <guimenu>Network Devices</guimenu>
      <guimenu>Network Settings</guimenu> <guimenu>Overview</guimenu>
      </menuchoice> dialog in &yast; click <guimenu>Add</guimenu>.
     </para>
    </step>
    <step>
     <para>
      <remark>mdejmek: Device Name/ Module Name instead of Configuration Name?</remark>
      <remark>jfriedl: nope, you are probably looking on a wrong dialog</remark>
      In the <guimenu>Hardware</guimenu> dialog, set the <guimenu>Device
      Type</guimenu> of the interface from the available options and
      <guimenu>Configuration Name</guimenu>. If the network card is a PCMCIA
      or USB device, activate the respective check box and exit this dialog
      with <guimenu>Next</guimenu>. Otherwise, you can define the kernel
      <guimenu>Module Name</guimenu> to be used for the card and its
      <guimenu>Options</guimenu>, if necessary.
     </para>
     <para>
      In <guimenu>Ethtool Options</guimenu>, you can set
      <command>ethtool</command> options used by <command>ifup</command> for
      the interface. See the <command>ethtool</command> manual page for
      available options. If the option string starts with a
      <literal>-</literal> (for example <literal>-K
      <replaceable>interface_name</replaceable> rx on</literal>), the second
      word in the string is replaced with the current interface name.
      Otherwise (for example <literal>autoneg off speed 10</literal>)
      <command>ifup</command> prepends <literal>-s
      <replaceable>interface_name</replaceable></literal>.
     </para>
    </step>
    <step>
     <para>
      Click <guimenu>Next</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Configure any needed options, such as the IP address, device
      activation or firewall zone for the interface in the
      <guimenu>General</guimenu>, <guimenu>Address</guimenu>, and
      <guimenu>Hardware</guimenu> tabs. For more information about the
      configuration options, see
      <xref linkend="sec.basicnet.yast.netcard.change" />.
     </para>
    </step>
    <step>
     <para>
      If you selected <guimenu>Wireless</guimenu> as the device type of the
      interface, configure the wireless connection in the next dialog.
      <phrase os="sles;sled">Detailed information about wireless device
      configuration is available in
      <xref
       linkend="cha.wireless.wlan"/>.</phrase>
     </para>
    </step>
    <step>
     <para>
      Click <guimenu>Next</guimenu>.
     </para>
    </step>
    <step>
     <para>
      To activate the new network configuration, click
      <guimenu>OK</guimenu>.
     </para>
    </step>
   </procedure>
<!--<para>Information about the conventions for
    configuration names is available in the
    <systemitem>getcfg(8)</systemitem> man page.
   </para>-->
  </sect3>
  <sect3 id="sec.basicnet.yast.change.host">
   <title>Configuring Hostname and DNS</title><indexterm>
   <primary>networks</primary>
   <secondary>&yast;</secondary>
   <tertiary>hostname</tertiary></indexterm>
   <para>
    If you did not change the network configuration during installation and
    the wired card was already available, a hostname was automatically
    generated for your computer and DHCP was activated. The same applies to
    the name service information your host needs to integrate into a network
    environment. If DHCP is used for network address setup, the list of
    domain name servers is automatically filled with the appropriate data.
    If a static setup is preferred, set these values manually.
   </para>
   <para>
    To change the name of your computer and adjust the name server search
    list, proceed as follows:
   </para>
   <procedure>
    <step>
     <para>
      Go to the <menuchoice> <guimenu>Network Settings</guimenu>
      <guimenu>Hostname/DNS</guimenu> </menuchoice> tab in the
      <guimenu>Network Devices</guimenu> module in &yast;.
     </para>
    </step>
    <step>
     <para>
      Enter the <guimenu>Hostname</guimenu> and, if needed, the
      <guimenu>Domain Name</guimenu>. The domain is especially important if
      the machine is a mail server. Note that the hostname is global and
      applies to all set network interfaces.
     </para>
     <para>
      If you are using DHCP to get an IP address, the hostname of your
      computer will be automatically set by the DHCP. You may want to
      disable this behavior if you connect to different networks, because
      they may assign different hostnames and changing the hostname at
      runtime may confuse the graphical desktop. To disable using DHCP to
      get an IP address uncheck <guimenu>Change Hostname via DHCP</guimenu>.
     </para>
     <para>
      <guimenu>Assign Hostname to Loopback IP</guimenu> associates your
      hostname with <literal>127.0.0.2</literal> (loopback) IP address in
      <filename>/etc/hosts</filename>. This is an useful option if you want
      to have the hostname resolvable at all times, even without active
      network.
     </para>
    </step>
    <step>
     <para>
      In <guimenu>Modify DNS Configuration</guimenu>, select the way the DNS
      configuration (name servers, search list, the content of the
      <filename>/etc/resolv.conf</filename> file) is modified.
     </para>
     <para>
      If the <guimenu>Use Default Policy</guimenu> option is selected, the
      configuration is handled by the <command>netconfig</command> script
      which merges the data defined statically (with &yast; or in the
      configuration files) with data obtained dynamically (from the DHCP
      client or NetworkManager). This default policy is sufficient in most
      cases.
     </para>
     <para>
      If the <guimenu>Only Manually</guimenu> option is selected,
      <command>netconfig</command> is not allowed to modify the
      <filename>/etc/resolv.conf</filename> file. However, this file can be
      edited manually.
     </para>
     <para>
      If the <guimenu>Custom Policy</guimenu> option is selected, a
      <guimenu>Custom Policy Rule</guimenu> string defining the merge policy
      should be specified. The string consists of a comma-separated list of
      interface names to be considered a valid source of settings. Except
      for complete interface names, basic wildcards to match multiple
      interfaces are allowed, as well. For example, <literal>eth*
      ppp?</literal> will first target all eth and then all ppp0-ppp9
      interfaces. There are two special policy values that indicate how to
      apply the static settings defined in the
      <filename>/etc/sysconfig/network/config</filename> file:
     </para>
     <variablelist>
      <varlistentry>
       <term><literal>STATIC</literal>
       </term>
       <listitem>
        <para>
         The static settings have to be merged together with the dynamic
         settings.
        </para>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term><literal>STATIC_FALLBACK</literal>
       </term>
       <listitem>
        <para>
         The static settings are used only when no dynamic configuration is
         available.
        </para>
       </listitem>
      </varlistentry>
     </variablelist>
     <para>
      For more information, see the <command>man 8 netconfig</command>.
     </para>
    </step>
    <step>
     <para>
      Enter the <guimenu>Name Servers</guimenu> and fill in the
      <guimenu>Domain Search</guimenu> list. Name servers must be specified
      by IP addresses, such as &dnsip;, not by hostnames. Names specified in
      the <guimenu>Domain Search</guimenu> tab are domain names used for
      resolving hostnames without a specified domain. If more than one
      <guimenu>Domain Search</guimenu> is used, separate domains with commas
      or white space.
     </para>
    </step>
    <step>
     <para>
      To activate the configuration, click <guimenu>OK</guimenu>.
     </para>
    </step>
   </procedure>
   <para>
    It is also possible to edit the hostname using &yast; from the command
    line. The changes made by &yast; take effect immediately (which is not
    the case when editing the <filename>/etc/HOSTNAME</filename> file
    manually). To change the hostname, use the following command:
   </para>
<screen>yast dns edit hostname=<replaceable>hostname</replaceable></screen>
   <para>
    To change the name servers, use the following commands:
   </para>
<screen>yast dns edit nameserver1=&dnsip;</screen>
<screen>yast dns edit nameserver2=&dnsip117;</screen>
<screen>yast dns edit nameserver3=&dnsip118;</screen>
  </sect3>
  <sect3 id="sec.basicnet.yast.change.route">
   <title>Configuring Routing</title><indexterm>
   <primary>networks</primary>
   <secondary>&yast;</secondary>
   <tertiary>gateway</tertiary></indexterm>
   <para>
    To make your machine communicate with other machines and other networks,
    routing information must be given to make network traffic take the
    correct path. If DHCP is used, this information is automatically
    provided. If a static setup is used, this data must be added manually.
   </para>
   <procedure>
    <step>
     <para>
      In &yast; go to <menuchoice> <guimenu>Network Settings</guimenu>
      <guimenu>Routing</guimenu> </menuchoice>.
     </para>
    </step>
    <step>
     <para>
      Enter the IP address of the <guimenu>Default Gateway</guimenu> (IPv4
      and IPv6 if necessary). The default gateway matches every possible
      destination, but if any other entry exists that matches the required
      address, use this instead of the default route.
     </para>
    </step>
    <step>
     <para>
      More entries can be entered in the <guimenu>Routing Table</guimenu>.
      Enter the <guimenu>Destination</guimenu> network IP address,
      <guimenu>Gateway</guimenu> IP address and the
      <guimenu>Netmask</guimenu>. Select the <guimenu>Device</guimenu>
      through which the traffic to the defined network will be routed (the
      minus sign stands for any device).
      <remark>mdejmek: ok, what does the minus exactly do? you are using it here for different things;</remark>
      To omit any of these values, use the minus sign <literal>-</literal>.
      To enter a default gateway into the table, use
      <literal>default</literal> in the <guimenu>Destination</guimenu>
      field.
     </para>
     <note>
      <para>
       If more default routes are used, it is possible to specify the metric
       option to determine which route has a higher priority. To specify the
       metric option, enter <option>- metric
       <replaceable>number</replaceable></option> in
       <guimenu>Options</guimenu>. The route with the highest metric is used
       as default. If the network device is disconnected, its route will be
       removed and the next one will be used.
       <remark>mdejmek:hm, then why are you explaining it here? the whole sentence is not clear to me</remark>
       <remark>jfriedl what is not clear exactly? multipathd can be used</remark>
       However, the current kernel does not use metric in static routing,
       only routing daemons like <systemitem>multipathd</systemitem> do.
      </para>
     </note>
    </step>
    <step>
     <para>
      If the system is a router, enable the <guimenu>IP Forwarding</guimenu>
      option in the <guimenu>Network Settings</guimenu>.
     </para>
    </step>
    <step>
     <para>
      To activate the configuration, click <guimenu>OK</guimenu>.
     </para>
    </step>
   </procedure>
  </sect3>
 </sect2>


 <xi:include arch="zseries" os="sles"
  xmlns:xi="http://www.w3.org/2001/XInclude" href="zseries_net_lan_devices.xml"/>
</sect1>
