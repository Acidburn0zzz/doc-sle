<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sect1
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>

<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="rmt.tools.cli">
 <title>Important Scripts and Tools</title>

 <para>
  There are two important groups of &rmt; commands: The
  <command>rmt-cli</command> command and its sub-commands are used for managing
  the mirroring of updates, registration of clients, and reporting. The
  &systemd; <systemitem>rmt.target</systemitem> is used for starting,
  stopping, restarting the &rmt; service and services that &rmt; depends on,
  and for checking their status.
 </para>


 <sect2 xml:id="rmt.tools.rmt-cli">
  <title>rmt-cli Commands</title>
  <para>
   The key command to manage the &rmt; is <command>rmt-cli</command>
   (<filename>/usr/bin/rmt-cli</filename>). The <command>rmt-cli</command> command
   should be used together with various sub-commands described in this
   section. If the <command>rmt-cli</command> command is used alone, it prints
   a list of all available sub-commands. To get help for individual
   sub-commands, use <command>man rmt-cli</command>.
  </para>
  <para>
   The following sub-commands are available:
  </para>
  <variablelist>
   <varlistentry>
    <term><command>rmt-cli sync</command></term>
    <listitem>
     <para>
      Synchronize database with &scc;.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>rmt-cli products</command></term>
    <listitem>
     <para>
      List and modify products.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>rmt-cli repos</command></term>
    <listitem>
     <para>
      List and modify repositories.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>rmt-cli mirror</command></term>
    <listitem>
     <para>
      Mirror repositories.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>rmt-cli import</command></term>
    <listitem>
     <para>
      Import commands for offline synchronization.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>rmt-cli export</command></term>
    <listitem>
     <para>
      Export commands for offline synchronization.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>rmt-cli version</command></term>
    <listitem>
     <para>
      Show &rmt; version.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

 <sect2>
  <title>&rmt; &systemd; Commands</title>
  <para>
   You can manage &rmt;-related services with the standard &systemd;
   commands:
  </para>
  <variablelist>
   <varlistentry>
    <term><command>systemctl start smt.target</command>
    </term>
    <listitem>
     <para>
      Starts the &rmt; services.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>systemctl stop smt.target</command>
    </term>
    <listitem>
     <para>
      Stops the &rmt; services.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>systemctl status smt.target</command>
    </term>
    <listitem>
     <para>
      Checks the status of the &rmt; services. Checks whether httpd, &mariadb;,
      and cron are running.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>systemctl restart smt.target</command>
    </term>
    <listitem>
     <para>
      Restarts the &rmt; services.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><command>systemctl try-restart smt.target</command>
    </term>
    <listitem>
     <para>
      Checks whether the &rmt; services are enabled and if so, restarts them.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   You can enable and disable &rmt; with the &yast; &rmt; Server module.
  </para>
 </sect2>
</sect1>
