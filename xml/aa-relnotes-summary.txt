AppArmor changes since 2.3
--------------------------
TODO:
* FATE#308683: Drop incident reporting tools from yast2-apparmor
* FATE#308684: Drop profile generating tools from yast2-apparmor
* document aa-notify (replaced gnome apparmor applet)


type=AVC msg=audit(1392914386.490:130): apparmor="DENIED" operation="mkdir" profile="/usr/sbin/winbindd" name="/home/sys-var/run/samba/winbindd/" pid=3696 comm="winbindd" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
type=AVC msg=audit(1392924991.406:329): apparmor="DENIED" operation="file_mmap" profile="/{usr/,}bin/ping" name="/home/sys-var/run/nscd/dbFCH9zD" pid=8168 comm="ping" requested_mask="r" denied_mask="r" fsuid=1000 ouid=0
type=AVC msg=audit(1392925985.832:342): apparmor="DENIED" operation="file_mmap" profile="/{usr/,}bin/ping" name="/home/sys-var/run/nscd/dbFCH9zD" pid=8575 comm="ping" requested_mask="r" denied_mask="r" fsuid=1000 ouid=0
type=AVC msg=audit(1392926004.444:350): apparmor="DENIED" operation="file_mmap" profile="/{usr/,}bin/ping" name="/home/sys-var/run/nscd/dbFCH9zD" pid=8640 comm="ping" requested_mask="r" denied_mask="r" fsuid=1000 ouid=0
type=AVC msg=audit(1392926008.232:351): apparmor="DENIED" operation="file_mmap" profile="/{usr/,}bin/ping" name="/home/sys-var/run/nscd/dbFCH9zD" pid=8652 comm="ping" requested_mask="r" denied_mask="r" fsuid=1000 ouid=0
type=AVC msg=audit(1392926022.133:352): apparmor="DENIED" operation="file_mmap" profile="/{usr/,}bin/ping" name="/home/sys-var/run/nscd/dbFCH9zD" pid=8666 comm="ping" requested_mask="r" denied_mask="r" fsuid=1000 ouid=0
type=AVC msg=audit(1392926210.338:353): apparmor="DENIED" operation="file_mmap" profile="/{usr/,}bin/ping" name="/home/sys-var/run/nscd/dbFCH9zD" pid=8713 comm="ping" requested_mask="r" denied_mask="r" fsuid=1000 ouid=0
type=AVC msg=audit(1392930778.855:416): apparmor="DENIED" operation="file_mmap" profile="/{usr/,}bin/ping" name="/home/sys-var/run/nscd/dbFCH9zD" pid=9849 comm="ping" requested_mask="r" denied_mask="r" fsuid=1000 ouid=0
type=AVC msg=audit(1392936701.010:497): apparmor="DENIED" operation="file_mmap" profile="/{usr/,}bin/ping" name="/home/sys-var/run/nscd/dbFCH9zD" pid=12369 comm="ping" requested_mask="r" denied_mask="r" fsuid=1000 ouid=0
type=AVC msg=audit(1392981119.768:105): apparmor="DENIED" operation="mkdir" profile="/usr/sbin/dovecot" name="/home/sys-var/run/dovecot/" pid=3576 comm="dovecot" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
type=AVC msg=audit(1392981120.828:110): apparmor="DENIED" operation="mkdir" profile="/usr/sbin/nmbd" name="/home/sys-var/run/samba/nmbd/" pid=3600 comm="nmbd" requested_mask="c" denied_mask="c" fsuid=0 ouid=0
type=AVC msg=audit(1392981121.477:130): apparmor="DENIED" operation="mkdir" profile="/usr/sbin/winbindd" name="/home/sys-var/run/samba/winbindd/" pid=3887 comm="winbindd" requested_mask="c" denied_mask="c" fsuid=0 ouid=0

(13:10:11) cboltz: create /var/log/audit/audit.log with the first 4 or 5 lines
(13:10:14) cboltz: then start aa-notify
(13:10:34) cboltz: then   echo $one_line >> audit.log
(13:10:44) cboltz: this should give you a notification


NEW FEATURES:

new profile flags controlling profile path lookup behavior (chroot_relative,namespace_relative,attach_disconnected,no_attach_disconnected,chroot_attach,chroot_no_attach):
Two new profile flags have been introduced to aid in mediation of disconnected paths. AppArmor's default behavior is to reject new accesses to disconnected paths reporting back the pathname without a leadeding / Unfortunately this can break some applications, if a profile must allow for mediation of disconnected paths then the profile flag attach_disconnected can be used. This prepend a leading / to the reported name, however this may not result in the original name of the file as AppArmor can only attach the file to root, not to its original location.
/some/profile (attach_disconnected) {
   ...
}



libvirt support
---------------
  support has been added to libvirt to support apparmor as a security model


lxc support
-----------
  lxc has support to use apparmor as a security model


Alternate methods of declaring the complain and disabling a profile. This allows setting these modes without disturbing the profile file which might be owned by package management
The
  force_complain
and
  disable
directories (and support for) have been added. Placing a symlink in these directories back to the profile will result in the profile mode being set


Interfaces
----------
- unconfined is a profile mode that can be reported via ps -Z or the profile interface (aa-status). This will show up on profiles that don't that have are not the unconfined profile.
  eg.
  /foo (unconfined)


