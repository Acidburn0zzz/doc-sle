<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
  [
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>
<chapter id="cha.xen.basics">
 <title>Introduction to &xen; Virtualization</title>
 <para>
  Virtualization of operating systems is used in many different computing
  areas. It finds its applications in server consolidation, energy saving
  efforts, or the ability to run older software on new hardware, for
  example. This chapter introduces and explains the components and
  technologies you need to understand to set up and manage a &xen;-based
  virtualization environment.
 </para>
 <sect1 id="sec.xen.basics.components">
  <title>Basic Components</title>

  <para>
   The basic components of a &xen;-based virtualization environment are the
   <emphasis>&xen; hypervisor</emphasis>, the <emphasis>&dom0;</emphasis>,
   any number of other <emphasis>&vmguest;s</emphasis>, and the tools,
   commands, and configuration files that let you manage virtualization.
   Collectively, the physical computer running all these components is
   referred to as a <emphasis>&vmhost;</emphasis> because together these
   components form a platform for hosting virtual machines.
  </para>

<!-- TODO: Host Desktop -> Controling Domain -->

  <variablelist>
   <varlistentry>
    <term>The &xen; Hypervisor</term>
    <listitem>
     <para>
      The &xen; hypervisor, sometimes referred to generically as a virtual
      machine monitor, is an open-source software program that coordinates
      the low-level interaction between virtual machines and physical
      hardware.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>The &dom0;</term>
    <listitem>
     <para>
      The virtual machine host environment, also referred to as
      <emphasis>&dom0;</emphasis> or controlling domain, is comprised of
      several components, such as:
     </para>
     <itemizedlist>
      <listitem>
       <para>
        The &suselinux; operating system, which gives the administrator a
        graphical and command line environment to manage the virtual machine
        host components and its virtual machines.
       </para>
       <note>
        <para>
         The term <quote>&dom0;</quote> refers to a special domain that
         provides the management environment. This may be run either in
         graphical or in command line mode.
        </para>
       </note>
      </listitem>
      <listitem>
       <para>
        The Xend daemon (xend), which stores configuration information about
        each virtual machine and controls how virtual machines are created
        and managed.
       </para>
      </listitem>
      <listitem>
       <para>
        A modified version of QEMU, which is an open-source software program
        that emulates a full computer system, including a processor and
        various peripherals. It provides the ability to host operating
        systems in full virtualization mode.
       </para>
      </listitem>
     </itemizedlist>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>&xen;-Based Virtual Machines</term>
    <listitem>
     <para>
      A &xen;-based virtual machine, also referred to as a
      <replaceable>&vmguest;</replaceable> or
      <replaceable>DomU</replaceable> consists of the following components:
     </para>
     <itemizedlist>
      <listitem>
       <para>
        At least one virtual disk that contains a bootable operating system.
        The virtual disk can be based on a file, partition, volume, or other
        type of block device.
       </para>
      </listitem>
      <listitem>
       <para>
        Virtual machine configuration information, which can be modified by
        exporting a text-based configuration file from Xend or through
        Virtual Machine Manager.
       </para>
      </listitem>
      <listitem>
       <para>
        A number of network devices, connected to the virtual network
        provided by the controlling domain.
       </para>
      </listitem>
     </itemizedlist>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Management Tools, Commands, and Configuration Files</term>
    <listitem>
     <para>
      There is a combination of GUI tools, commands, and configuration files
      to help you manage and customize your virtualization environment.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 id="sec.xen.basics.modes">
  <title>Understanding Virtualization Modes</title>

  <para>
   Guest operating systems are hosted on virtual machines in either full
   virtualization mode or paravirtual mode. Each virtualization mode has
   advantages and disadvantages.
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Full virtualization mode lets virtual machines run unmodified operating
     systems, such as Windows* Server 2003 and Windows XP, but requires the
     computer running as the &vmhost; to support hardware-assisted
     virtualization technology, such as AMD* Virtualization or Intel*
     Virtualization Technology.
    </para>
    <para>
     Some guest operating systems hosted in full virtualization mode, can be
     configured to run the Novell* Virtual Machine Drivers instead of
     drivers originating from the operating system. Running virtual machine
     drivers improves performance dramatically on guest operating systems,
     such as Windows XP and Windows Server 2003. For more information, see
     <xref linkend="cha.xen.driver" xrefstyle="ChapTitleOnPage"/>.
    </para>
   </listitem>
   <listitem>
    <para>
     Paravirtual mode does not require the host computer to support
     hardware-assisted virtualization technology, but does require the guest
     operating system to be modified for the virtualization environment.
     Typically, operating systems running in paravirtual mode enjoy better
     performance than those requiring full virtualization mode.
    </para>
    <para>
     Operating systems currently modified to run in paravirtual mode are
     referred to as <emphasis>paravirtualized operating systems</emphasis>
     and include &productname; 11 and NetWare® 6.5 SP8.
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 id="sec.xen.basics.arch">
  <title>&xen; Virtualization Architecture</title>

  <para>
   The following graphic depicts a virtual machine host with four virtual
   machines. The &xen; hypervisor is shown as running directly on the
   physical hardware platform. Note, that the controlling domain is also a
   virtual machine, although it has several additional management tasks
   compared to all other virtual machines.
  </para>

  <figure id="fig.xen.basics.arch">
   <title>Virtualization Architecture</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="xen_master_fong_a.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="xen_master_fong_a.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   On the left, the virtual machine host’s &dom0; is shown running the
   &suselinux; operating system. The two virtual machines shown in the
   middle are running paravirtualized operating systems. The virtual machine
   on the right shows a fully virtual machine running an unmodified
   operating system, such as Windows Server 2003 or Windows XP.
  </para>
 </sect1>
 <sect1 id="sec.xen.basics.vhost">
  <title>The Virtual Machine Host</title>

  <para>
   After you install the virtualization components and reboot the computer,
   the &grub; boot loader menu displays a &xen; menu option. Selecting the
   &xen; menu option loads the &xen; hypervisor and starts the &dom0;
   running the &suselinux; operating system.
  </para>

  <para>
   Running on &dom0;, the &suselinux; operating system displays the
   installed text console or desktop environment, such as GNOME. The
   terminals of &vmguest; systems are displayed in their own window inside
   the controlling &dom0; when opened.
  </para>

  <figure pgwide="0" id="fig.xen.basics.vhost">
   <title>Desktop Showing Virtual Machine Manager and Virtual Machines</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="xen_fullscreen.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="xen_fullscreen.png" width="100%" format="png"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
</chapter>
