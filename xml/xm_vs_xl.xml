<?xml version="1.0"?>
<!DOCTYPE article PUBLIC "-//Novell//DTD NovDoc XML V1.0//EN" "novdocx.dtd"
[
  <!ENTITY % NOVDOC.DEACTIVATE.IDREF "INCLUDE">
  <!ENTITY % entities SYSTEM "entity-decl.ent">
  %entities;
]>


<sect1 id="sec.xmvsxl">
 <title>XM and XL Toolstacks Differences</title>
 <para>
  The purpose of this chapter is to list all differences between
  <command>xm</command> and <command>xl</command>
  commands line. Most of command option no more available with
  <command>xl</command> can be replace by the &libvirt; framework 
  using the <command>virsh</command> command.
 </para>
 <sect2 id="sec.xmvsxl.conventions">
  <title>Notation Conventions</title>
  <para>To easily understand the difference between <command>xl</command>
  and <command>xm</command> commands, we will use the following notation conventions:
  </para>
  <table>
   <title>Notation Conventions</title>
   <tgroup cols="2">
    <colspec colnum="1" colname="1" colwidth="50*"/>
    <colspec colnum="2" colname="2" colwidth="50*"/>
    <thead>
     <row><entry>
      <para>
       Notation
      </para>
     </entry>
     <entry>
      <para>
       Signification
      </para>
     </entry></row>
    </thead>
    <tbody><row>
     <entry>
      <para>(*) asterix</para>
     </entry>
     <entry>
      <para>option changed, the option has some minor change</para>
     </entry>
    </row>
    <row>
     <entry>
      <para><emphasis role="warning">(-) minus</emphasis></para>
     </entry>
     <entry>
      <para>option exists in <command>xm</command>, but
      <command>xl</command> doesn't include it</para>
     </entry>
    </row>
    <row>
     <entry>
      <para>(+) plus</para>
     </entry>
     <entry>
      <para>option exists in <command>xl</command>, but                           
      <command>xm</command> doesn't include it</para>
     </entry>
    </row></tbody> 
   </tgroup>
  </table>
 </sect2>

 <sect2 id="sec.xmvsxl.global">
  <title>New Global Options</title>
  <para></para>
  <table>
   <title>New Global Options</title>
   <tgroup cols="2">
    <colspec colnum="1" colname="1" colwidth="50*"/>
    <colspec colnum="2" colname="2" colwidth="50*"/>
    <thead>
     <row>
      <entry>
       <para>Options</para>
      </entry>
      <entry>
       <para>Task</para>
      </entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry>
       <para>(+) -v</para>
      </entry>
      <entry>
       <para>Verbose, increase the verbosity of the output</para>
      </entry>
     </row>
     <row>
      <entry>
       <para>(+) -N</para>
      </entry>
      <entry>
       <para>Dry run, do not actually execute the command</para>
      </entry>
     </row>
     <row>
      <entry>
       <para>(+) -f</para>
      </entry>
      <entry>
       <para>
	Force execution. <command>xl</command> will refuse to run some
	commands if it detects that <command>xend</command> is also running, this option will 
	force the execution of those commands, even though it is unsafe.
       </para>
      </entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </sect2> 
 
 <sect2 id="sec.xmvsxl.common">
  <title>Unchanged Options</title>
  <para>
   List of common options between <command>xl</command> and <command>xm</command> commands:
  </para>
  <table rowsep="1">
   <title>Common Options</title>
   <tgroup cols="3">
    <colspec colnum="1" colname="1" colwidth="90*"/>
    <colspec colnum="2" colname="2" colwidth="30"/>
    <colspec colnum="3" colname="3" colwidth="50"/> 
    <thead>
     <row>
      <entry colname="1"><para>Options</para></entry>
      <entry colname="2"><para>Task</para></entry>
      <entry colname="3"><para>Also available</para></entry>
     </row>
    </thead>
    <tbody>
     <row>
      <entry colname="1">
       <para>destroy <replaceable>DOMAIN</replaceable></para>
      </entry>
      <entry colname="2">
       <para>Immediately terminate the domain</para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>domid <replaceable>DOMAIN_NAME</replaceable></para>
      </entry>
      <entry colname="2">
       <para>Converts a domain name to a <replaceable>DOMAIN_ID</replaceable></para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>domname <replaceable>DOMAIN_ID</replaceable></para>
      </entry>
      <entry colname="2">
       <para>Converts a <replaceable>DOMAIN_ID</replaceable> to a
       <replaceable>DOMAIN_NAME</replaceable></para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>help</para>
      </entry>
      <entry colname="2">
       <para>Displays the short help message (i.e. common commands)</para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>pause <replaceable>DOMAIN_ID</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	Pause a domain. When in a paused state the domain will still consume
	allocated resources such as memory, but will not be eligible for
	scheduling by the &xen; hypervisor
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>unpause <replaceable>DOMAIN_ID</replaceable></para>
      </entry>
      <entry colname="2">
       <para>Moves a domain out of the paused state. This will allow a
       previously paused domain to now be eligible for scheduling by the &xen;
       hypervisor
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>rename <replaceable>DOMAIN_ID</replaceable>
       <replaceable>NEW_DOMAIN_NAME</replaceable></para>
      </entry>
      <entry colname="2">
       <para>Change the domain name of <replaceable>DOMAIN_ID</replaceable>
       to <replaceable>NEW_DOMAIN_NAME</replaceable></para>
      </entry>
      <entry colname="3">
  	<orderedlist>
	 <listitem><para>
	  <command>virsh dumpxml <replaceable>DOMAINNAME</replaceable> &gt;
	  <replaceable>DOMXML</replaceable></command>
	 </para></listitem>
	 <listitem><para>
	  modify the domain's name in <replaceable>DOMXML</replaceable>
	 </para></listitem>
	 <listitem><para>
	  <command>virsh undefine <replaceable>DOMAINNAME</replaceable></command>
	 </para></listitem>
	 <listitem><para>
	  <command>virsh define <replaceable>DOMAINNAME</replaceable></command>
	 </para></listitem>
	</orderedlist>
      </entry>
     </row>
     <row>
      <entry colname="1">
       <para>sysrq <replaceable>DOMAIN</replaceable> &lt;letter&gt;</para>
      </entry>
      <entry colname="2">
       <para>
	 Send a Magic System Request to the domain, each type of request is
	 represented by a different letter. It can be used to send SysRq
	 requests to Linux guests, see sysrq.txt in your Linux Kernel
         sources for more information.  It requires PV drivers to be
	 installed in your guest OS
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>vncviewer <replaceable>OPTIONS</replaceable>
       <replaceable>DOMAIN</replaceable></para>
      </entry>
      <entry colname="2">
       <para><command>virt-view <replaceable>DOMAIN_ID</replaceable></command></para>
       <para><command>virsh <replaceable>vncdisplay</replaceable></command>: Display the
       vnc port.</para>   
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>vcpu-set <replaceable>DOMAIN_ID</replaceable> &lt;vCPUs&gt;</para>
      </entry>
      <entry colname="2">
       <para>
	Enables the vcpu-count virtual CPUs for the domain in question.  Like
	mem-set, this command can only allocate up to the maximum virtual CPU
	count configured at boot for the domain
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>vcpu-list <replaceable>DOMAIN_ID</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	Lists VCPU information for a specific domain. If no domain is
	specified, VCPU information for all domains will be provided
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>vcpu-pin <replaceable>DOMAIN_ID</replaceable> &lt;VCPU|all&gt;
       &lt;CPUs|all&gt;</para>
      </entry>
      <entry colname="2">
       <para>
	Pins the VCPU to only run on the specific CPUs.  The keyword all can
	be used to apply the cpus list to all VCPUs in the domain
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>dmesg [-c]</para>
      </entry>
      <entry colname="2">
       <para>
	Reads the Xen message buffer, similar to dmesg on a Linux system.  The
	buffer contains informational, warning, and error messages created
	during Xen's boot process. 
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>top</para>
      </entry>
      <entry colname="2">
       <para>
	Executes the <command>xentop</command> command, which provides real time monitoring of
	domains. Xentop is a curses interface, and reasonably self explanatory
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>uptime [-s] <replaceable>DOMAIN</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	Prints the current uptime of the domains running
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>debug-keys <replaceable>KEYS</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	Send debug keys to &xen;. It is the same as pressing the Xen "conswitch"
	(Ctrl-A by default) three times and then pressing "keys".
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>cpupool-migrate <replaceable>DOMAIN</replaceable>
       <replaceable>CPU_POOL</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	Moves a domain specified by <replaceable>DOMAIN_ID</replaceable> or
	<replaceable>DOMAIN</replaceable> into a <replaceable>CPU_POOL</replaceable>
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>cpupool-destroy <replaceable>CPU_POOL</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	Deactivates a cpu pool. This is possible only if no domain is active in the cpu-pool
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>block-detach <replaceable>DOMAIN_ID</replaceable>
       <replaceable>DevId</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	Detach a domain's virtual block device. <emphasis>devid</emphasis> may be the symbolic name
	or the numeric device id given to the device by &dom0;. You will
	need to run <command>xl <option>block-list</option></command> to determine that number
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>network-attach <replaceable>DOMAIN_ID</replaceable>
       <replaceable>NETWORK_DEVICE</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	Creates a new network device in the domain specified by <replaceable>DOMAIN_ID</replaceable>.
	network-device describes the device to attach, using the same format
	as the vif string in the domain config file
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>pci-attach <replaceable>DOMAIN</replaceable> &lt;BDF&gt;
       [Virtual Slot]</para>
      </entry>
      <entry colname="2">
       <para>
	Hot-plug a new pass-through pci device to the specified domain. BDF
	is the PCI Bus/Device/Function of the physical device to pass-throug
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>pci-list <replaceable>DOMAIN_ID</replaceable></para>
      </entry>
      <entry colname="2">
       <para>
	List pass-through pci devices for a domain
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>tmem-list [-l] [<replaceable>DOMAIN</replaceable>|-a]</para>
      </entry>
      <entry colname="2">
       <para>
	List tmem pools. If <option>-l</option> is specified, also list tmem stats.
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>tmem-thaw [<replaceable>DOMAIN</replaceable>|-a]</para>
      </entry>
      <entry colname="2">
       <para>
	Thaw tmem pools
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>tmem-freeze [<replaceable>DOMAIN</replaceable>|-a]</para>
      </entry>
      <entry colname="2">
       <para>
	Freeze tmem pools
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>tmem-shared-auth [<replaceable>DOMAIN</replaceable>|-a]
       [-u[=<replaceable>UUID</replaceable>]
       [-A[=<replaceable>AUTH</replaceable>]</para>
      </entry>
      <entry colname="2">
       <para>
	De/authenticate shared tmem pool
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>tmem-freeable</para>
      </entry>
      <entry colname="2">
       <para>
	Get information about how much freeable memory (MB) is in-use by tmem
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>getenforce</para>
      </entry>
      <entry colname="2">
       <para>
	Determine if the FLASK security module is loaded and enforcing its policy
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
     <row>
      <entry colname="1">
       <para>setenforce <option>&lt;1|0|Enforcing|Permissive&gt;</option></para>
      </entry>
      <entry colname="2">
       <para>
	Enable or disable enforcing of the FLASK access controls. The default
	is permissive and can be changed using the flask_enforcing option on
	the hypervisor's command line
       </para>
      </entry>
      <entry colname="3"><para></para></entry>
     </row>
    </tbody>
   </tgroup>
  </table>
 </sect2>

 <sect2 id="sec.xmvsxl.removed">
  <title>Removed Options</title>
  <remark>
   aginies 2014/08/05: if possible a solution must be provided for all removed options
  </remark>
  <para>
   List of options no more available with the <command>xl</command> command
   and solutions if available.
  </para>
  <sect3 id="sec.xmvsxl.removed.domain">
   <title>Domain Management</title>
   <para>The list of Domain management removed command and their
   replacement.</para>
   <itemizedlist>
    <listitem><para>(-) log</para></listitem>
    <listitem>
     <para>(-) delete</para>
     <note><title>now you can use this command:</title>
     <para><command>virsh undefine</command></para></note>
    </listitem>
    <listitem><para>(-) new</para></listitem>
    <listitem><para>(-) start</para></listitem>
    <listitem>
     <para>(-) dry-run</para>
     <note><title>now you can use this command:</title>
     <para><command>xl <option>-N</option></command></para></note>
    </listitem>
    <listitem><para>(-) reset</para></listitem>
    <listitem><para>(-) domstate</para></listitem>
    <listitem><para>(-) serve</para></listitem>
    <listitem><para>(-) resume <replaceable>DOMAIN</replaceable> <replaceable>OPTIONS</replaceable></para></listitem>
    <listitem><para>(-) suspend <replaceable>DOMAIN</replaceable></para>
    <note>
     <title>libvirt equivalence:</title>
     <para><command>virsh managedsave</command></para>
    </note>
    </listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.removed.devices">
   <title>Attach/Detach Devices</title>
   <para>
    All <option>add</option> and <option>detach</option> options are not yet
    available with XL toolstack.
   </para>
   <itemizedlist>
    <listitem><para>(-) usb-add</para></listitem>
    <listitem><para>(-) usb-del</para></listitem>
    <listitem><para>(-) scsi-attach</para></listitem>
    <listitem><para>(-) scsi-detach</para></listitem>
    <listitem><para>(-) scsi-list</para></listitem>
    <listitem><para>(-) usb-attach</para></listitem>
    <listitem><para>(-) usb-detach</para></listitem>
    <listitem><para>(-) usb-list</para></listitem>
    <listitem><para>(-) usb-list-assignable-devices</para></listitem>
    <listitem><para>(-) usb-hc-create</para></listitem>
    <listitem><para>(-) usb-hc-destroy</para></listitem>
    <listitem><para>(-) pci-list-assignable-devices</para></listitem>
    <listitem><para>(-) block-configure</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.removed.net">
   <title>Network Management</title>
   <para></para>
   <itemizedlist>
    <listitem><para>(-) network2-attach</para></listitem>
    <listitem><para>(-) network2-detach</para></listitem>
    <listitem><para>(-) network2-list</para></listitem>
    <listitem><para>(-) vtpm-list</para></listitem>
    <listitem><para>(-) vnet-list</para></listitem>
    <listitem><para>(-) vnet-create</para></listitem>
    <listitem><para>(-) vnet-delete</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.removed.cpu">
   <title>CPU Management</title>
   <para></para>
   <itemizedlist>
    <listitem><para>(-) cpupool-new</para></listitem>
    <listitem><para>(-) cpupool-start</para></listitem>
    <listitem><para>(-) cpupool-delete</para></listitem>
    <listitem><para>(-) tmem-destroy</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.removed.policy">
   <title>Policy Management</title>
   <para></para>
   <itemizedlist>
    <listitem><para>(-) setpolicy</para></listitem>
    <listitem><para>(-) dumppolicy</para></listitem>
    <listitem><para>(-) resetpolicy</para></listitem>
    <listitem><para>(-) getpolicy</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.removed.label">
   <title>Label Management</title>
   <para></para>
   <itemizedlist>
    <listitem><para>(-) labels</para></listitem>
    <listitem><para>(-) addlabel</para></listitem>
    <listitem><para>(-) rmlabel</para></listitem>
    <listitem><para>(-) getlabel</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.removed.others">
   <title>Others</title>
   <para></para>
   <itemizedlist>
    <listitem><para>(-) resources</para></listitem>
    <listitem><para>(-) shell</para></listitem>
    <listitem><para>(-) change-vnc-passwd</para></listitem>
   </itemizedlist>
  </sect3>
 </sect2>
 <sect2 id="sec.xmvsxl.changed">
  <title>Changed Options</title>
  <para></para>
  <sect3 id="sec.xmvsxl.changed.create">
   <title>xl create</title>
   <para>(*) create <replaceable>CONFIG_FILE</replaceable>
   <replaceable>OPTIONS </replaceable> <replaceable>VARS</replaceable></para>
   <note>
    <title>libvirt equivalence:</title>
   <para><command>virsh
   <option>console</option></command></para>
   </note>
   <itemizedlist>
    <listitem><para>-q, --quiet</para></listitem>
    <listitem><para>-p, --paused</para></listitem>
    <listitem><para>-c, --console_autoconnect</para></listitem>
    <listitem><para>-n, --dryrun</para></listitem>
    <listitem><para>(*) -f=<replaceable>FILE</replaceable>, --defconfig=<replaceable>FILE</replaceable>: Use the given configuration file.</para></listitem>
    <listitem><para>(-) --help_config</para></listitem>
    <listitem><para>(-) --path</para></listitem>
    <listitem><para>(-) -F=<replaceable>FILE</replaceable>, --config=<replaceable>FILE</replaceable>: Use the given SXP formatted configuration script.</para></listitem>
    <listitem><para>(-) -x, --xmldryrun: XML dry run.</para></listitem>
    <listitem><para>(-) -s, --skipdtd: Skip DTD checking - skips checks on XML before creating.</para></listitem>
    <listitem><para>(+) -V, --vncviewer</para></listitem>
    <listitem><para>(+) -A, --vncviewer-autopass</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.console">
   <title>xl console</title>
   <para>(*) console <replaceable>OPTIONS</replaceable>
   <replaceable>DOMAIN</replaceable></para>
   <note>
    <title>libvirt equivalence:</title>
   <para><command>virsh <option>console</option></command></para>
   </note>
   <itemizedlist>
    <listitem><para>-n <replaceable>NUM</replaceable></para></listitem>
    <listitem><para>(+) -t [pv|serial]: Connect to a PV console or connect to
    an emulated serial console. PV consoles are the only consoles available
    for PV domains while HVM domains can have both.
    </para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.info">
   <title>xl info</title>
   <para>(*) info</para>
   <itemizedlist>
    <listitem><para>-n, --numa</para></listitem>
    <listitem><para>(-) -c, --config: List Xend configuration parameters</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.dump">
   <title>xl dump-core</title>
   <para>(*) dump-core <replaceable>DOMAIN</replaceable> <replaceable>FILENAME</replaceable></para>
   <itemizedlist>
    <listitem><para>(-) -L, --live: Dump core without pausing the domain.</para></listitem>
    <listitem><para>(-) -C, --crash: Crash domain after dumping core.</para></listitem>
    <listitem><para>(-) -R, --reset: Reset domain after dumping core.</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.list">
   <title>xl list</title>
   <para>(*) list [options] <replaceable>DOMAIN</replaceable></para>
   <itemizedlist>
    <listitem><para>-l, --long</para></listitem>
    <listitem><para>(-) --label</para></listitem>
    <listitem><para>(-) --state=<replaceable>STATE</replaceable></para></listitem>
    <listitem><para>(+) -Z, --context: Also prints the security labels.</para></listitem>
    <listitem><para>(+) -v, --verbose: Also prints the domain UUIDs, the
    shutdown reason and security labels.</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.mem">
   <title>xl mem-*</title>
   <para></para>
   <itemizedlist>
    <listitem><para>(*) mem-max domain-id mem: appending <option>t</option> for terabytes,
    <option>g</option> for gigabytes, <option>m</option> for
    megabytes,<option>k</option> for kilobytes and <option>b</option> for bytes.</para></listitem>
    <listitem><para>(*) mem-set <replaceable>DOMAIN_ID</replaceable> <replaceable>MEM</replaceable></para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.migrate">
   <title>xl migrate</title>
   <para>(*) migrate <replaceable>OPTIONS</replaceable>
   <replaceable>DOMAIN</replaceable> <replaceable>HOST</replaceable></para>
   <note>
    <title>libvirt equivalence:</title>
    <para><command>virsh migrate --live hvm-sles11-qcow2 xen+<replaceable>CONNECTOR</replaceable>://<replaceable>USER</replaceable>@<replaceable>IP_ADDRESS</replaceable>/</command></para>
   </note>
   <itemizedlist>
    <listitem><para>(-) -l, --live</para></listitem>
    <listitem><para>(-) -r, --resource Mbs: Set maximum Mbs allowed for migrating the domain.</para></listitem>
    <listitem><para>(-) -c, --change_home_server</para></listitem>
    <listitem><para>(-) --max_iters=<replaceable>MAX_ITERS</replaceable>: Number of iterations before final suspend (default:30).</para></listitem>
    <listitem><para>(-) --max_factor=<replaceable>MAX_FACTOR</replaceable>: Max amount of memory to transfer before final suspend(default: 3*RAM).</para></listitem>
    <listitem><para>(-) --min_remaining=<replaceable>MIN_REMAINING</replaceable>: Number of dirty pages before final suspend (default:50).</para></listitem>
    <listitem><para>(-) --abort_if_busy: Abort migration instead of doing final suspend.</para></listitem>
    <listitem><para>(-) --log_progress: Log progress of migration to <filename>xend.log</filename></para></listitem>
    <listitem><para>(-) -s, --ssl</para></listitem>
    <listitem><para>(+) -s <replaceable>SSHCOMMAND</replaceable>: Use &lt;sshcommand&gt; instead of ssh.</para></listitem>
    <listitem><para>(+) -e: On the new host, do not wait in the background (on &lt;host&gt;) for the death of the domain.</para></listitem>
    <listitem><para>(+) -C config: Send &lt;config&gt; instead of config file from creation.</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.management">
   <title>Domain management</title>
   <para>(*) reboot <replaceable>OPTIONS</replaceable> <replaceable>DOMAIN</replaceable></para>
   <itemizedlist>
    <listitem><para>(-) -a, --all</para></listitem>
    <listitem><para>(-) -w, --wait</para></listitem>
    <listitem><para>(+) -F</para></listitem>
   </itemizedlist>
   <para>(*) save <replaceable>OPTIONS</replaceable> <replaceable>DOMAIN</replaceable> <replaceable>CHECK_POINT_FILE</replaceable> <replaceable>CONFIG_FILE</replaceable></para>
   <itemizedlist>
    <listitem><para>(+) -c: Leave domain running after creating the
    snapshot.</para></listitem>
   </itemizedlist>
   <para>(*) restore <replaceable>OPTIONS</replaceable>
   <replaceable>CONFIG_FILE</replaceable> <replaceable>CHECK_POINT_FILE</replaceable></para>
   <itemizedlist>
    <listitem><para>-p</para></listitem>
    <listitem><para>(+) -e: Do not wait in the background for the death of
    the domain on the new host.</para></listitem>
    <listitem><para>(+) -d: Enable debug messages.</para></listitem>
    <listitem><para>(+) -V, --vncviewer</para></listitem>
    <listitem><para>(+) -A, --vncviewer-autopass</para></listitem>
   </itemizedlist>
   <para>(*) shutdown <replaceable>OPTIONS</replaceable> <replaceable>DOMAIN</replaceable></para>
   <itemizedlist>
    <listitem><para>-w, --wait</para></listitem>
    <listitem><para>(-) -a</para></listitem>
    <listitem><para>(-) -R</para></listitem>
    <listitem><para>(-) -H</para></listitem>
    <listitem><para>(+) -F</para></listitem>
   </itemizedlist>
   <para>(*) trigger <replaceable>DOMAIN</replaceable>
   &lt;nmi|reset|init|power|sleep|s3resume&gt; <replaceable>VCPU</replaceable> : Only
   available for HVM domains.</para>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.sched">
   <title>xl sched-*</title>
   <para>(*) sched-credit <replaceable>OPTIONS</replaceable></para>
   <itemizedlist>
    <listitem><para>-d <replaceable>DOMAIN</replaceable>, --domain=<replaceable>DOMAIN</replaceable></para></listitem>
    <listitem><para>-w <replaceable>WEIGHT</replaceable>, --weight=<replaceable>WEIGHT</replaceable></para></listitem>
    <listitem><para>-c <replaceable>CAP</replaceable>, --cap=<replaceable>CAP</replaceable></para></listitem>
    <listitem><para>(+) -p <replaceable>CPUPOOL</replaceable>, --cpupool=<replaceable>CPUPOOL</replaceable>: Restrict output to domains in the specified cpupool.</para></listitem>
    <listitem><para>(+) -s, --schedparam: Specify to list or set pool-wide scheduler parameters.</para></listitem>
    <listitem><para>(+) -t <replaceable>TSLICE</replaceable>, --tslice_ms=<replaceable>TSLICE</replaceable>: Timeslice tells the scheduler how long to allow VMs to run before pre-empting.</para></listitem>
    <listitem><para>(+) -r <replaceable>RLIMIT</replaceable>, --ratelimit_us=<replaceable>RLIMIT</replaceable>: Ratelimit attempts to
    limit the number of schedules per second.</para></listitem>
   </itemizedlist>
   <para>(*) sched-credit2 <replaceable>OPTIONS</replaceable></para>
   <itemizedlist>
    <listitem><para>-d <replaceable>DOMAIN</replaceable>, --domain=<replaceable>DOMAIN</replaceable></para></listitem>
    <listitem><para>-w <replaceable>WEIGHT</replaceable>, --weight=<replaceable>WEIGHT</replaceable></para></listitem>
    <listitem><para>(+) -p <replaceable>CPUPOOL</replaceable>, --cpupool=<replaceable>CPUPOOL</replaceable></para></listitem>
   </itemizedlist>
   <para>(*)sched-sedf <replaceable>OPTIONS</replaceable></para>
   <itemizedlist>
    <listitem><para>-p <replaceable>PERIOD</replaceable>, --period=<replaceable>PERIOD</replaceable></para></listitem>
    <listitem><para>-s <replaceable>SLICE</replaceable>, --slice=<replaceable>SLICE</replaceable></para></listitem>
    <listitem><para>-l <replaceable>LATENCY</replaceable>, --latency=<replaceable>LATENCY</replaceable></para></listitem>
    <listitem><para>-e <replaceable>EXTRA</replaceable>, --extra=<replaceable>EXTRA</replaceable></para></listitem>
    <listitem><para>-w <replaceable>WEIGHT</replaceable>, --weight=<replaceable>WEIGHT</replaceable></para></listitem>
    <listitem><para>(+) -c <replaceable>CPUPOOL</replaceable>, --cpupool=<replaceable>CPUPOOL</replaceable></para></listitem>
    <listitem><para>(+) -d <replaceable>DOMAIN</replaceable>, --domain=<replaceable>DOMAIN</replaceable></para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.cpu">
   <title>xl cpupool-*</title>
   <para>(*) cpupool-cpu-remove <replaceable>CPU_POOL</replaceable> &lt;CPU nr&gt;|node:&lt;node
   nr&gt;</para>
   <para>(*) cpupool-list [-c|--cpus] <replaceable>CPU_POOL</replaceable></para>
   <itemizedlist>
    <listitem><para>(-) -l, --long</para></listitem>
   </itemizedlist>
   <para>(*) cpupool-cpu-add <replaceable>CPU_POOL</replaceable> cpu-nr|node:node-nr</para>
   <para>(*) cpupool-create <replaceable>OPTIONS</replaceable> <replaceable>CONFIG_FILE</replaceable> [Variable=Value ...]</para>
   <itemizedlist>
    <listitem><para>-f <replaceable>FILE</replaceable>, --defconfig=<replaceable>FILE</replaceable></para></listitem>
    <listitem><para>-n, --dryrun</para></listitem>
    <listitem><para>(-) --help_config</para></listitem>
    <listitem><para>(-) --path=<replaceable>PATH</replaceable></para></listitem>
    <listitem><para>(-) -F=<replaceable>FILE</replaceable>, --config=<replaceable>FILE</replaceable></para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.attach">
   <title>pci and block</title>
   <para>(*) pci-detach [-f] <replaceable>DOMAIN_ID</replaceable> &lt;BDF&gt;</para>
   <itemizedlist>
    <listitem><para>(+) -f: If -f is specified, <command>xl</command> is going to forcefully
    remove the device even without guest's collaboration.</para></listitem>
   </itemizedlist>
   <para>(*) block-attach <replaceable>DOMAIN</replaceable>
   &lt;disk-spec-component(s)&gt; : example: <command>xl block-attach sles11-pv
   format=raw, vdev=hdc, access=ro, devtype=cdrom,
   target=/share/isos/SLES-11-SP3-DVD-i586-GM-DVD1.iso</command></para>
   <para>(*) block-list <replaceable>DOMAIN_ID</replaceable></para>
   <itemizedlist>
    <listitem><para>(-) -l|--long</para></listitem>
   </itemizedlist>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.net">
   <title>Network</title>
   <para>(*) network-list <replaceable>DOMAIN(s)</replaceable></para>
   <itemizedlist>
    <listitem><para>(-) -l|--long</para></listitem>
   </itemizedlist>
   <para>(*) network-detach <replaceable>DOMAIN_ID</replaceable> devid|mac: Alternatively the mac
   address can be used to select the virtual interface to detach.
   </para>
  </sect3>
  <sect3 id="sec.xmvsxl.changed.tmem">
   <title>tmem-set</title>
   <para>xl tmem-set <replaceable>DOMAIN_ID</replaceable> <replaceable>OPTIONS</replaceable></para>
   <itemizedlist>
    <listitem>
     <para>(-) weight=<replaceable>WEIGHT</replaceable></para>
     <note><title>now you can use this option:</title>
     <para><command>xl -w <replaceable>WEIGHT</replaceable></command></para></note>
    </listitem>
    <listitem>
     <para>(-) cap=<replaceable>CAP</replaceable></para>
     <note><title>now you can use this option:</title>
     <para><command>xl -c <replaceable>CAP</replaceable></command></para></note>
    </listitem>
    <listitem>
    <para>(-) compress=<replaceable>COMPRESS</replaceable></para>
    <note><title>now you can use this option:</title>
    <para><command>xl -p <replaceable>COMPRESS</replaceable></command></para></note>
    </listitem>
   </itemizedlist>
  </sect3>
 </sect2>
 <sect2 id="sec.xmvsxl.new">
  <title>New Options</title>
  <para></para>
  <itemizedlist>
   <listitem><para>
    <emphasis>(+) migrate-receive</emphasis>
   </para></listitem>
   <listitem><para>
    <emphasis>(+) config-update <replaceable>DOMAIN</replaceable>
    <replaceable>CONFIG_FILE</replaceable> <replaceable>OPTIONS</replaceable> <replaceable>VARS</replaceable></emphasis>: Update a running domain's saved
    configuration, used when rebuilding the domain after reboot.
   </para></listitem>
   <!-- (+) remus [options] DOMAIN [&lt;host&gt;]
   Remus support in xl is still in experimental(proof-of-concept)
   phase. -->
   <listitem><para>
    <emphasis>(+) sharing <replaceable>DOMAIN</replaceable></emphasis>: List count of shared
    pages.List specifically for that domain. Otherwise, list for all
    domains.
   </para></listitem>
   <listitem><para>
    <emphasis>(+) vm-list</emphasis>
   </para></listitem>
   <listitem><para>
    <emphasis>(+) cpupool-rename <replaceable>CPU_POOL</replaceable> <replaceable>NEWNAME</replaceable></emphasis>
   </para></listitem>
   <listitem><para>
    <emphasis>(+) cpupool-numa-split</emphasis>: Splits up the machine into one cpu-pool per
    numa node.
   </para></listitem>
   <listitem><para>
    <emphasis>(+) cd-insert <replaceable>DOMAIN</replaceable> &lt;VirtualDevice&gt;
    &lt;type:path&gt;</emphasis>: Only works with HVM domains.
   </para></listitem>
   <listitem><para>
    <emphasis>(+) cd-eject <replaceable>DOMAIN</replaceable>
    &lt;VirtualDevice&gt;</emphasis>Only works with HVM domains.
   </para></listitem>
   <listitem><para>
    <emphasis>(+) pci-assignable-list</emphasis>
   </para></listitem>
   <listitem><para>
    <emphasis>(+) pci-assignable-add &lt;BDF&gt;</emphasis>
   </para></listitem>
   <listitem><para>
    <emphasis>(+) pci-assignable-remove <replaceable>OPTIONS</replaceable> &lt;BDF&gt;</emphasis>
   </para></listitem>
   <listitem><para>
    <emphasis>(+) loadpolicy <replaceable>POLICY_FILE</replaceable></emphasis>
   </para></listitem>
  </itemizedlist>
 </sect2>
</sect1>
