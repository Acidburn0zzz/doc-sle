<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
                 type="text/xml"
                 title="Profiling step"?>
<!DOCTYPE article
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>

<article xml:id="art.transactional" version="5.0" xml:lang="en"
 xmlns="http://docbook.org/ns/docbook"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xlink="http://www.w3.org/1999/xlink">
<?suse-quickstart color="suse"?>
 <title>Transactional Server Quick Start</title>
 <subtitle>&productname; &productnumber;</subtitle>
 <info>
  <productnumber>&productnumber;</productnumber><productname>&productname;</productname><date>
<?dbtimestamp format="B d, Y"?></date>
  <abstract>
   <para>
    &abstract_transactional_server;
   </para>
  </abstract>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:bugtracker></dm:bugtracker>
   <dm:translation>no</dm:translation>
  </dm:docmanager>
 </info>
<?suse-quickstart color="suse"?>

 <sect1 xml:id="sec.transactional-updates">
  <title>Transactional Updates</title>

  <para>
   For security and stability reasons, the operating system and application
   should always be up-to-date. While with a single machine you can keep the
   system up-to-date quite easily by running several commands, in a
   large-scale cluster the update process can become a real burden. Thus
   transactional automatic updates have been introduced. Transactional updates
   can be characterized as follows:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     They are atomic.
    </para>
   </listitem>
   <listitem>
    <para>
     They do not influence the running system.
    </para>
   </listitem>
   <listitem>
    <para>
     They can be rolled back.
    </para>
   </listitem>
   <listitem>
    <para>
     The system needs to be rebooted to activate the changes.
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Transactional updates are managed by the <command>transactional-update</command>
   script, which is called once a day. The script checks if any updates are
   available. If there are any updates to be applied, a new snapshot of the root
   file system is created in the background and is updated from the release
   channels. All updates released to this point are applied. The running
   filesystem/machine state is left untouched.
  </para>
  <para>
   The new snapshot, once completely updated, is then marked as active and will
   be used as the new default after the next reboot of the system.
  </para>
  <note>
   <title>Snapshot Activation</title>
   <para>
    For each "transaction" performed by <command>transactional-updates</command>
    a new snapshot is generated and requires a reboot to incorporate the
    changes. If another transaction is run before the reboot, only the latest
    snapshot is used and changes might be lost. If you perform manual updates
    or installation on your servers, please make sure to reboot after each
    transaction. <!-- FIXME Refer to:
     <xref linkend="sec.transactional-updates.installation.manual"/>. -->
   </para>
  </note>

  <!-- FIXME
  <para>
   &dashboard; will show a list of nodes that have new updates
   available for use. The cluster administrator then uses &dashboard; to reboot
   the nodes to the new snapshots to ensure the health of services and
   configuration. &dashboard; uses <command>salt</command> to safely disable
   services on the nodes, apply new snapshots, rewrite configurations and then
   bring the services and nodes back up.
  </para>
  -->
 </sect1>


 <xi:include href="common_copyright_quick.xml"/>
 <xi:include href="common_gfdl1.2_i.xml"/>
</article>
