<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="zypper.xml" version="5.0" xml:id="sec.zypper">
 <title>Verwenden von zypper</title><info>
      <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
        <dm:bugtracker>
          </dm:bugtracker>
        <dm:translation>Ja</dm:translation>
      </dm:docmanager>
    </info>
    <indexterm xml:id="idx.zypper" class="startofrange"> <primary>zypper</primary> </indexterm> <indexterm> <primary>Kommandos</primary> <secondary>zypper</secondary> </indexterm> <indexterm> <primary>Software</primary> <secondary>Verwalten</secondary> <tertiary>Kommandozeile</tertiary> </indexterm>

 <para>
  Zypper ist ein Kommandozeilen-Paketmanager für Installation, Aktualisierung und Löschung von Paketen sowie zum Verwalten von Repositorys. Damit können Sie Software per Fernzugriff oder mithilfe von Shell-Skripten verwalten.
 </para>

 <sect2 xml:id="sec.zypper.usage">
  <title>Allgemeine Verwendung</title>
  <para>
   Die allgemeine Syntax von Zypper sieht wie folgt aus:
  </para>
<screen>zypper <option>[--global-options]</option> <replaceable>command</replaceable> <option> [--command-options]</option> <option>[arguments]</option>
  ...</screen>
  <para>
   Die Komponenten in Klammern sind nicht erforderlich. Eine Liste der allgemeinen Optionen und aller Befehle erhalten Sie mit <command>zypper help</command>. Wenn Sie Hilfe zu einem bestimmten Befehl abrufen möchten, geben Sie <command>zypper help </command>Befehl<replaceable/> ein.
  </para>
  <para>
   Am einfachsten führen Sie Zypper aus, indem Sie seinen Namen gefolgt von einem Kommando eingeben. Geben Sie z. B. für das Anwenden aller erforderlichen Patches auf den Systemtyp das Folgende ein:
  </para>
<screen>zypper patch</screen>
  <para>
   Zusätzlich können Sie aus einer oder mehreren globalen Optionen wählen, indem Sie sie direkt vor dem Kommando eingeben. Beispielspielsweise führt <option>--non-interactive</option> das Kommando ohne Eingabeaufforderungen aus (und wendet automatisch die Standardantworten an):
  </para>
<screen>zypper --non-interactive patch</screen>
  <para>
   Um die spezifischen Optionen für ein bestimmtes Kommando zu benutzen, geben Sie sie direkt nach dem Kommando ein. Beispielsweise werden mit <option>--auto-agree-with-licenses</option> alle erforderlichen Patches auf das System angewendet, ohne eine Bestätigung von Lizenzen anzufordern (sie werden automatisch akzeptiert):
  </para>
<screen>zypper patch --auto-agree-with-licenses</screen>
  <para>
   Einige Kommandos erfordern ein oder mehrere Argumente. Bei der Verwendung des Installationskommandos z. B. müssen Sie angeben, welche Pakete zu installieren sind:
  </para>
<screen>zypper install mplayer</screen>
  <para>
   Einige Optionen erfordern auch ein Argument. Das folgende Kommando listet alle bekannten Muster auf:
  </para>
<screen>zypper search -t pattern</screen>
  <para>
   Sie können alle obigen Optionen kombinieren. Beispielsweise werden mit dem folgenden Kommando <systemitem>aspell-de</systemitem>- und <systemitem>aspellfr</systemitem>-Pakete mithilfe des <literal>factory</literal>-Repositorys installiert und ausführlich angegeben:
  </para>
<screen>zypper -v install --from factory aspell-de aspell-fr</screen>
  <para>
   Mit der Option <option>--from</option> bleiben alle Repositorys aktiviert (damit alle Abhängigkeiten aufgelöst werden können), wenn das Paket aus dem angegebenen Repository abrufen wird.
  </para>
  <para>
   Die meisten Zypper-Kommandos besitzen eine <literal>dry-run</literal>-Option, die eine Simulation des angegebenen Kommandos ausführt. Sie kann für Tests verwendet werden.
  </para>
<screen>zypper remove --dry-run MozillaFirefox</screen>
  <para>
   Zypper unterstützt die globale Option <option>--userdata <replaceable>Zeichenkette</replaceable></option>. Bei dieser Option können Sie eine Zeichenkette angeben, die dann in die Protokolle und Plugins von Zypper geschrieben wird (z. B. in das Btrfs-Plugin). Hiermit können Sie Transaktionen in Protokolldateien kennzeichnen.
  </para>
<screen>zypper --userdata <replaceable>string</replaceable> patch</screen>
 </sect2>

 <sect2 xml:id="sec.zypper.softman">
  <title>Installieren und Entfernen von Software mit zypper</title>
  <para>
   Verwenden Sie zur Installation oder Löschung von Paketen die folgenden Kommandos:
  </para>
<screen>zypper install <replaceable>package_name</replaceable>
zypper remove <replaceable>package_name</replaceable></screen>
  <para>
   Zypper kennt verschiedene Möglichkeiten, Pakete für die Installations- und Löschkommandos anzugeben.
  </para>
  <variablelist>
   <varlistentry>
    <term>nach dem genauen Namen (und der Versionsnummer) des Pakets</term>
    <listitem>
<screen>zypper install MozillaFirefox</screen>
     <para>
      oder
     </para>
<screen>zypper install MozillaFirefox-3.5.3</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>nach dem Repository-Alias und Paketnamen</term>
    <listitem>
<screen>zypper install mozilla:MozillaFirefox</screen>
     <para>
      Dabei ist <literal>mozilla</literal> der Alias des Repositorys, aus dem installiert werden soll.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>nach dem Paketnamen mit Wildcards</term>
    <listitem>
     <para>
      Das folgende Kommando installiert alle Pakete, deren Name mit <quote>Moz</quote> beginnt. Verwenden Sie diese Möglichkeit mit äußerster Umsicht, vor allem beim Entfernen von Paketen.
     </para>
     <screen>zypper install 'Moz*'</screen>
     <tip>
      <title>Entfernen aller <filename>-debuginfo</filename> -Pakete</title>
      <para>
       Beim Debuggen eines Problems müssen Sie unter Umständen zahlreiche <filename>-debuginfo</filename>-Pakete temporär installieren, mit denen Sie weitere Informationen zu den ausgeführten Prozessen erhalten. Nach Abschluss der Debugging-Sitzung bereinigen Sie die Umgebung wie folgt:
      </para>
      <screen>zypper remove '*-debuginfo'</screen>
     </tip>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>nach Funktion</term>
    <listitem>
     <para>
      Wenn Sie beispielsweise ein Perl-Modul installieren möchten, ohne den Namen des Pakets zu kennen, sind Funktionen praktisch:
     </para>
<screen>zypper install firefox</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>nach Funktion und/oder Architektur und/oder Version</term>
    <listitem>
     <para>
      Zusammen mit einer Funktion können Sie eine Architektur (wie <literal>x86_64</literal>) und/oder eine Version angeben. Der Version muss ein Operator vorangehen: <literal>&lt;</literal> (kleiner als), <literal>&lt;=</literal> (kleiner oder gleich), <literal>=</literal> (gleich), <literal>&gt;=</literal> (größer oder gleich), <literal>&gt;</literal> (größer als).
     </para>
<screen>zypper install 'firefox.x86_64'
zypper install 'firefox&gt;=3.5.3'
zypper install 'firefox.x86_64&gt;=3.5.3'</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>nach dem Pfad der RPM-Datei</term>
    <listitem>
     <para>
      Sie können einen lokalen oder entfernten Pfad zu einem Paket angeben:
     </para>
<screen>zypper install /tmp/install/MozillaFirefox.rpm
zypper install http://download.opensuse.org/repositories/mozilla/SUSE_Factory/x86_64/MozillaFirefox-3.5.3-1.3.x86_64.rpm</screen>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   Zum gleichzeitigen Installieren und Entfernen von Paketen verwenden Sie die Modifikatoren <literal>+/-</literal>. Zum gleichzeitigen Installieren von <systemitem>emacs</systemitem> und Entfernen von <systemitem>vim</systemitem> verwenden Sie Folgendes:
  </para>
<screen>zypper install emacs -vim
</screen>
  <para>
   Zum gleichzeitigen Entfernen von <systemitem>emacs</systemitem> und Installieren von <systemitem>vim</systemitem> verwenden Sie Folgendes:
  </para>
<screen>zypper remove emacs +vim
</screen>
  <para>
   Um zu vermeiden, dass der mit <literal>-</literal> beginnende Paketname als Kommandooption interpretiert wird, verwenden Sie ihn stets als das zweite Argument. Falls dies nicht möglich ist, stellen Sie ihm <literal>--</literal> voran:
  </para>
<screen>zypper install -emacs +vim       # Wrong
zypper install vim -emacs        # Correct
zypper install -- -emacs +vim    # same as above
zypper remove emacs +vim         # same as above</screen>
  <para>
   Wenn Sie (zusammen mit einem bestimmten Paket) alle Pakete entfernen möchten, die nach dem Entfernen dieses Pakets nicht mehr erforderlich sind, verwenden Sie die Option <option>--clean-deps</option>:
  </para>
<screen>zypper rm <replaceable>package_name</replaceable> --clean-deps</screen>
  <para>
   Standardmäßig verlangt Zypper eine Bestätigung, bevor ein ausgewähltes Paket installiert oder entfernt wird oder wenn ein Problem auftritt. Mit der Option <option>--non-interactive</option> können Sie dieses Verhalten deaktivieren. Die Option muss jedoch vor dem tatsächlich auszuführenden Kommando (<command>Installieren</command>, <command>Entfernen</command> oder <command>Patch</command>) angegeben werden, wie im Folgenden:
  </para>
<screen>zypper <option>--non-interactive</option> install <replaceable>package_name</replaceable></screen>
  <para>
   Mit dieser Option kann Zypper auch in Skripten und Cron-Aufträgen verwendet werden.
  </para>

  <warning>
   <title>Entfernen Sie keine obligatorischen Systempakete.</title>
   <para>
    Entfernen Sie keine Pakete wie <systemitem>glibc</systemitem>, <systemitem>zypper</systemitem>, <systemitem>kernel</systemitem> oder ähnliche Pakete. Diese Pakete sind obligatorisch für das System. Wenn sie entfernt werden, kann das System instabil werden oder seine Funktion komplett einstellen.
   </para>
  </warning>
  <sect3 xml:id="sec.zypper.softman.sources">
   <title>Installieren und Herunterladen von Quellpaketen</title>
   <para>
    <indexterm> <primary>Software</primary> <secondary>installieren</secondary> <tertiary>Quellpaket</tertiary> </indexterm> Wenn Sie das entsprechende Quellpaket eines Pakets installieren möchten, verwenden Sie:
   </para>
<screen>zypper source-install <replaceable>package_name</replaceable></screen>
   <para>
    Dieses Kommando installiert auch die Build-Abhängigkeiten des angegebenen Pakets. Wenn Sie dies nicht wünschen, fügen Sie den Schalter <literal>-D</literal> hinzu. Um nur die Build-Abhängigkeiten zu installieren, verwenden Sie <literal>-d</literal>.
   </para>
<screen>zypper source-install -D <replaceable>package_name</replaceable> # source package only
zypper source-install -d <replaceable>package_name</replaceable> # build dependencies only</screen>
   <para>
    Natürlich gelingt dies nur, wenn das Repository mit den Quellpaketen in Ihrer Repository-Liste aktiviert ist (es wird standardmäßig hinzugefügt, aber nicht aktiviert). Details zur Repository-Verwaltung finden Sie unter <xref linkend="sec.zypper.instrepo"/>.
   </para>
   <para>
    Eine Liste aller Quellpakete, die in Ihren Repositorys verfügbar sind, können Sie wie folgt abrufen:
   </para>
<screen>zypper search -t srcpackage</screen>
   <para>
    Wenn Sie möchten, können Sie die Quellpakete für alle installierten Pakete in ein lokales Verzeichnis herunterladen. Zum Herunterladen von Quellpaketen verwenden Sie:
   </para>
<screen>zypper source-download</screen>
   <para>
    Das Standardverzeichnis für heruntergeladene Dateien lautet <filename>/var/cache/zypper/source-download</filename>. Mit der Option <option>--directory</option> können Sie dieses Verzeichnis ändern. Sollen nur fehlende oder überzählige Pakete angezeigt werden, ohne Pakete herunterzuladen oder zu löschen, verwenden Sie die Option <option>--status</option>. Zum Löschen überzähliger Pakete verwenden Sie die Option <option>--delete</option>. Soll das Löschen deaktiviert werden, verwenden Sie die Option <option>--no-delete</option>.
   </para>
  </sect3>
  <sect3 xml:id="sec.zypper.softman.pluscontent">
   <title>Installieren von Paketen aus deaktivierten Repositorys</title>
   <para>
    In der Regel können Sie nur Pakete aus aktivierten Repositorys installieren. Mit der Option <option>--plus-content <replaceable>tag</replaceable></option> können Sie bestimmte Repositorys aktualisieren, temporär während der aktuellen Zypper-Sitzung aktivieren und nach Abschluss der Sitzung wieder deaktivieren.
   </para>
   <para>
    Sollen beispielsweise Repositorys mit zusätzlichen <filename>-debuginfo</filename>- oder <filename>-debugsource</filename>-Paketen aktiviert werden, geben Sie <option>--plus-content debug</option> ein. Diese Option kann mehrfach angegeben werden.
   </para>
   <para>
    Sollen diese „Debug“-Repositorys vorübergehend deaktiviert werden, damit Sie ein bestimmtes <filename>-debuginfo</filename>-Paket installieren können, geben Sie die Option wie folgt an:
   </para>
   <screen>zypper --plus-content debug install "debuginfo(build-id)=eb844a5c20c70a59fc693cd1061f851fb7d046f4"</screen>
   <para>
    Die Zeichenkette <literal>build-id</literal> wird von <command>gdb</command> für fehlende debuginfo-Pakete zurückgegeben.
   </para>
  </sect3>
  <sect3 xml:id="sec.zypper.softman.util">
   <title>Dienstprogramme</title>
   <para>
    Wenn Sie prüfen möchten, ob alle Abhängigkeiten noch erfüllt sind, und fehlende Abhängigkeiten reparieren möchten, verwenden Sie:
   </para>
<screen>zypper verify</screen>
   <para>
    Zusätzlich zu Abhängigkeiten, die erfüllt sein müssen, <quote>empfehlen</quote> einige Pakete andere Pakete. Diese empfohlenen Pakete werden installiert, wenn sie aktuell verfügbar und installierbar sind. Falls empfohlene Pakete erst nach der Installation des empfehlenden Pakets (durch Hinzufügen zusätzlicher Pakete oder zusätzlicher Hardware) zur Verfügung steht, verwenden Sie das folgende Kommando: 
   </para>
<screen>zypper install-new-recommends</screen>
   <para>
    Dieses Kommando ist nach dem Anschließen einer Webcam oder eines WLAN-Geräts äußerst nützlich. Hiermit werden Treiber für das Gerät und die zugehörige Software installiert, sofern verfügbar. Die Treiber und die zugehörige Software sind nur dann installierbar, wenn bestimmte Hardware-Abhängigkeiten erfüllt sind.
   </para>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.zypper.softup">
  <title>Aktualisieren von Software mit zypper</title>
  <para>
   Es gibt drei verschiedene Möglichkeiten, Software mithilfe von Zypper zu installieren: durch Installation von Patches, durch Installation einer neuen Version eines Pakets oder durch Aktualisieren der kompletten Distribution. Letzteres wird mit <command>zypper dist-upgrade</command> erreicht. Die Aufrüstung von <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> wird in <xref linkend="cha.update.sle"/> erläutert.
  </para>
  <sect3 xml:id="sec.zypper.softup.patch">
   <title>Installieren von Patches</title>
   <para>
    Um alle offiziell herausgegebenen Patches für Ihr System zu installieren, führen Sie Folgendes aus:
   </para>
<screen>zypper patch</screen>
   <para>
    In diesem Fall werden alle in Ihren Repositorys vorhandenen Patches auf Relevanz überprüft und bei Bedarf installiert. Nach dem Registrieren Ihrer <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>-Installation wird Ihrem System ein offizielles Aktualisierungs-Repository hinzugefügt, das solche Patches enthält. Das obige Kommando ist alles, was Sie brauchen, um sie bei Bedarf anzuwenden.
   </para>
   <para>
    Wenn ein zu installierender Patch das Neubooten des Systems erfordert, erhalten Sie eine entsprechende Warnmeldung, bevor der Patch installiert wird.
   </para>
   <para>
    Zypper kennt drei unterschiedliche Kommandos, um die Verfügbarkeit von Patches abzufragen:
   </para>
   <variablelist>
    <varlistentry>
     <term><command>zypper patch-check</command>
     </term>
     <listitem>
      <para>
       Listet die Anzahl der benötigten Patches auf (Patches, die für Ihr System gelten, aber noch nicht installiert sind)
      </para>
<screen><prompt>tux &gt; </prompt>sudo zypper patch-check
Loading repository data...
Reading installed packages...
5 patches needed (1 security patch)</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>zypper list-patches</command>
     </term>
     <listitem>
      <para>
       Listet alle benötigten Patches auf (Patches, die für Ihr System gelten, aber noch nicht installiert sind)
      </para>
<screen><?dbsuse-fo font-size="0.40em"?>

<prompt>tux &gt; </prompt>sudo zypper list-patches
Loading repository data...
Reading installed packages...
 
Repository     | Name        | Version | Category | Status  | Summary
---------------+-------------+---------+----------+---------+---------
SLES12-Updates | SUSE-2014-8 | 1       | security | needed  | openssl: Update to OpenSSL 1.0.1g
</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><command>zypper patches</command>
     </term>
     <listitem>
      <para>
       Listet alle für <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase> verfügbaren Patches auf, unabhängig davon, ob sie bereits installiert sind oder für Ihre Installation gelten.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    Sie können auch Patches für bestimmte Probleme auflisten und installieren. Dazu geben Sie das Kommando <command>zypper list-patches</command> mit den folgenden Optionen ein:
   </para>
   <variablelist>
    <varlistentry>
     <term><option>--bugzilla[=<replaceable>Nummer</replaceable>] </option>
     </term>
     <listitem>
      <para>
       Listet alle erforderlichen Patches für Probleme mit Bugzilla auf. Optional können Sie eine Fehlernummer angeben, wenn nur Patches für diesen bestimmten Fehler aufgeführt werden sollen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><option>--cve[=<replaceable>number</replaceable>]</option>
     </term>
     <listitem>
      <para>
       Listet alle erforderlichen Patches für CVE-Probleme (Common Vulnerabilities and Exposures, häufige Sicherheitslücken und Gefährdungen) auf bzw. nur Patches für eine bestimmte CVE-Nummer, sofern angegeben.
      </para>
      <screen>zypper list-patches --cve</screen>
      <para>
       Listet alle „erforderlichen“ Patches auf, denen eine CVE-Nummer zugewiesen ist.
      </para>
      <screen>zypper list-patches --all --cve
Issue | No.           | Patch             | Category    | Severity  | Status    
------+---------------+-------------------+-------------+-----------+-----------
cve   | CVE-2015-0287 | SUSE-SLE-Module.. | recommended | moderate  | needed    
cve   | CVE-2014-3566 | SUSE-SLE-SERVER.. | recommended | moderate  | not needed
[...]</screen>
      <para>
       Listet alle Patches auf, denen eine CVE-Nummer zugewiesen ist.
      </para>
      <screen>zypper list-patches --all --cve=CVE-2015-4477,CVE-2014-3639
Issue | No.           | Patch    | Category    | Severity  | Inter. | Status    
------+---------------+----------+-------------+-----------+--------+-----------
cve   | CVE-2014-3639 | 2014-558 | security    | moderate  | reboot | not needed
cve   | CVE-2014-3639 | 2014-558 | security    | moderate  | reboot | not needed
cve   | CVE-2015-4477 | 2015-547 | security    | important | ---    | needed    
cve   | CVE-2014-3639 | 3240     | recommended | moderate  | ---    | not needed
cve   | CVE-2014-3639 | 3240     | recommended | moderate  | ---    | not needed</screen>
<para>
 Listet „alle“ Patches mit der Nummer CVE-2015-4477 oder CVE-2014-3639 auf.
</para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    Zum Installieren eines Patches für ein bestimmtes Bugzilla- oder CVE-Problem verwenden Sie die folgenden Kommandos:
   </para>
<screen>zypper patch --bugzilla=<replaceable>number</replaceable></screen>
   <para>
    oder
   </para>
<screen>zypper patch --cve=<replaceable>number</replaceable></screen>
   <para>
    Zum Installieren eines Sicherheits-Patches mit der CVE-Nummer <literal>CVE-2010-2713</literal> führen Sie beispielsweise Folgendes aus:
   </para>
<screen>zypper patch --cve=CVE-2010-2713</screen>
  </sect3>
  <sect3 xml:id="sec.zypper.softup.update">
   <title>Installieren neuer Paketversionen</title>
   <para>
    Wenn ein Repository neue Pakete enthält, aber keine Patches zur Verfügung stellt, zeigt <command>zypper patch</command> keinerlei Wirkung. Zum Aktualisieren aller installierten Pakete mit verfügbaren neuen Versionen (unter Beibehaltung der Systemintegrität) verwenden Sie Folgendes:
   </para>
<screen>zypper update</screen>
   <para>
    Zum Aktualisieren einzelner Pakete geben Sie das Paket mit dem Aktualisierungs- oder Aktualisierungskommando an:
   </para>
<screen>zypper update <replaceable>package_name</replaceable>
zypper install <replaceable>package_name</replaceable></screen>
   <para>
    Mit dem Kommando kann eine Liste mit allen neuen installierbaren Paketen abgerufen werden.
   </para>
<screen>zypper list-updates</screen>
   <para>
    Dieses Kommando listet ausschließlich Pakete auf, die die folgenden Kriterien erfüllen:
   </para>
   <itemizedlist mark="bullet" spacing="normal">
    <listitem>
     <para>
      stammt von demselben Hersteller wie das bereits installierte Paket,
     </para>
    </listitem>
    <listitem>
     <para>
      umfasst Repositorys mit mindestens derselben Priorität wie das bereits installierte Paket,
     </para>
    </listitem>
    <listitem>
     <para>
      ist installierbar (alle Abhängigkeiten wurden erfüllt).
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Eine Liste <emphasis>aller</emphasis> neuen verfügbaren Pakete (unabhängig davon, ob diese Pakete installierbar sind oder nicht) erhalten Sie mit Folgendem:
   </para>
<screen>zypper list-updates --all</screen>
   <para>
    Um festzustellen, warum ein neues Paket nicht installiert werden kann, verwenden Sie das Kommando <command>zypper install</command> oder <command>zypper update</command>, wie oben beschrieben.
   </para>
  </sect3>

 </sect2>





 <sect2 xml:id="sec.zypper.instrepo">
  <title>Verwalten von Repositorys mit Zypper</title>
  <para>
   Sämtliche Installations- und Patch-Kommandos von Zypper sind von der Liste der bekannten Repositorys abhängig. Um alle dem System bekannten Repositorys aufzulisten, verwenden Sie das Kommando:
  </para>
<screen>zypper repos</screen>
  <para>
   Das Ergebnis ist der folgenden Ausgabe ähnlich:
  </para>
  <example xml:id="ex.zypper.repos">
   <title>Zypper – Liste der bekannten Repositorys</title>
<screen><?dbsuse-fo font-size="0.60em"
?>


# | Alias        | Name          | Enabled | Refresh
--+--------------+---------------+---------+--------
1 | SLEHA-12-GEO | SLEHA-12-GEO  | Yes     | No     
2 | SLEHA-12     | SLEHA-12      | Yes     | No     
3 | SLES12       | SLES12        | Yes     | No 
  </screen>
  </example>
  <para>
   Bei der Angabe von Repositorys kann in verschiedenen Kommandos ein Alias, URI oder eine Repository-Nummber aus der Ausgabe des Kommandos <command>zypper repos</command> verwendet werden. Ein Repository-Alias ist eine Kurzform des Repository-Namens, der in Repository-Kommandos verwendet wird. Beachten Sie dabei, dass sich die Repository-Nummern nach dem Bearbeiten der Repository-Liste ändern können. Der Alias ändert sich nie von alleine.
  </para>
  <para>
   Standardmäßig werden Details wie URI oder Priorität des Repositorys nicht angezeigt. Verwenden Sie das folgende Kommando, um alle Details aufzulisten:
  </para>
<screen>zypper repos -d</screen>
  <sect3 xml:id="sec.zypper.instrepo.add">
   <title>Hinzufügen von Repositorys</title>
   <para>
    Zum Hinzufügen eines Repository, führen Sie Folgendes aus:
   </para>
<screen>zypper addrepo <replaceable>URI</replaceable> <replaceable>alias</replaceable></screen>
   <para>
    <replaceable>URI</replaceable> kann ein Internet-Repository, eine Netzwerkressource, ein Verzeichnis oder eine CD oder DVD sein (für Details siehe <link xlink:href="http://en.opensuse.org/openSUSE:Libzypp_URIs"/>). Der <replaceable>Alias</replaceable> ist ein Kürzel und eine eindeutige Kennung für das Repository. Sie können ihn frei wählen, vorausgesetzt, er ist eindeutig. Zypper gibt eine Warnung aus, wenn Sie einen Alias angeben, der bereits verwendet wird. 
   </para>
  </sect3>
  <sect3 xml:id="sec.zypper.instrepo.rm">
   <title>Entfernen von Repositorys</title>
   <para>
    Wenn ein Repository von der Liste entfernt werden soll, verwenden Sie das Kommando <command>zypper removerepo</command> zusammen mit dem Alias oder der Nummer des zu löschenden Repositorys. Um beispielsweise das Repository <literal>SLEHA-12-GEO</literal> aus <xref linkend="ex.zypper.repos"/> zu entfernen, verwenden Sie eines der folgenden Kommandos:
   </para>
<screen>zypper removerepo 1
zypper removerepo "SLEHA-12-GEO"</screen>
  </sect3>
  <sect3 xml:id="sec.zypper.instrepo.mofify">
   <title>Ändern von Repositorys</title>
   <para>
    Aktivieren oder deaktivieren von Repositorys mit <command>zypper modifyrepo</command>. Mit diesem Kommando können Sie auch die Eigenschaften des Repositorys (z. B. Aktualisierungsverhalten, Name oder Priorität) ändern. Das folgende Kommando aktiviert das Repository mit dem Namen <literal>updates</literal>, aktiviert die automatische Aktualisierung und stellt seine Priorität auf 20 ein:
   </para>
<screen>zypper modifyrepo -er -p 20 'updates'</screen>
   <para>
    Das Ändern von Repositorys ist nicht auf ein einziges Repository beschränkt – Sie können auch Gruppen bearbeiten:
   </para>
   <simplelist>
    <member><option>-a</option>: alle Repositorys</member> <member><option>-l</option>: lokale Repositorys</member> <member><option>-t</option>: entfernte Repositorys</member> <member><option>-m <replaceable>TYPE</replaceable></option>: Repositorys eines bestimmten Typs (wobei <replaceable>TYPE</replaceable> eines der folgenden sein kann: <literal>http</literal>, <literal>https</literal>, <literal>ftp</literal>, <literal>cd</literal>, <literal>dvd</literal>, <literal>dir</literal>, <literal>file</literal>, <literal>cifs</literal>, <literal>smb</literal>, <literal>nfs</literal>, <literal>hd</literal>, <literal>iso</literal>) </member>
   </simplelist>
   <para>
    Zum Umbenennen eines Repository-Alias verwenden Sie das Kommando <literal>renamerepo</literal>. Das folgende Beispiel ändert den Alias von <literal>Mozilla Firefox</literal> in <literal>firefox</literal>:
   </para>
<screen>zypper renamerepo 'Mozilla Firefox' firefox</screen>
  </sect3>
 </sect2>

 <sect2 xml:id="sec.zypper.query">
  <title>Abfragen von Repositorys und Paketen mit Zypper</title>
  <para>
   Zypper bietet zahlreiche Methoden zur Abfrage von Repositorys oder Paketen. Verwenden Sie die folgenden Kommandos, um eine Liste aller verfügbaren Produkte, Muster, Pakete oder Patches zu erhalten:
  </para>
<screen>zypper products
zypper patterns
zypper packages
zypper patches</screen>
  <para>
   Zur Abfrage aller Repositorys auf bestimmte Pakete verwenden Sie <literal>search</literal>. Es gilt für Paketnamen oder optional für Paketzusammenfassungen und -beschreibungen. Zeichenketten, die mit <literal>/</literal> umschlossen sind, werden als reguläre Ausdrücke behandelt. Standardmäßig unterscheidet der Suchvorgang keine Groß- und Kleinschreibung.
  </para>
  <variablelist>
   <varlistentry>
    <term>Einfache Suche nach einem Paketnamen mit dem Namensbestandteil <literal>fire</literal>
    </term>
    <listitem>
<screen>zypper search "fire"</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Einfache Suche nach dem genauen Paketnamen <literal>MozillaFirefox</literal>
    </term>
    <listitem>
<screen>zypper search --match-exact "MozillaFirefox"</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Suche auf Paketbeschreibungen und -zusammenfassungen ausdehnen</term>
    <listitem>
<screen>zypper search -d fire</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Nur Pakete anzeigen, die nicht bereits installiert sind</term>
    <listitem>
<screen>
      zypper search -u fire
     </screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Pakete anzeigen, die die Zeichenkette <literal>fir</literal> enthalten, nicht gefolgt von <literal>e</literal>
    </term>
    <listitem>
     <para>
      zypper se "/fir[^e]/"
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
  <para>
   Verwenden Sie zur Suche nach Paketen, die eine spezielle Funktion bieten, das Kommando <literal>what-provides</literal>. Wenn Sie beispielsweise wissen möchten, welches Paket das Perl-Modul <literal>SVN::Core</literal> bereitstellt, verwenden Sie das folgende Kommando:
  </para>
<screen>zypper what-provides 'perl(SVN::Core)'</screen>
  <para>
   Um einzelne Pakete abzufragen, verwenden Sie <command>info</command> mit einem exakten Paketnamen als Argument. Damit werden detaillierte Informationen zu einem Paket angezeigt. Um auch die Elemente abzurufen, die für das Paket erforderlich/empfohlen sind, verwenden Sie die Optionen <option>--requires</option> und <option>--recommends</option>:
  </para>
<screen>zypper info --requires MozillaFirefox</screen>
  <para>
   Das <literal>what-provides<replaceable>-Paket</replaceable></literal> ähnelt dem <command>rpm -q --whatprovides</command><replaceable>-Paket</replaceable>; RPM kann jedoch nur Abfragen für die RPM-Datenbank (Datenbank mit allen installierten Paketen) durchführen. zypper informiert Sie auf der anderen Seite über Anbieter der Möglichkeit von einem beliebigen Repository, nicht nur von denen, die installiert sind.
  </para><indexterm class="endofrange" startref="idx.zypper"/>
 </sect2>

 <sect2 xml:id="sec.zypper.configure">
  <title>Konfigurieren von Zypper</title>
  <para>
   Zypper ist nunmehr mit einer Konfigurationsdatei ausgestattet, in der Sie die Arbeitsweise von Zypper dauerhaft verändern können (wahlweise systemweit oder benutzerspezifisch). Für systemweite Änderungen bearbeiten Sie <filename>/etc/zypp/zypper.conf</filename>. Für benutzerspezifische Änderungen bearbeiten Sie <filename>~/.zypper.conf</filename>. Falls <filename>~/.zypper.conf</filename> noch nicht vorhanden ist, können Sie <filename>/etc/zypp/zypper.conf</filename> als Schablone verwenden. Kopieren Sie diese Datei in <filename>~/.zypper.conf</filename>, und passen Sie sie nach Ihren Anforderungen an. Weitere Informationen zu den verfügbaren Optionen finden Sie in den Kommentaren in der Datei.
  </para>
 </sect2>

 <sect2 xml:id="sec.zypper.trouble">
  <title>Fehlersuche</title>
  <para>
   Falls Probleme beim Zugriff auf Pakete von konfigurierten Repositorys auftreten (beispielsweise kann Zypper ein bestimmtes Paket nicht finden, obwohl Sie wissen, dass sich dieses Paket in einem der Repositorys befindet), kann schon das Aktualisieren der Repositorys Abhilfe bringen:
  </para>
<screen>zypper refresh</screen>
  <para>
   Falls das nicht wirkt, probieren Sie Folgendes:
  </para>
<screen>zypper refresh -fdb</screen>
  <para>
   Damit wird eine vollständige Aktualisierung und ein kompletter Neuaufbau der Datenbank erzwungen, außerdem ein erzwungener Download von Roh-Metadaten.
  </para>
 </sect2>

 <sect2 xml:id="sec.zypper.rollback">
  <title>Zypper-Rollback-Funktion im Btrfs-Dateisystem</title>
  <para>
   Wenn das Btrfs-Dateisystem in der Stammpartition verwendet wird und <command>Snapper</command> installiert ist, ruft Zypper automatisch <command>Snapper</command> (über ein von <command>Snapper</command> installiertes Skript) auf, wenn an das Dateisystem Änderungen übermittelt werden, um entsprechende Dateisystem-Snapshots zu erstellen. Diese Snapshots können verwendet werden, um alle durch Zypper vorgenommenen Änderungen rückgängig zu machen. Weitere Informationen finden Sie in <xref linkend="cha.snapper"/>.
  </para>
 </sect2>

 <sect2 xml:id="sec.zypper.more">
  <title>Weiterführende Informationen</title>
  <para>
   Wenn Sie weitere Informationen zur Verwaltung von Software benötigen, geben Sie den Befehl <command>zypper help</command> <command/><replaceable/> in die Befehlszeile ein oder rufen Sie die man-Seite <systemitem>zypper(8)</systemitem> auf. Eine ausführliche Kommandoreferenz mit <literal>Tricks</literal> zu den wichtigsten Kommandos sowie Informationen zur Verwendung von Zypper in Skripten und Anwendungen finden Sie unter <link xlink:href="http://en.opensuse.org/SDB:Zypper_usage"/>. Eine Liste der Software-Änderungen in der aktuellen <phrase role="productname"><phrase os="sled">SUSE Linux Enterprise Desktop</phrase></phrase>-Version finden Sie unter <link xlink:href="http://en.opensuse.org/openSUSE:Zypper versions"/>.
  </para>
 </sect2>
</sect1>
